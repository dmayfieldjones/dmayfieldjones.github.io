"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2989],{12989:(e,t,i)=>{i.d(t,{getMultiVariantFeaturesAutorun:()=>l});var n=i(54262),s=i(2124),a=i(23806),r=i(37725),o=i(2848);function l(e){(0,o.addDisposer)(e,(0,r.autorun)(async()=>{try{let t=(0,n.getContainingView)(e);if(!t.initialized||!e.statsReadyAndRegionNotTooLarge)return;let{rpcManager:i}=(0,n.getSession)(e),{sources:s,mafFilter:r,adapterConfig:l}=e;if(!s)return;let u=(0,a.getRpcSessionId)(e),c=await i.call(u,"MultiVariantGetSimplifiedFeatures",{regions:t.dynamicBlocks.contentBlocks,sources:s,mafFilter:r,sessionId:u,adapterConfig:l});(0,o.isAlive)(e)&&e.setFeatures(c.map(e=>new n.SimpleFeature(e)))}catch(t){!(0,s.isAbortException)(t)&&(0,o.isAlive)(e)&&(console.error(t),(0,n.getSession)(e).notifyError(`${t}`,t))}},{delay:1e3}))}}}]);
//# sourceMappingURL=2989.20f8fdf44528caef.js.map