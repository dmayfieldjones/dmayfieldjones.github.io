"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3881],{3881:(e,o,t)=>{t.d(o,{drawXY:()=>f});var r=t(88753),l=t(15715),a=t(18532),n=t(64294),c=t(13188);function f(e,o){let{features:t,bpPerPx:f,regions:m,scaleOpts:i,height:p,config:s,ticks:u,displayCrossHatches:h,offset:x=0,colorCallback:d,inverted:g,stopToken:S}=o,w=m[0],k=(w.end-w.start)/f,C=p-2*x,v=(0,r.readConfObject)(s,"filled"),M=(0,r.readConfObject)(s,"clipColor"),b=(0,r.readConfObject)(s,"summaryScoreMode"),T=(0,r.readConfObject)(s,"bicolorPivotValue"),y=(0,r.readConfObject)(s,"minSize"),R=(0,c.getScale)({...i,range:[0,C],inverted:g}),P=(0,c.getOrigin)(i.scaleType),N=R.domain(),O=N[0],j=N[1],_=e=>(0,l.clamp)(C-(R(e)||0),0,C)+x,E=e=>_(P)-_(e),H=e=>v?E(e):Math.max(y,1),I=!1,V=Number.NEGATIVE_INFINITY,Y=[],z=O<T&&j>T,A=performance.now();if("whiskers"===b){let o,r;for(let m of(A=performance.now(),t.values())){performance.now()-A>400&&((0,n.checkStopToken)(S),A=performance.now());let[t,i]=(0,l.featureSpanPx)(m,w,f);if(m.get("summary")){let n=Math.max(i-t+.3,y),f=m.get("maxScore"),p=d(m,f),s=z?p:p===o?r:r=(function(e,o){let t=e.toHsl(),r=1.4*t.l;return(0,a.colord)({...t,l:(0,l.clamp)(r,0,100)})})((0,a.colord)(p),0).toHex();(0,c.fillRectCtx)(t,_(f),n,H(f),e,s),o=p}}for(let m of(r=void 0,o=void 0,A=performance.now(),t.values())){performance.now()-A>400&&((0,n.checkStopToken)(S),A=performance.now());let[t,i]=(0,l.featureSpanPx)(m,w,f),p=m.get("score"),s=m.get("maxScore"),u=m.get("minScore"),h=m.get("summary"),x=d(m,p),g=z&&h?x===o?r:r=(0,a.colord)(d(m,s)).mix((0,a.colord)(d(m,u))).toString():x,k=Math.max(i-t+.3,y);Math.floor(t)!==Math.floor(V)&&(Y.push(m),V=t),I=I||p<O||p>j,(0,c.fillRectCtx)(t,_(p),k,H(p),e,g),o=x}for(let m of(r=void 0,o=void 0,A=performance.now(),t.values())){performance.now()-A>400&&((0,n.checkStopToken)(S),A=performance.now());let[t,i]=(0,l.featureSpanPx)(m,w,f);if(m.get("summary")){let n=m.get("minScore"),f=d(m,n),p=Math.max(i-t+.3,y),s=z?f:f===o?r:r=(function(e,o){let t=e.toHsl(),r=.6*t.l;return(0,a.colord)({...t,l:(0,l.clamp)(r,0,100)})})((0,a.colord)(f),0).toHex();(0,c.fillRectCtx)(t,_(n),p,H(n),e,s),o=f}}}else for(let o of(A=performance.now(),t.values())){performance.now()-A>400&&((0,n.checkStopToken)(S),A=performance.now());let[t,r]=(0,l.featureSpanPx)(o,w,f);Math.floor(t)!==Math.floor(V)&&(Y.push(o),V=t);let a=o.get("score"),m=d(o,a);I=I||a<O||a>j;let i=Math.max(r-t+.3,y);if("max"===b){let r=o.get("summary")?o.get("maxScore"):a;(0,c.fillRectCtx)(t,_(r),i,H(r),e,m)}else if("min"===b){let r=o.get("summary")?o.get("minScore"):a;(0,c.fillRectCtx)(t,_(r),i,H(r),e,m)}else(0,c.fillRectCtx)(t,_(a),i,H(a),e,m)}if(e.save(),I)for(let o of(e.fillStyle=M,A=performance.now(),t.values())){performance.now()-A>400&&((0,n.checkStopToken)(S),A=performance.now());let[t,r]=(0,l.featureSpanPx)(o,w,f),a=r-t+.3,m=o.get("score");m>j?(0,c.fillRectCtx)(t,x,a,2,e):m<O&&"log"!==i.scaleType&&(0,c.fillRectCtx)(t,p,a,2,e)}if(e.restore(),h)for(let o of(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.5)",u.values))e.beginPath(),e.moveTo(0,Math.round(_(o))),e.lineTo(k,Math.round(_(o))),e.stroke();return{reducedFeatures:Y}}}}]);
//# sourceMappingURL=3881.afb126c3f666e7b9.js.map