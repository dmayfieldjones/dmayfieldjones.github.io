"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8075],{75728:(e,t,n)=>{n.d(t,{A:()=>m});var l=n(12115),r=n(53394),o=n(54262),a=n(67072),i=n(31448);function s(e,t){var n,l,r,o;let a;let s=t?(0,i.h)(t):void 0,u=e.get("start"),c=e.get("end"),d=e.get("strand"),m=e.get("mate"),v=e.get("refName"),g=0,f=0,E=0,h=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),i=null!==(l=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==l?l:c;a=null!==(o=null===(r=null==t?void 0:t.CHR2)||void 0===r?void 0:r[0])&&void 0!==o?o:v,g=i,f=i-1,c=u+1}else if(null==s?void 0:s.MatePosition){let e=s.MatePosition.split(":");h="left"===s.MateDirection?1:-1,E="left"===s.Join?-1:1,g=+e[1],f=+e[1]-1,a=e[0]}return{k1:{refName:v,start:u,end:c,strand:d,mateDirection:h},k2:null!=m?m:{refName:a||"unknown",end:g,start:f,mateDirection:E}}}let u=(0,l.lazy)(()=>n.e(6141).then(n.bind(n,86141))),c=(0,a.observer)(function({model:e,feature:t,alt:n,assembly:a,view:i}){var c,d;let[m,v]=(0,l.useState)(!1),{height:g}=e,{k1:f,k2:E}=s(t,n),h=(0,l.useRef)(null),k=(0,r.getConf)(e,"color",{feature:t,alt:n}),p=a.getCanonicalRefName(f.refName)||f.refName,b=a.getCanonicalRefName(E.refName)||E.refName,N=f.start,x=E.start,C=null===(c=i.bpToPx({refName:p,coord:N}))||void 0===c?void 0:c.offsetPx,M=null===(d=i.bpToPx({refName:b,coord:x}))||void 0===d?void 0:d.offsetPx;if(void 0!==C&&void 0!==M){let r=Math.abs((M-C)/2),a=Math.min(g,r),c=C-i.offsetPx,d=M-i.offsetPx,p=m?"black":k;return r>1?l.createElement(l.Fragment,null,l.createElement("path",{d:`M ${c} 0 C ${c} ${a}, ${d} ${a}, ${d} 0`,ref:h,...(0,o.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{v(!1)},onMouseOver:()=>{v(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),f.mateDirection?l.createElement("line",{...(0,o.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{v(!1)},onMouseOver:()=>{v(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*f.mateDirection,y1:1.5,y2:1.5}):null,E.mateDirection?l.createElement("line",{...(0,o.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{v(!1)},onMouseOver:()=>{v(!0)},onClick:()=>{e.selectFeature(t)},x1:d,x2:d+20*E.mateDirection,y1:1.5,y2:1.5}):null,m?l.createElement(l.Suspense,{fallback:null},l.createElement(u,{contents:function(e,t){var n;let{k1:l,k2:r}=s(e,t);return[e.get("name"),e.get("id"),(0,o.assembleLocString)(l),(0,o.assembleLocString)(r),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter(e=>!!e).join(" - ")}(t,n)})):null):null}return null}),d=(0,a.observer)(function({model:e,exportSVG:t,children:n}){let{height:r}=e,a=Math.round((0,o.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:l.createElement("svg",{width:a,height:r},n)}),m=(0,a.observer)(function({model:e,exportSVG:t}){let n=(0,o.getContainingView)(e),r=(0,o.getSession)(e),{assemblyManager:a}=r,{features:i}=e,s=a.get(n.assemblyNames[0]);return s?l.createElement(d,{model:e,exportSVG:t},null==i?void 0:i.map(t=>{var o;let a=t.get("ALT");return null!==(o=null==a?void 0:a.map(o=>l.createElement(c,{key:`${t.id()}-${o}`,session:r,feature:t,alt:o,view:n,model:e,assembly:s})))&&void 0!==o?o:l.createElement(c,{key:t.id(),session:r,feature:t,view:n,model:e,assembly:s})})):null})},8075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var l=n(12115),r=n(67072),o=n(75728),a=n(47204),i=n(54262),s=n(24664),u=n(31924),c=n(32043),d=n(33177),m=n(47821),v=n(97771);let g=(0,l.lazy)(()=>Promise.resolve().then(n.t.bind(n,79940,23))),f=(0,v.makeStyles)()(e=>({loading:{backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${e.palette.action.disabledBackground} 5px, ${e.palette.action.disabledBackground} 10px)`,position:"absolute",bottom:0,height:50,width:300,right:0,pointerEvents:"none",textAlign:"center"}})),E=(0,r.observer)(function({model:e,children:t}){let{error:n,regionTooLarge:r}=e;return n?l.createElement(s.LW,{message:`${n}`,severity:"error",action:l.createElement(l.Fragment,null,l.createElement(d.A,{title:"Reload"},l.createElement(m.A,{"data-testid":"reload_button",onClick:()=>{e.reload()}},l.createElement(u.A,null))),l.createElement(d.A,{title:"Show stack trace"},l.createElement(m.A,{onClick:()=>{(0,i.getSession)(e).queueDialog(t=>[g,{onClose:t,error:e.error}])}},l.createElement(c.A,null))))}):r?e.regionCannotBeRendered():l.createElement(h,{model:e},t)}),h=(0,r.observer)(function({model:e,children:t}){let{loading:n}=e;return l.createElement("div",null,t,n?l.createElement(k,{model:e}):null)}),k=(0,r.observer)(function({model:e}){let{classes:t}=f(),{message:n}=e;return l.createElement("div",{className:t.loading},l.createElement(a.LoadingEllipses,{message:n}))}),p=(0,r.observer)(function({model:e,exportSVG:t}){return l.createElement(E,{model:e},l.createElement(o.A,{model:e,exportSVG:t}))})},31924:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(22471),r=n(95155);let o=(0,l.A)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},32043:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(22471),r=n(95155);let o=(0,l.A)((0,r.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")}}]);
//# sourceMappingURL=8075.35d96a1695a08ac0.js.map