"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9467],{79467:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(29269),s=a(15715),n=a(31232),i=a(41431),d=a(96885);class l extends r.BaseFeatureDataAdapter{async configure(){var e;let t=await (null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,n.ObservableCreate)(async a=>{var r;let n=await this.configure(),l=e.end+1e4,f=Math.max(0,e.start-1e4);if(l<0||f>l){a.complete();return}let o=n.getFeatures({...e,start:f,end:l},t),u=(null===(r=(await (0,i._)(o.pipe((0,d.$)())))[0])||void 0===r?void 0:r.get("seq"))||"",c=this.getConf("search"),h=this.getConf("searchForward"),g=this.getConf("searchReverse"),m=this.getConf("caseInsensitive"),p=RegExp(c,`g${m?"i":""}`);if(c){if(h)for(let t of u.matchAll(p)){let r=f+t.index,n=f+t.index+t[0].length;(0,s.doesIntersect2)(r,n,e.start,e.end)&&a.next(new s.SimpleFeature({uniqueId:`${this.id}-${r}-${t[0]}-pos`,refName:e.refName,start:r,end:n,name:t[0],strand:1}))}if(g)for(let t of(0,s.revcom)(u).matchAll(p)){let r=l-t.index,n=l-t.index-t[0].length;(0,s.doesIntersect2)(n,r,e.start,e.end)&&a.next(new s.SimpleFeature({uniqueId:`${this.id}-${n}-${t[0]}-neg`,refName:e.refName,start:n,end:r,name:t[0],strand:-1}))}}a.complete()})}freeResources(){}}}}]);
//# sourceMappingURL=9467.2c6fc2a8c51438ee.js.map