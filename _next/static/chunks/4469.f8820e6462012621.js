"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4469],{4469:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var a=t(12115),l=t(54262),o=t(88611),c=t(73518),r=t(79643),i=t(74905),s=t(29793),m=t(78443),u=t(67072),d=t(97771),p=t(47204),g=t(11453);let E=(0,u.observer)(function({connectionType:e,model:n,session:t}){let l=e.configEditorComponent||g.S;return a.createElement(a.Suspense,{fallback:a.createElement(p.LoadingEllipses,null)},a.createElement(l,{model:{target:n},session:t}))});var f=t(22471),v=t(95155);let C=(0,f.A)((0,v.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var h=t(19293),b=t(47821),k=t(80583);let y=(0,u.observer)(function({connectionTypeChoices:e,connectionType:n,setConnectionType:t}){let l=e[0];return(0,a.useEffect)(()=>{n||t(l)},[n,l,t]),a.createElement("form",{autoComplete:"off"},n?a.createElement(h.A,{value:n.name,label:"connectionType",helperText:n.description?a.createElement(a.Fragment,null,n.description,n.url?a.createElement(b.A,{href:n.url,rel:"noopener noreferrer",target:"_blank"},a.createElement(C,null)):null):null,select:!0,fullWidth:!0,onChange:n=>{t(e.find(e=>e.name===n.target.value))},variant:"outlined"},e.map(e=>a.createElement(k.A,{key:e.name,value:e.name},e.displayName||e.name))):null)}),N=(0,d.makeStyles)()(e=>({root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}})),S=["Select a Connection Type","Configure Connection"],A=(0,u.observer)(function({model:e}){let[n,t]=(0,a.useState)(),[u,d]=(0,a.useState)(),[p,g]=(0,a.useState)(0),{classes:f}=N(),v=(0,l.getSession)(e),{pluginManager:C}=(0,l.getEnv)(v),h=(0,a.useMemo)(()=>null==n?void 0:n.configSchema.create({connectionId:u},(0,l.getEnv)(e)),[u,n,e]);return a.createElement("div",{className:f.root},a.createElement(c.A,{className:f.stepper,activeStep:p,orientation:"vertical"},S.map(c=>a.createElement(r.A,{key:c},a.createElement(i.A,null,c),a.createElement(s.A,null,0===p?a.createElement(y,{connectionTypeChoices:C.getConnectionElements(),connectionType:n,setConnectionType:e=>{t(e),e&&d(`${e.name}-${Date.now()}`)}}):n&&h?a.createElement(E,{connectionType:n,model:h,session:v}):null,a.createElement("div",{className:f.actionsContainer},a.createElement(m.A,{disabled:0===p,onClick:()=>{g(p-1)},className:f.button},"Back"),a.createElement(m.A,{disabled:!(0===p&&n||1===p&&h),variant:"contained",color:"primary",onClick:()=>{if(p===S.length-1){if(h&&(0,o.M)(v)){let e=v.addConnectionConf(h);v.makeConnection(e)}else v.notify("No config model to add");(0,l.isSessionModelWithWidgets)(v)&&v.hideWidget(e)}else g(p+1)},className:f.button,"data-testid":"addConnectionNext"},p===S.length-1?"Connect":"Next")))))))})}}]);
//# sourceMappingURL=4469.f8820e6462012621.js.map