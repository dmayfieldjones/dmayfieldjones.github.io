"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9151],{89151:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(12115),l=a(47204),o=a(67072),i=a(19293),r=a(80583),s=a(99819),c=a(55089),m=a(93929),d=a(78443);let u=(0,o.observer)(function({adapterSelection:e,setAdapterSelection:t,adapterTypes:a}){return n.createElement(i.A,{value:e,variant:"outlined",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>{t(e.target.value)}},a.map(e=>n.createElement(r.A,{key:e,value:e},e)))}),E=(0,o.observer)(function({fastaLocation:e,setFastaLocation:t}){return n.createElement(n.Fragment,null,n.createElement(s.A,{severity:"warning",style:{margin:30}},"Note: use only relatively small files for this type, it is loaded into memory"),n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{t(e)}})))}),p=(0,o.observer)(function({fastaLocation:e,faiLocation:t,setFaiLocation:a,setFastaLocation:o}){return n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{o(e)}})),n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"faiLocation",location:t,setLocation:e=>{a(e)}})))}),A=(0,o.observer)(function({fastaLocation:e,faiLocation:t,gziLocation:a,setFaiLocation:o,setGziLocation:i,setFastaLocation:r}){return n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{r(e)}})),n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"faiLocation",location:t,setLocation:e=>{o(e)}})),n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"gziLocation",location:a,setLocation:e=>{i(e)}})))}),y=(0,o.observer)(function({twoBitLocation:e,chromSizesLocation:t,setTwoBitLocation:a,setChromSizesLocation:o}){return n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"twoBitLocation",location:e,setLocation:e=>{a(e)}})),n.createElement("div",null,n.createElement(l.FileSelector,{inline:!0,name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:t,setLocation:e=>{o(e)}})))}),v={uri:""},f=["IndexedFastaAdapter","BgzipFastaAdapter","UnindexedFastaAdapter","TwoBitAdapter"],b=(0,o.observer)(function({session:e,onClose:t}){let[a,l]=(0,n.useState)(""),[o,r]=(0,n.useState)(""),[s,b]=(0,n.useState)(f[0]),[h,g]=(0,n.useState)(v),[F,L]=(0,n.useState)(v),[S,C]=(0,n.useState)(v),[k,w]=(0,n.useState)(v),[x,z]=(0,n.useState)(v);return n.createElement(n.Fragment,null,n.createElement(c.A,null,n.createElement(i.A,{id:"assembly-name",label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:a,onChange:e=>{l(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-name"}}}),n.createElement(i.A,{id:"assembly-name",label:"Assembly display name",helperText:'(optional) A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:o,onChange:e=>{r(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-display-name"}}}),n.createElement(u,{adapterSelection:s,adapterTypes:f,setAdapterSelection:b}),"IndexedFastaAdapter"===s?n.createElement(p,{fastaLocation:h,faiLocation:F,setFaiLocation:L,setFastaLocation:g}):"UnindexedFastaAdapter"===s?n.createElement(E,{fastaLocation:h,setFastaLocation:g}):"TwoBitAdapter"===s?n.createElement(y,{twoBitLocation:k,chromSizesLocation:x,setTwoBitLocation:w,setChromSizesLocation:z}):n.createElement(A,{fastaLocation:h,gziLocation:S,faiLocation:F,setFaiLocation:L,setGziLocation:C,setFastaLocation:g})),n.createElement(m.A,null,n.createElement(d.A,{variant:"contained",color:"primary",onClick:()=>{""===a?e.notify("Can't create an assembly without a name"):(t(),e.addAssembly({name:a,displayName:o,sequence:{type:"ReferenceSequenceTrack",trackId:`${a}-${performance.now()}`,adapter:"IndexedFastaAdapter"===s?{type:"IndexedFastaAdapter",fastaLocation:h,faiLocation:F}:"BgzipFastaAdapter"===s?{type:"BgzipFastaAdapter",fastaLocation:h,faiLocation:F,gziLocation:S}:"UnindexedFastaAdapter"===s?{type:"UnindexedFastaAdapter",fastaLocation:h}:{type:"TwoBitAdapter",twoBitLocation:k,chromSizesLocation:x}}}),e.notify(`Added "${a}"`,"success"))}},"Submit"),n.createElement(d.A,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel")))});var h=a(11453);let g=(0,a(97771).makeStyles)()({container:{overflow:"auto",maxHeight:600}}),F=(0,o.observer)(function({assembly:e,onClose:t}){let{classes:a}=g();return n.createElement(n.Fragment,null,n.createElement(c.A,null,n.createElement("div",{className:a.container},e?n.createElement(h.S,{model:{target:e}}):n.createElement("div",null,"No assembly"))),n.createElement(m.A,null,n.createElement(d.A,{variant:"contained",onClick:()=>{t()}},"Back")))});var L=a(53394),S=a(77740),C=a(22471),k=a(95155);let w=(0,C.A)((0,k.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var x=a(450),z=a(47821),T=a(27742);let B=(0,o.observer)(function({onEditAssembly:e,onAddAssembly:t,onClose:a,session:l}){return n.createElement(n.Fragment,null,n.createElement(c.A,null,n.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.createElement(T.z,{rowHeight:25,columnHeaderHeight:35,hideFooter:l.assemblies.length<25,rows:l.assemblies.map(e=>({id:(0,L.readConfObject)(e,"name"),name:(0,L.readConfObject)(e,"name"),displayName:(0,L.readConfObject)(e,"displayName"),aliases:(0,L.readConfObject)(e,"aliases"),assembly:e})),columns:[{field:"name"},{field:"displayName"},{field:"aliases"},{field:"actions",renderCell:({row:t})=>{let{assembly:a,name:o}=t,i=!!l.sessionAssemblies.includes(a)||l.adminMode;return n.createElement(n.Fragment,null,n.createElement(z.A,{onClick:()=>{e(a)}},n.createElement(w,null)),n.createElement(z.A,{"data-testid":`${o}-delete`,disabled:!i,onClick:()=>{i&&(l.removeAssembly?l.removeAssembly(o):l.notify("Unable to find removeAssembly function"))}},n.createElement(x.A,null)))}}]}))),n.createElement(m.A,null,n.createElement(d.A,{color:"secondary",variant:"contained",onClick:()=>{a()}},"Close"),n.createElement(d.A,{variant:"contained",startIcon:n.createElement(S.A,null),onClick:()=>{t()}},"Add new assembly")))}),N=(0,o.observer)(function({session:e,onClose:t}){let[a,o]=(0,n.useState)(!1),[i,r]=(0,n.useState)();return n.createElement(l.Dialog,{open:!0,title:"Assembly manager",onClose:()=>{t()}},i?n.createElement(F,{assembly:i,onClose:()=>{r(void 0)}}):a?n.createElement(b,{session:e,onClose:()=>{o(!1)}}):n.createElement(B,{session:e,onClose:()=>{t()},onAddAssembly:()=>{o(!0)},onEditAssembly:e=>{r(e)}}))})},450:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(22471),l=a(95155);let o=(0,n.A)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=9151.e6bfbe8810927dff.js.map