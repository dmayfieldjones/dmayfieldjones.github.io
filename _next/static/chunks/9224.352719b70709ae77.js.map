{"version":3,"file":"static/chunks/9224.352719b70709ae77.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@mui/icons-material/esm/InfoOutlined.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPlugin.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPluginsList.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Check.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Person.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginCard.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/util.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginStoreWidget.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/ExpandMore.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Clear.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Lock.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LockIcon from '@mui/icons-material/Lock';\nimport { IconButton, ListItem, Tooltip, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst DeletePluginDialog = lazy(() => import('./DeletePluginDialog'));\nconst useStyles = makeStyles()(() => ({\n    lockedPluginTooltip: {\n        marginRight: '0.5rem',\n    },\n}));\nfunction LockedPlugin() {\n    const { classes } = useStyles();\n    return (_jsx(Tooltip, { className: classes.lockedPluginTooltip, title: \"This plugin was installed by an administrator, you cannot remove it.\", children: _jsx(LockIcon, {}) }));\n}\nconst InstalledPlugin = observer(function ({ plugin, model, }) {\n    const { pluginManager } = getEnv(model);\n    const session = getSession(model);\n    const { jbrowse, adminMode } = session;\n    const isSessionPlugin = isSessionWithSessionPlugins(session)\n        ? session.sessionPlugins.some(p => { var _a; return ((_a = pluginManager.pluginMetadata[plugin.name]) === null || _a === void 0 ? void 0 : _a.url) === p.url; })\n        : false;\n    return (_jsxs(ListItem, { children: [adminMode || isSessionPlugin ? (_jsx(IconButton, { \"data-testid\": `removePlugin-${plugin.name}`, onClick: () => {\n                    session.queueDialog(onClose => [\n                        DeletePluginDialog,\n                        {\n                            plugin: plugin.name,\n                            onClose: (name) => {\n                                if (name) {\n                                    const pluginMetadata = pluginManager.pluginMetadata[plugin.name];\n                                    if (adminMode) {\n                                        jbrowse.removePlugin(pluginMetadata);\n                                    }\n                                    else if (isSessionWithSessionPlugins(session)) {\n                                        session.removeSessionPlugin(pluginMetadata);\n                                    }\n                                }\n                                onClose();\n                            },\n                        },\n                    ]);\n                }, children: _jsx(CloseIcon, {}) })) : (_jsx(LockedPlugin, {})), _jsx(Typography, { children: plugin.name })] }, plugin.name));\n});\nexport default InstalledPlugin;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { List, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport InstalledPlugin from './InstalledPlugin';\nconst InstalledPluginsList = observer(function InstalledPluginsList({ pluginManager, model, }) {\n    const { plugins } = pluginManager;\n    const { filterText } = model;\n    const externalPlugins = plugins.filter(p => { var _a; return !((_a = pluginManager.pluginMetadata[p.name]) === null || _a === void 0 ? void 0 : _a.isCore); });\n    return (_jsx(List, { children: externalPlugins.length > 0 ? (externalPlugins\n            .filter(p => p.name.toLowerCase().includes(filterText.toLowerCase()))\n            .map(p => _jsx(InstalledPlugin, { plugin: p, model: model }, p.name))) : (_jsx(Typography, { children: \"No plugins currently installed\" })) }));\n});\nexport default InstalledPluginsList;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'Person');","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport AddIcon from '@mui/icons-material/Add';\nimport CheckIcon from '@mui/icons-material/Check';\nimport PersonIcon from '@mui/icons-material/Person';\nimport { Button, Card, CardActions, CardContent, Link, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    card: {\n        margin: '0.5em',\n    },\n    icon: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    bold: {\n        fontWeight: 600,\n    },\n    dataField: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    mr: {\n        marginRight: '0.5em',\n    },\n});\nconst PluginCard = observer(function PluginCard({ plugin, model, }) {\n    const { classes } = useStyles();\n    const session = getSession(model);\n    const { pluginManager } = getEnv(model);\n    const { runtimePluginDefinitions } = pluginManager;\n    const isInstalled = runtimePluginDefinitions.some(d => 'url' in d && d.url === plugin.url);\n    const [tempDisabled, setTempDisabled] = useState(false);\n    const { adminMode, jbrowse } = session;\n    const { name, authors, description } = plugin;\n    return (_jsxs(Card, { variant: \"outlined\", className: classes.card, children: [_jsxs(CardContent, { children: [_jsx(Typography, { variant: \"h5\", children: _jsx(Link, { href: `${plugin.location}#readme`, target: \"_blank\", rel: \"noopener\", children: plugin.name }) }), _jsxs(\"div\", { className: classes.dataField, children: [_jsx(PersonIcon, { className: classes.mr }), _jsx(Typography, { children: authors.join(', ') })] }), _jsx(Typography, { className: classes.bold, children: \"Description:\" }), _jsx(Typography, { children: description })] }), _jsx(CardActions, { children: _jsx(Button, { variant: \"contained\", disabled: isInstalled || tempDisabled, startIcon: isInstalled ? _jsx(CheckIcon, {}) : _jsx(AddIcon, {}), onClick: () => {\n                        if (adminMode) {\n                            jbrowse.addPlugin(plugin);\n                        }\n                        else if (isSessionWithSessionPlugins(session)) {\n                            session.addSessionPlugin(plugin);\n                        }\n                        else {\n                            session.notify('No way to install plugin');\n                        }\n                        setTempDisabled(true);\n                    }, children: isInstalled ? 'Installed' : 'Install' }) })] }, name));\n});\nexport default PluginCard;\n","import { useEffect, useState } from 'react';\nexport function useFetchPlugins() {\n    const [plugins, setPlugins] = useState();\n    const [error, setError] = useState();\n    useEffect(() => {\n        ;\n        (async () => {\n            try {\n                const res = await fetch('https://jbrowse.org/plugin-store/plugins.json');\n                if (!res.ok) {\n                    const err = await res.text();\n                    throw new Error(`HTTP ${res.status} fetching plugins: ${err}`);\n                }\n                const array = await res.json();\n                setPlugins(array.plugins);\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, []);\n    return { plugins, error };\n}\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { lazy } from 'react';\nimport { LoadingEllipses } from '@jbrowse/core/ui';\nimport { getSession, isElectron } from '@jbrowse/core/util';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { Accordion, AccordionSummary, Button, IconButton, InputAdornment, TextField, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { getEnv } from 'mobx-state-tree';\nimport { makeStyles } from 'tss-react/mui';\nimport InstalledPluginsList from './InstalledPluginsList';\nimport PluginCard from './PluginCard';\nimport { useFetchPlugins } from './util';\nconst AddCustomPluginDialog = lazy(() => import('./AddCustomPluginDialog'));\nconst useStyles = makeStyles()(theme => ({\n    expandIcon: {\n        color: theme.palette.tertiary.contrastText,\n    },\n    adminBadge: {\n        borderRadius: 3,\n        backgroundColor: theme.palette.quaternary.main,\n        padding: '1em',\n        display: 'flex',\n        alignContent: 'center',\n    },\n    customPluginButton: {\n        margin: '1em auto',\n        display: 'flex',\n    },\n    mr: {\n        marginRight: '0.3em',\n    },\n    m: {\n        margin: '1em',\n    },\n}));\nconst PluginStoreWidget = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    const { plugins, error } = useFetchPlugins();\n    const { filterText } = model;\n    const session = getSession(model);\n    const { adminMode } = session;\n    const { pluginManager } = getEnv(model);\n    return (_jsxs(\"div\", { children: [adminMode && (_jsxs(_Fragment, { children: [!isElectron && (_jsxs(\"div\", { className: classes.adminBadge, children: [_jsx(InfoOutlinedIcon, { className: classes.mr }), _jsxs(Typography, { children: [\"You are using the \", _jsx(\"code\", { children: \"admin-server\" }), \". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.\"] })] })), _jsx(Button, { className: classes.customPluginButton, variant: \"contained\", onClick: () => {\n                            session.queueDialog(onClose => [\n                                AddCustomPluginDialog,\n                                {\n                                    model,\n                                    onClose,\n                                },\n                            ]);\n                        }, children: \"Add custom plugin\" })] })), _jsx(TextField, { label: \"Filter plugins\", value: filterText, onChange: event => {\n                    model.setFilterText(event.target.value);\n                }, fullWidth: true, slotProps: {\n                    input: {\n                        endAdornment: (_jsx(InputAdornment, { position: \"end\", children: _jsx(IconButton, { onClick: () => {\n                                    model.clearFilterText();\n                                }, children: _jsx(ClearIcon, {}) }) })),\n                    },\n                } }), _jsxs(Accordion, { defaultExpanded: true, children: [_jsx(AccordionSummary, { expandIcon: _jsx(ExpandMoreIcon, { className: classes.expandIcon }), children: _jsx(Typography, { variant: \"h5\", children: \"Installed plugins\" }) }), _jsx(\"div\", { className: classes.m, children: _jsx(InstalledPluginsList, { pluginManager: pluginManager, model: model }) })] }), _jsxs(Accordion, { defaultExpanded: true, children: [_jsx(AccordionSummary, { expandIcon: _jsx(ExpandMoreIcon, { className: classes.expandIcon }), children: _jsx(Typography, { variant: \"h5\", children: \"Available plugins\" }) }), error ? (_jsx(Typography, { color: \"error\", children: `${error}` })) : plugins ? (plugins\n                        .filter(plugin => !(isElectron && plugin.cjsUrl) &&\n                        plugin.name.toLowerCase().includes(filterText.toLowerCase()))\n                        .map(plugin => (_jsx(PluginCard, { plugin: plugin, model: model }, plugin.name)))) : (_jsx(LoadingEllipses, {}))] })] }));\n});\nexport default PluginStoreWidget;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z\"\n}), 'Lock');"],"names":["createSvgIcon","_jsx","d"],"sourceRoot":"","ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}