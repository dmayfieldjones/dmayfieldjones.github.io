"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2018],{92018:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(79522),i=a(92766),r=a(54262),u=a(31177),n=a(72471),l=a(6821);class o extends i.BaseFeatureDataAdapter{async setupPre(e){let{statusCallback:t=()=>{}}=e||{},a=this.pluginManager,i=new s.j({filehandle:(0,u.openLocation)(this.getConf("bigWigLocation"),a)}),n=await (0,r.updateStatus)("Downloading bigwig header",t,()=>i.getHeader(e));return{bigwig:i,header:n}}async setup(e){return this.setupP||(this.setupP=this.setupPre(e).catch(e=>{throw this.setupP=void 0,e})),this.setupP}async getRefNames(e){let{header:t}=await this.setup(e);return Object.keys(t.refsByName)}async refIdToName(e){var t;let{header:a}=await this.setup();return null===(t=a.refsByNumber[e])||void 0===t?void 0:t.name}async getGlobalStats(e){let{header:t}=await this.setup(e);return(0,l.rectifyStats)(t.totalSummary)}getFeatures(e,t={}){let{refName:a,start:s,end:i}=e,{bpPerPx:r=0,stopToken:u,resolution:l=1,statusCallback:o=()=>{}}=t;return(0,n.ObservableCreate)(async u=>{o("Downloading bigwig data");let n=this.getConf("source"),c=this.getConf("resolutionMultiplier"),{bigwig:h}=await this.setup(t);for(let o of(await h.getFeatures(a,s,i,{...t,basesPerSpan:r/l*c}))){n&&(o.source=n);let t=`${n}:${e.refName}:${o.start}-${o.end}`;o.refName=a,o.uniqueId=t,u.next({get:e=>o[e],id:()=>t,toJSON:()=>o})}u.complete()},u)}async getMultiRegionFeatureDensityStats(e){return{featureDensity:0}}freeResources(){}}o.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"];let c=o}}]);
//# sourceMappingURL=2018.ad36309ac887d5b8.js.map