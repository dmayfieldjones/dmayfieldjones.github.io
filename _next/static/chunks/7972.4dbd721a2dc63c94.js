"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7972],{87972:(t,e,l)=>{l.d(e,{makeImageData:()=>i});var a=l(54262),n=l(70931),c=l.n(n),r=l(98221),f=l(86298);async function i(t,e){let{scrollTop:l,minorAlleleFrequencyFilter:n,sources:i,rowHeight:u,features:s,regions:o,bpPerPx:h,renderingMode:m}=e,k=o[0],p=(0,f.Cg)(s.values(),n),x=new(c());for(let e of p){let[n,c]=(0,a.featureSpanPx)(e,k,h),f=Math.max(Math.round(c-n),2),s=e.get("genotypes"),o=-l,p=i.length;for(let e=0;e<p;e++){let{name:l,HP:a}=i[e],c=s[l],h=Math.floor(n),k=Math.max(u,1);if(c){var b,d,g,y;x.insert({minX:h-.3,maxX:h+f+.3,minY:o-.3,maxY:o+k+.3,genotype:c});let e=c.includes("|");"phased"===m?e?(b=c.split("|"),d=o,t.fillStyle=(0,r.j0)(b,a),t.fillRect(h-.3,d-.3,f+.3,k+.3)):(t.fillStyle="black",t.fillRect(h-.3,o-.3,f+.3,k+.3)):(g=c.split(/[/|]/),y=o,t.fillStyle=(0,r.WX)(g),t.fillRect(h-.3,y-.3,f+.3,k+.3))}o+=u}}return{rbush:x.toJSON()}}},98221:(t,e,l)=>{l.d(e,{WX:()=>r,j0:()=>f,uL:()=>i});var a=l(32672),n=l(94871),c=l(86298);function r(t){let e=t.length,l=0,a=0,c=0,r=0;for(let e of t)"1"===e?l++:"0"===e?r++:"."===e?a++:c++;if(r===e)return"#ccc";{let t=(0,n.colord)(`hsl(200,50%,${80-l/e*50}%)`);return c&&(t=t.mix(`hsla(0,100%,20%,${c/e})`)),a&&(t=t.mix(`hsla(50,50%,50%,${a/e/2})`)),t.toHex()}}function f(t,e){let l=+t[e];return l?a.set1[l-1]||"black":"#ccc"}function i(t,e,l){return+t[e]?(0,c.qH)(+l)||"black":"#ccc"}}}]);
//# sourceMappingURL=7972.4dbd721a2dc63c94.js.map