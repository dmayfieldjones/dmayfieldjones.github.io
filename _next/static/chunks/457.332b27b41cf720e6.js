"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{457:(e,t,a)=>{a.d(t,{doAfterAttach:()=>r});var n=a(15715),i=a(9273);async function s(e){let{rpcSessionId:t}=(0,n.getContainingTrack)(e),{rpcManager:a}=(0,n.getSession)(e),i=(0,n.getContainingView)(e);if(!i.initialized||e.error||!e.statsReadyAndRegionNotTooLarge)return;e.setLoading(!0);let s=await a.call(t,"PileupGetReducedFeatures",{sessionId:t,regions:i.staticBlocks.contentBlocks,filterBy:e.filterBy,adapterConfig:e.adapterConfig});e.setChainData(s),e.setLoading(!1)}function r(e,t){function a(a){let n=e.ref;if(!n)return;let i=n.getContext("2d");i&&e.chainData&&(i.clearRect(0,0,n.width,2*e.height),i.resetTransform(),i.scale(2,2),t(e,i,n.width,e.height),e.setLastDrawnOffsetPx(a.offsetPx),e.setLastDrawnBpPerPx(a.bpPerPx))}(0,i.vi)(e,async()=>{await s(e)},{delay:1e3}),(0,i.vi)(e,async()=>{let t=(0,n.getContainingView)(e);t.bpPerPx!==e.lastDrawnBpPerPx&&a(t)}),(0,i.vi)(e,async()=>{a((0,n.getContainingView)(e))},{delay:1e3})}}}]);
//# sourceMappingURL=457.332b27b41cf720e6.js.map