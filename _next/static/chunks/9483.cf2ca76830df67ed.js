"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9483],{19483:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(6477),r=a(29269),i=a(15715),u=a(64446),n=a(31232),l=a(66232);class o extends r.BaseFeatureDataAdapter{async setupPre(e){let{statusCallback:t=()=>{}}=e||{},a=this.pluginManager,r=new s.j({filehandle:(0,u.openLocation)(this.getConf("bigWigLocation"),a)});return{bigwig:r,header:await (0,i.updateStatus)("Downloading bigwig header",t,()=>r.getHeader(e))}}async setup(e){return this.setupP||(this.setupP=this.setupPre(e).catch(e=>{throw this.setupP=void 0,e})),this.setupP}async getRefNames(e){let{header:t}=await this.setup(e);return Object.keys(t.refsByName)}async refIdToName(e){var t;let{header:a}=await this.setup();return null===(t=a.refsByNumber[e])||void 0===t?void 0:t.name}async getGlobalStats(e){let{header:t}=await this.setup(e);return(0,l.rectifyStats)(t.totalSummary)}getFeatures(e,t={}){let{refName:a,start:s,end:r}=e,{bpPerPx:u=0,resolution:l=1,stopToken:o,statusCallback:h=()=>{}}=t;return(0,n.ObservableCreate)(async n=>{let o=this.getConf("source"),c=this.getConf("resolutionMultiplier"),{bigwig:p}=await this.setup(t);for(let g of(await (0,i.updateStatus)("Downloading bigwig data",h,()=>p.getFeatures(a,s,r,{...t,basesPerSpan:u/l*c})))){o&&(g.source=o);let t=`${o}:${e.refName}:${g.start}-${g.end}`;g.refName=a,g.uniqueId=t,n.next({get:e=>g[e],id:()=>t,toJSON:()=>g})}n.complete()},o)}async getMultiRegionFeatureDensityStats(e){return{featureDensity:0}}freeResources(){}}o.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"];let h=o}}]);
//# sourceMappingURL=9483.cf2ca76830df67ed.js.map