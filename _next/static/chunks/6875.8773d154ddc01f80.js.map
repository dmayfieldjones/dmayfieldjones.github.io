{"version":3,"file":"static/chunks/6875.8773d154ddc01f80.js","mappings":"iMAIA,MAAeA,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,CAAC,CAAaC,EAAAA,EAAAA,GAAAA,CAAIA,CAAC,CAAP,MAAe,CACrDC,EAAG,4DACL,GAAI,WAAW,EAAC,cCFhB,MAAeF,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,CAAC,CAAaC,EAAAA,EAAAA,GAAAA,CAAIA,CAAC,CAAP,MAAe,CACrDC,EAAG,iNACL,GAAI,OAAO,EAAC,oCCKZ,MAAkB,uBAAU,QAC5B,WACA,cACA,oBACA,kBACA,WAAoB,YAAM,mDAC1B,CAAK,CACL,UACA,MAAe,YAAM,mDACrB,CAAK,CACL,IACA,QACA,CAAK,CACL,CAAC,EAiED,EAhEkB,cAAQ,QAgEX,EAhEW,CAAa,MAgEf,CAhEe,aAAmB,EAC1D,MACA,YAAY,GAAU,IACtB,MAA4B,cAAQ,KACpC,EAAqB,YAAM,OAC3B,EAAoB,gBAAU,IAC9B,iBAAY,GAAkB,EAC9B,OACA,oBACA,EACA,aACA,KACA,CAiBA,4BACA,EAjBA,KACA,gBACA,kBACA,cACS,EACT,YACA,kBACA,WACA,CAAS,EACT,YACA,CACA,kDACA,iDAEA,MACA,GAEA,CACA,KACA,8EACK,EACL,SAAgB,UAAK,QAAU,6BAC/B,YACA,cACS,WAAa,SAAI,CAAC,GAAO,EAAI,yDAAgE,SAAI,CAAC,GAAU,EAAI,kCACzH,KACA,CAAqB,UAAY,SAAI,CAAC,EAAQ,CAAI,CAAJ,QAAI,6BAAgD,EAAG,EAAG,EAAG,SAAI,CAAC,MAAI,EAAI,2CACxH,KACA,GACA,CAAiB,6BACjB,CACA,0BACA,KAA8B,GAAS,CACvC,aACA,GACA,CAAyB,CACJ,CACrB,CACA,oCACA,KAA8B,EAC9B,MAD0C,EAC1C,KACA,mCACA,IACA,qDAEA,iBACA,GACA,CAAyB,CACJ,CACrB,CAAmB,GAAI,MACvB,CAAC","sources":["webpack://_N_E/./node_modules/@mui/icons-material/esm/Bookmark.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Link.js","webpack://_N_E/./node_modules/@jbrowse/plugin-linear-genome-view/esm/LinearGenomeView/components/Highlight.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2\"\n}), 'Bookmark');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5\"\n}), 'Link');","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRef, useState } from 'react';\nimport { Menu } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nimport { colord } from '@jbrowse/core/util/colord';\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LinkIcon from '@mui/icons-material/Link';\nimport { IconButton, Tooltip } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()(theme => ({\n    highlight: {\n        height: '100%',\n        position: 'absolute',\n        overflow: 'hidden',\n        background: colord(theme.palette.highlight.main).alpha(0.35).toRgbString(),\n    },\n    linkIcon: {\n        color: colord(theme.palette.highlight.main).darken(0.2).toRgbString(),\n    },\n    z3: {\n        zIndex: 3,\n    },\n}));\nconst Highlight = observer(function ({ model, highlight, }) {\n    var _a;\n    const { classes } = useStyles();\n    const [open, setOpen] = useState(false);\n    const anchorEl = useRef(null);\n    const session = getSession(model);\n    const { assemblyManager } = session;\n    const dismissHighlight = () => {\n        model.removeHighlight(highlight);\n    };\n    function handleClose() {\n        setOpen(false);\n    }\n    const mapCoords = (r) => {\n        const s = model.bpToPx({\n            refName: r.refName,\n            coord: r.start,\n        });\n        const e = model.bpToPx({\n            refName: r.refName,\n            coord: r.end,\n        });\n        return s && e\n            ? {\n                width: Math.max(Math.abs(e.offsetPx - s.offsetPx), 3),\n                left: Math.min(s.offsetPx, e.offsetPx) - model.offsetPx,\n            }\n            : undefined;\n    };\n    const asm = assemblyManager.get(highlight.assemblyName);\n    const h = mapCoords({\n        ...highlight,\n        refName: (_a = asm === null || asm === void 0 ? void 0 : asm.getCanonicalRefName(highlight.refName)) !== null && _a !== void 0 ? _a : highlight.refName,\n    });\n    return h ? (_jsxs(\"div\", { className: classes.highlight, style: {\n            left: h.left,\n            width: h.width,\n        }, children: [_jsx(Tooltip, { title: \"Highlighted from URL parameter\", arrow: true, children: _jsx(IconButton, { ref: anchorEl, className: classes.z3, onClick: () => {\n                        setOpen(true);\n                    }, children: _jsx(LinkIcon, { fontSize: \"small\", className: classes.linkIcon }) }) }), _jsx(Menu, { anchorEl: anchorEl.current, onMenuItemClick: (_event, callback) => {\n                    callback(session);\n                    handleClose();\n                }, open: open, onClose: handleClose, menuItems: [\n                    {\n                        label: 'Dismiss highlight',\n                        icon: CloseIcon,\n                        onClick: () => {\n                            dismissHighlight();\n                        },\n                    },\n                    {\n                        label: 'Bookmark highlighted region',\n                        icon: BookmarkIcon,\n                        onClick: () => {\n                            let bookmarkWidget = session.widgets.get('GridBookmark');\n                            if (!bookmarkWidget) {\n                                bookmarkWidget = session.addWidget('GridBookmarkWidget', 'GridBookmark');\n                            }\n                            bookmarkWidget.addBookmark(highlight);\n                            dismissHighlight();\n                        },\n                    },\n                ] })] })) : null;\n});\nexport default Highlight;\n"],"names":["createSvgIcon","_jsx","d"],"sourceRoot":"","ignoreList":[0,1,2]}