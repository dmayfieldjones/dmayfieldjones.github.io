"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4660],{14660:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var a=l(12115),i=l(54262),n=l(23806),o=l(20109),r=l(19293),s=l(78443);let c=(0,l(97771).makeStyles)()(e=>({paper:{margin:e.spacing(),padding:e.spacing()},submit:{marginTop:25,marginBottom:100,display:"block"}}));function u({model:e}){let{classes:t}=c(),[l,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(`MultiWiggle${+Date.now()}`);return a.createElement(o.A,{className:t.paper},a.createElement("ul",null,a.createElement("li",null,"Enter list of URLs for bigwig files in the textbox"),a.createElement("li",null,"Or, use the button below the text box to select files from your computer")),a.createElement(r.A,{multiline:!0,fullWidth:!0,rows:10,value:l,placeholder:"Paste list of URLs here, or use file selector below",variant:"outlined",onChange:e=>{u(e.target.value)}}),a.createElement(s.A,{variant:"outlined",component:"label"},"Choose Files from your computer",a.createElement("input",{type:"file",hidden:!0,multiple:!0,onChange:({target:e})=>{u(JSON.stringify([...e.files||[]].map(e=>({type:"BigWigAdapter",bigWigLocation:function(e){let{webUtils:t}=window.require("electron");return i.isElectron?{localPath:t.getPathForFile(e),locationType:"LocalPathLocation"}:(0,n.storeBlobLocation)({blob:e})}(e),source:e.name})),null,2))}})),a.createElement(r.A,{value:m,helperText:"Track name",onChange:e=>{p(e.target.value)}}),a.createElement(s.A,{variant:"contained",className:t.submit,onClick:()=>{var t;let a=(0,i.getSession)(e);try{let n;let o=[`${m.toLowerCase().replaceAll(" ","_")}-${Date.now()}`,a.adminMode?"":"-sessionTrack"].join("");try{n=JSON.parse(l)}catch(e){n=l.split(/\n|\r\n|\r/).map(e=>e.trim()).filter(e=>!!e)}let r="string"==typeof n[0]?{bigWigs:n}:{subadapters:n};(0,i.isSessionWithAddTracks)(a)&&(a.addTrackConf({trackId:o,type:"MultiQuantitativeTrack",name:m,assemblyNames:[e.assembly],adapter:{type:"MultiWiggleAdapter",...r}}),null===(t=e.view)||void 0===t||t.showTrack(o)),e.clearData(),(0,i.isSessionModelWithWidgets)(a)&&a.hideWidget(e)}catch(e){console.error(e),a.notifyError(`${e}`,e)}}},"Submit"),a.createElement("p",null,"Additional notes: "),a.createElement("ul",null,a.createElement("li",null,"The list of bigwig files in the text box can be a list of URLs, or a list of elements like"," ",a.createElement("code",null,'[{"type":"BigWigAdapter","bigWigLocation":{"uri":"http://host/file.bw"}, "color":"green","source":"name for subtrack"}]')," ","to apply e.g. the color attribute to the view"),a.createElement("li",null,'Adding local files will update the textbox with JSON contents that are ready to submit with the "Submit" button')))}}}]);
//# sourceMappingURL=4660.399bfefaf0dec9f1.js.map