"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4263],{43909:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(95155),r=n(12115),l=n(88753),i=n(15715),s=n(19468),a=n(86168);function d(e,t){var n,o,r,l;let i;let s=t?(0,a.h)(t):void 0,d=e.get("start"),u=e.get("end"),c=e.get("strand"),v=e.get("mate"),g=e.get("refName"),f=0,m=0,h=0,x=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),s=null!==(o=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==o?o:u;i=null!==(l=null===(r=null==t?void 0:t.CHR2)||void 0===r?void 0:r[0])&&void 0!==l?l:g,f=s,m=s-1,u=d+1}else if(null==s?void 0:s.MatePosition){let e=s.MatePosition.split(":");x="left"===s.MateDirection?1:-1,h="left"===s.Join?-1:1,f=+e[1],m=+e[1]-1,i=e[0]}return{k1:{refName:g,start:d,end:u,strand:c,mateDirection:x},k2:null!=v?v:{refName:i||"unknown",end:f,start:m,mateDirection:h}}}let u=(0,r.lazy)(()=>n.e(5620).then(n.bind(n,65620))),c=(0,s.observer)(function({model:e,feature:t,alt:n,assembly:s,view:a}){var c,v;let[g,f]=(0,r.useState)(!1),{height:m}=e,{k1:h,k2:x}=d(t,n),p=(0,r.useRef)(null),b=(0,l.getConf)(e,"color",{feature:t,alt:n}),k=s.getCanonicalRefName(h.refName)||h.refName,j=s.getCanonicalRefName(x.refName)||x.refName,N=h.start,C=x.start,M=null===(c=a.bpToPx({refName:k,coord:N}))||void 0===c?void 0:c.offsetPx,A=null===(v=a.bpToPx({refName:j,coord:C}))||void 0===v?void 0:v.offsetPx;if(void 0!==M&&void 0!==A){let l=Math.abs((A-M)/2),s=Math.min(m,l),c=M-a.offsetPx,v=A-a.offsetPx,k=g?"black":b;return l>1?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:`M ${c} 0 C ${c} ${s}, ${v} ${s}, ${v} 0`,ref:p,...(0,i.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),h.mateDirection?(0,o.jsx)("line",{...(0,i.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*h.mateDirection,y1:1.5,y2:1.5}):null,x.mateDirection?(0,o.jsx)("line",{...(0,i.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},x1:v,x2:v+20*x.mateDirection,y1:1.5,y2:1.5}):null,g?(0,o.jsx)(r.Suspense,{fallback:null,children:(0,o.jsx)(u,{contents:function(e,t){var n;let{k1:o,k2:r}=d(e,t);return[e.get("name"),e.get("id"),(0,i.assembleLocString)(o),(0,i.assembleLocString)(r),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter(e=>!!e).join("<br/>")}(t,n)})}):null]}):null}return null}),v=(0,s.observer)(function({model:e,exportSVG:t,children:n}){let{height:r}=e,l=Math.round((0,i.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:(0,o.jsx)("svg",{width:l,height:r,children:n})}),g=(0,s.observer)(function({model:e,exportSVG:t}){let n=(0,i.getContainingView)(e),r=(0,i.getSession)(e),{assemblyManager:l}=r,{features:s}=e,a=l.get(n.assemblyNames[0]);return a?(0,o.jsx)(v,{model:e,exportSVG:t,children:null==s?void 0:s.map(t=>{var l;let i=t.get("ALT");return null!==(l=null==i?void 0:i.map(l=>(0,o.jsx)(c,{session:r,feature:t,alt:l,view:n,model:e,assembly:a},`${t.id()}-${l}`)))&&void 0!==l?l:(0,o.jsx)(c,{session:r,feature:t,view:n,model:e,assembly:a},t.id())})}):null})},44263:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var o=n(95155),r=n(19468),l=n(43909),i=n(12115),s=n(94029),a=n(15715),d=n(83452),u=n(65667),c=n(72886),v=n(78822),g=n(53494),f=n(74100);let m=(0,i.lazy)(()=>Promise.resolve().then(n.t.bind(n,54019,23))),h=(0,f.makeStyles)()(e=>({loading:{backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${e.palette.action.disabledBackground} 5px, ${e.palette.action.disabledBackground} 10px)`,position:"absolute",bottom:0,height:50,width:300,right:0,pointerEvents:"none",textAlign:"center"}})),x=(0,r.observer)(function({model:e,children:t}){let{error:n,regionTooLarge:r}=e;return n?(0,o.jsx)(d.LW,{message:`${n}`,severity:"error",action:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.A,{title:"Reload",children:(0,o.jsx)(g.A,{"data-testid":"reload_button",onClick:()=>{e.reload()},children:(0,o.jsx)(u.A,{})})}),(0,o.jsx)(v.A,{title:"Show stack trace",children:(0,o.jsx)(g.A,{onClick:()=>{(0,a.getSession)(e).queueDialog(t=>[m,{onClose:t,error:e.error}])},children:(0,o.jsx)(c.A,{})})})]})}):r?e.regionCannotBeRendered():(0,o.jsx)(p,{model:e,children:t})}),p=(0,r.observer)(function({model:e,children:t}){let{loading:n}=e;return(0,o.jsxs)("div",{children:[t,n?(0,o.jsx)(b,{model:e}):null]})}),b=(0,r.observer)(function({model:e}){let{classes:t}=h(),{message:n}=e;return(0,o.jsx)("div",{className:t.loading,children:(0,o.jsx)(s.LoadingEllipses,{message:n})})}),k=(0,r.observer)(function({model:e,exportSVG:t}){return(0,o.jsx)(x,{model:e,children:(0,o.jsx)(l.A,{model:e,exportSVG:t})})})},65667:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(76856),r=n(95155);let l=(0,o.A)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},72886:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(76856),r=n(95155);let l=(0,o.A)((0,r.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")}}]);
//# sourceMappingURL=4263.a83b142661310707.js.map