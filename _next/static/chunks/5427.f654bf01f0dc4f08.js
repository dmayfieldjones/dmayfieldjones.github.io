"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5427],{20209:(e,t,l)=>{function f(e){let t=0;for(let l=0;l<e.length;l++)t+=e.charCodeAt(l);return n(10*t)}function n(e){return`hsl(${e%255}, 50%, 50%)`}l.d(t,{XL:()=>f,qH:()=>n})},21349:(e,t,l)=>{l.d(t,{E:()=>o});var f=l(4671),n=l(56086),c=l(20209);function o(e,t,l,o,r,a,i,u){t.fillStyle=void 0!==u?+e[i]?(0,c.qH)(+u)||"black":"#ccc":function(e,t){let l=+e[t];return l?f.set1[l-1]||"black":"#ccc"}(e,i),t.fillRect(l-n.f2,o-n.f2,r+n.f2,a+n.f2)}},56086:(e,t,l)=>{l.d(t,{f2:()=>f});let f=.3},65427:(e,t,l)=>{l.d(t,{makeImageData:()=>s});var f=l(15715),n=l(64294),c=l(15660),o=l.n(c),r=l(56086),a=l(89581),i=l(21349),u=l(95764);async function s(e,t){let{scrollTop:l,minorAlleleFrequencyFilter:c,sources:s,rowHeight:h,features:k,regions:d,bpPerPx:p,renderingMode:m,stopToken:x}=t,S=d[0];(0,n.checkStopToken)(x);let b=(0,u.Cg)(k.values(),c);(0,n.checkStopToken)(x);let g=new(o()),v=performance.now();for(let{mostFrequentAlt:t,feature:c}of b){performance.now()-v>400&&((0,n.checkStopToken)(x),v=performance.now());let[o,u]=(0,f.featureSpanPx)(c,S,p),k=Math.max(Math.round(u-o),2),d=c.get("genotypes"),b=-l,w=s.length;for(let l=0;l<w;l++){let{name:f,HP:n}=s[l],c=d[f],u=Math.floor(o),p=Math.max(h,1);if(c){g.insert({minX:u-r.f2,maxX:u+k+r.f2,minY:b-r.f2,maxY:b+p+r.f2,genotype:c});let l=c.includes("|");if("phased"===m)if(l){let t=c.split("|");(0,i.E)(t,e,u,b,k,p,n)}else e.fillStyle="black",e.fillRect(u-r.f2,b-r.f2,k+r.f2,p+r.f2);else{let l=c.split(/[/|]/);(0,a.K)(l,e,u,b,k,p,t)}}b+=h}}return{rbush:g.toJSON()}}},89581:(e,t,l)=>{l.d(t,{K:()=>c});var f=l(18532),n=l(56086);function c(e,t,l,c,o,r,a){t.fillStyle=function(e,t){let l=e.length,n=0,c=0,o=0,r=0;for(let l of e)l===t?n++:"0"===l?r++:"."===l?c++:o++;if(r===l)return"#ccc";{let e;if(n&&(e=(0,f.colord)(`hsl(200,50%,${80-n/l*50}%)`)),o){let t=`hsla(0,100%,20%,${o/l})`;e=e?e.mix(t):(0,f.colord)(t)}if(c){let t=`hsl(50,50%,50%,${c/l})`;e=e?e.mix(t):(0,f.colord)(t)}return(null==e?void 0:e.toHex())||"black"}}(e,a),t.fillRect(l-n.f2,c-n.f2,o+n.f2,r+n.f2)}}}]);
//# sourceMappingURL=5427.f654bf01f0dc4f08.js.map