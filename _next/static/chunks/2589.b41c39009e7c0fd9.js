"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2589],{2589:(l,e,t)=>{t.d(e,{makeImageData:()=>s});var i=t(98221),n=t(86298);function c(l,e,t,n,c,f){e.fillStyle=(0,i.WX)(l),e.fillRect(t-.3,n-.3,c+.3,f+.3)}function f(l,e,t,n,c,f,s,u){e.fillStyle=void 0!==u?(0,i.uL)(l,s,u):(0,i.j0)(l,s),e.fillRect(t-.3,n-.3,c+.3,f+.3)}function s({ctx:l,canvasWidth:e,canvasHeight:t,renderArgs:i}){var s,u;let{renderingMode:r,minorAlleleFrequencyFilter:a,sources:o,features:h}=i,{statusCallback:d=()=>{}}=i;d("Drawing variant matrix");let g=t/o.length,p=(0,n.Cg)(h.values(),a),v=[],k=p.length,m=e/k;for(let i=0;i<k;i++){let n=[],a=p[i];if(a.get("format").includes("PS")){let h=a.get("samples"),d=i/p.length*e,v=o.length;for(let e=0;e<v;e++){let i=e/v*t,{name:a,HP:p}=o[e],k=h[a];if(k){let e=null===(s=k.GT)||void 0===s?void 0:s[0];if(e){n.push(e);let t=e.includes("|");if("phased"===r){if(t){let t=null===(u=k.PS)||void 0===u?void 0:u[0];f(e.split("|"),l,d,i,m,g,p,t)}else l.fillStyle="black",l.fillRect(d-.3,i-.3,m+.3,g+.3)}else c(e.split(/[/|]/),l,d,i,m,g)}}}}else{let s=a.get("genotypes"),u=i/p.length*e,h=o.length;for(let e=0;e<h;e++){let i=e/h*t,{name:a,HP:d}=o[e],p=s[a];if(p){n.push(p);let e=p.includes("|");"phased"===r?e?f(p.split("|"),l,u,i,m,g,d):(l.fillStyle="black",l.fillRect(u-.3,i-.3,m+.3,g+.3)):c(p.split(/[/|]/),l,u,i,m,g)}}}v.push(n)}return{mafs:p,arr:v}}},98221:(l,e,t)=>{t.d(e,{WX:()=>f,j0:()=>s,uL:()=>u});var i=t(32672),n=t(94871),c=t(86298);function f(l){let e=l.length,t=0,i=0,c=0,f=0;for(let e of l)"1"===e?t++:"0"===e?f++:"."===e?i++:c++;if(f===e)return"#ccc";{let l=(0,n.colord)(`hsl(200,50%,${80-t/e*50}%)`);return c&&(l=l.mix(`hsla(0,100%,20%,${c/e})`)),i&&(l=l.mix(`hsla(50,50%,50%,${i/e/2})`)),l.toHex()}}function s(l,e){let t=+l[e];return t?i.set1[t-1]||"black":"#ccc"}function u(l,e,t){return+l[e]?(0,c.qH)(+t)||"black":"#ccc"}}}]);
//# sourceMappingURL=2589.b41c39009e7c0fd9.js.map