"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2423],{92423:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var n=l(95155),i=l(12115),r=l(33989),s=l(51319),a=l.n(s),o=l(84762),d=l(19468),u=l(45064),c=l.n(u),f=l(15715),h=l(9670),m=l(54102),p=l(59886),v=l(42872),x=l(65496),j=l(95946);function g({columns:e,filter:t,setFilter:l}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.A,{children:"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"}),e.map(({field:e})=>(0,n.jsx)(j.A,{placeholder:`Filter ${e}`,value:t[e]||"",onChange:n=>{l({...t,[e]:n.target.value})}},`filter-${e}`))]})}function b(e){var t;let l,{feature:r,descriptions:s={}}=e,[a,o]=(0,i.useState)({}),d=Object.entries(r.samples||{}),u=[],j=Object.keys(a);try{u=d.map(e=>({...Object.fromEntries(Object.entries(e[1]).map(e=>[e[0],`${e[1]}`])),sample:e[0],id:e[0]})).filter(e=>!j.length||j.every(t=>{let l=a[t];return!l||RegExp(l,"i").exec(e[t])}))}catch(e){l=e}let[b,N]=(0,i.useState)(!1),O=["sample",...Object.keys((null==(t=d[0])?void 0:t[1])||{})],S=O.map(e=>(0,f.measureGridWidth)(u.map(t=>t[e]))),y=O.map((e,t)=>{var l,n;return{field:e,description:null==(n=null==(l=null==s?void 0:s.FORMAT)?void 0:l[e])?void 0:n.Description,width:S[t]}});return d.length?(0,n.jsxs)(c(),{...e,title:"Samples",children:[l?(0,n.jsx)(h.A,{color:"error",children:`${l}`}):null,(0,n.jsx)(m.A,{control:(0,n.jsx)(p.A,{checked:b,onChange:e=>{N(e.target.checked)}}),label:(0,n.jsx)(h.A,{variant:"body2",children:"Show options"})}),b?(0,n.jsx)(g,{setFilter:o,columns:y,filter:a}):null,(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,n.jsx)(v.z,{rows:u,hideFooter:u.length<100,columns:y,disableRowSelectionOnClick:!0,rowHeight:25,columnHeaderHeight:35,disableColumnMenu:!0,slots:{toolbar:b?x.O:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}}})})]}):null}let N={CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"},O=(0,i.lazy)(()=>l.e(1672).then(l.bind(l,61672))),S=(0,i.lazy)(()=>l.e(3204).then(l.bind(l,33204)));function y({descriptions:e,feature:t}){var l,i,r,s,a;let o=null==(i=null==(l=null==e?void 0:e.INFO)?void 0:l.ANN)?void 0:i.Description,d=(null==(s=null==(r=null==o?void 0:o.match(/.*Functional annotations:'(.*)'$/))?void 0:r[1])?void 0:s.split("|"))||[],u=(null==(a=t.INFO)?void 0:a.ANN)||[];return(0,n.jsx)(S,{fields:d,data:u,title:"Variant ANN field"})}function A({descriptions:e,feature:t}){var l,i,r,s,a;let o=null==(i=null==(l=null==e?void 0:e.INFO)?void 0:l.CSQ)?void 0:i.Description,d=(null==(s=null==(r=null==o?void 0:o.match(/.*Format: (.*)/))?void 0:r[1])?void 0:s.split("|"))||[],u=(null==(a=t.INFO)?void 0:a.CSQ)||[];return(0,n.jsx)(S,{fields:d,data:u,title:"Variant CSQ field"})}function F({model:e}){let{featureData:t}=e,l=JSON.parse(JSON.stringify(t)),{type:i=""}=l;return"breakend"===i?(0,n.jsx)(O,{feature:l,locStrings:l.ALT.map(e=>{var t;return(null==(t=(0,r.h)(e))?void 0:t.MatePosition)||""}),model:e}):"translocation"===i?(0,n.jsx)(O,{feature:l,model:e,locStrings:[`${l.INFO.CHR2[0]}:${l.INFO.END}`]}):"paired_feature"===i?(0,n.jsx)(O,{feature:l,model:e,locStrings:[`${l.mate.refName}:${l.mate.start}`]}):i.includes("inversion")||i.includes("deletion")||i.includes("duplication")||i.includes("cnv")||i.includes("sv")?(0,n.jsx)(O,{feature:{uniqueId:"random",refName:l.refName,start:l.start,end:l.start+1,mate:{refName:l.refName,start:l.end,end:l.end+1}},model:e,locStrings:[`${l.refName}:${l.end}`]}):null}let w=(0,d.observer)(function(e){let{model:t}=e,{featureData:l,descriptions:r}=t,s=JSON.parse(JSON.stringify(l)),{samples:d,ALT:u,...c}=s;return(0,n.jsxs)(o.A,{"data-testid":"variant-side-drawer",children:[(0,n.jsx)(a(),{feature:c,descriptions:{...N,...r},...e}),(0,n.jsxs)(i.Suspense,{fallback:null,children:[(0,n.jsx)(A,{feature:c,descriptions:r}),(0,n.jsx)(y,{feature:c,descriptions:r}),(0,n.jsx)(F,{model:t})]}),(0,n.jsx)(b,{feature:s,...e,descriptions:r})]})})}}]);
//# sourceMappingURL=2423.0efdaa9fcad00a17.js.map