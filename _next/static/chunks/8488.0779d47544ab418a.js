"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8488],{87457:(e,t,r)=>{r.d(t,{A:()=>g});var a=r(12115),l=r(54262),n=r(28446),i=r(35761),o=r(67072);let s=(0,r(97771).makeStyles)()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}}),m=(0,o.observer)(function({model:e,slice:t,region:r}){let n=(0,i.A)(),{radiusPx:o}=e,s=o+1,{endRadians:m,startRadians:d}=t,g=(0,l.polarToCartesian)(s,d),u=(0,l.polarToCartesian)(s,m),h=(m-d)*s,p=m-d>Math.PI?"1":"0",f=`[${Number(r.regions.length).toLocaleString()}]`;return a.createElement(a.Fragment,null,a.createElement(c,{text:f,view:e,maxWidthPx:h,radians:(m+d)/2,radiusPx:s,title:`${f} more regions`,color:n.palette.text.primary}),a.createElement("path",{d:["M",...g,"A",s,s,"0",p,"1",...u].join(" "),...(0,l.getStrokeProps)(n.palette.text.secondary),strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))}),c=(0,o.observer)(function({view:e,text:t,maxWidthPx:r,radians:n,radiusPx:i,title:o,color:m}){let{classes:c}=s(),d=(0,l.polarToCartesian)(i+5,n);return t?6.5*t.length<r?a.createElement("text",{x:0,y:0,className:c.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)+90})`,...(0,l.getFillProps)(m)},t,a.createElement("title",null,o||t)):r>4?(0,l.radToDeg)(n+e.offsetRadians-Math.PI/2)>=180?a.createElement("text",{x:0,y:0,className:c.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)})`,fill:m},t,a.createElement("title",null,o||t)):a.createElement("text",{x:0,y:0,className:c.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:`translate(${d}) rotate(${(0,l.radToDeg)(n)+180})`,fill:m},t,a.createElement("title",null,o||t)):null:null}),d=(0,o.observer)(function({model:e,slice:t,region:r}){let o=(0,i.A)(),{radiusPx:s}=e,{endRadians:m,startRadians:d}=t,g=(0,l.getSession)(e).assemblyManager.get(r.assemblyName),u=g?g.getRefNameColor(r.refName):void 0;if(u)try{u=(0,n.makeContrasting)(u,o.palette.background.paper)}catch(e){u=o.palette.text.primary}else u=o.palette.text.primary;return a.createElement(a.Fragment,null,a.createElement(c,{text:r.refName,view:e,maxWidthPx:(m-d)*s,radians:(m+d)/2,radiusPx:s,color:u}),a.createElement("path",{d:function(e,t,r,a){e.flipped&&([r,a]=[a,r]);let l=e.bpToXY(r,t),n=e.bpToXY(a,t);return["M",...l,"A",t,t,"0",Math.abs(a-r)/e.bpPerRadian>Math.PI?"1":"0","1",...n].join(" ")}(t,s+1,r.start,r.end),stroke:u,strokeWidth:2,fill:"none"}))}),g=(0,o.observer)(function({model:e,slice:t}){return t.region.elided?a.createElement(m,{key:(0,l.assembleLocString)(t.region.regions[0]),model:e,region:t.region,slice:t}):a.createElement(d,{key:(0,l.assembleLocString)(t.region),region:t.region,model:e,slice:t})})},66107:(e,t,r)=>{r.d(t,{renderToSvg:()=>g});var a=r(12115),l=r(47204),n=r(54262),i=r(64527),o=r(37725),s=r(2848),m=r(35761);function c({width:e,height:t,shift:r}){let l=(0,m.A)();return a.createElement("rect",{width:e+2*r,height:t,fill:(0,n.stripAlpha)(l.palette.background.default)})}var d=r(87457);async function g(e,t){var r;await (0,o.when)(()=>e.initialized);let{themeName:m="default",Wrapper:g=({children:e})=>e}=t,u=(0,n.getSession)(e),h=null===(r=u.allThemes)||void 0===r?void 0:r.call(u)[m],{createRootFn:p}=(0,s.getRoot)(e),{width:f,tracks:x,height:E}=e,w=await Promise.all(x.map(async e=>{let r=e.displays[0];return await (0,o.when)(()=>void 0===r.ready||r.ready),{track:e,result:await r.renderSvg({...t,theme:h})}})),{staticSlices:b,offsetRadians:y,centerXY:k}=e,v=(0,n.radToDeg)(y);return(0,n.renderToStaticMarkup)(a.createElement(i.A,{theme:(0,l.createJBrowseTheme)(h)},a.createElement(g,null,a.createElement("svg",{width:f,height:E,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,f+100,E].toString()},a.createElement(c,{width:f,height:E,shift:50}),a.createElement("g",{transform:`translate(${k}) rotate(${v})`},b.map((t,r)=>a.createElement(d.A,{key:r,model:e,slice:t})),w.map(({result:e},t)=>a.createElement(a.Fragment,{key:t},e)))))),p)}}}]);
//# sourceMappingURL=8488.0779d47544ab418a.js.map