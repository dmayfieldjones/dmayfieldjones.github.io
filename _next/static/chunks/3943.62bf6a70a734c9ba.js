"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3943],{3943:(e,t,n)=>{n.d(t,{A:()=>lo});var i,o,r,a,s,l,c,d={};n.r(d),n.d(d,{blob:()=>b,buffer:()=>x,csv:()=>B,dsv:()=>F,html:()=>j,image:()=>O,json:()=>W,svg:()=>q,text:()=>M,tsv:()=>N,xml:()=>G});var u={};n.r(u),n.d(u,{dispatch:()=>K});var h={};n.r(h),n.d(h,{FormatSpecifier:()=>et,format:()=>r,formatDefaultLocale:()=>el,formatLocale:()=>es,formatPrefix:()=>a,formatSpecifier:()=>ee,precisionFixed:()=>ec,precisionPrefix:()=>ed,precisionRound:()=>eu});let f="1.53.0";var p=n(5204),m=n(8305),g=n(7358);function y(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.blob()}function b(e,t){return fetch(e,t).then(y)}function v(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.arrayBuffer()}function x(e,t){return fetch(e,t).then(v)}var w={},C={};function A(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function S(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var i in e)i in t||n.push(t[i]=i)}),n}function L(e,t){var n=e+"",i=n.length;return i<t?Array(t-i+1).join(0)+n:n}function T(e){var t=RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(e,t){var i,o=[],r=e.length,a=0,s=0,l=r<=0,c=!1;function d(){if(l)return C;if(c)return c=!1,w;var t,i,o=a;if(34===e.charCodeAt(o)){for(;a++<r&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=r?l=!0:10===(i=e.charCodeAt(a++))?c=!0:13===i&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<r;){if(10===(i=e.charCodeAt(t=a++)))c=!0;else if(13===i)c=!0,10===e.charCodeAt(a)&&++a;else if(i!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,r)}for(10===e.charCodeAt(r-1)&&--r,13===e.charCodeAt(r-1)&&--r;(i=d())!==C;){for(var u=[];i!==w&&i!==C;)u.push(i),i=d();t&&null==(u=t(u,s++))||o.push(u)}return o}function o(t,n){return t.map(function(t){return n.map(function(e){return a(t[e])}).join(e)})}function r(t){return t.map(a).join(e)}function a(e){var n,i,o,r,a,s;return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),r=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((s=n.getUTCFullYear())<0?"-"+L(-s,6):s>9999?"+"+L(s,6):L(s,4))+"-"+L(n.getUTCMonth()+1,2)+"-"+L(n.getUTCDate(),2)+(a?"T"+L(i,2)+":"+L(o,2)+":"+L(r,2)+"."+L(a,3)+"Z":r?"T"+L(i,2)+":"+L(o,2)+":"+L(r,2)+"Z":o||i?"T"+L(i,2)+":"+L(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,r=i(e,function(e,i){var r;if(n)return n(e,i-1);o=e,n=t?(r=A(e),function(n,i){return t(r(n),i,e)}):A(e)});return r.columns=o||[],r},parseRows:i,format:function(t,n){return null==n&&(n=S(t)),[n.map(a).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=S(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(r).join("\n")},formatRow:r,formatValue:a}}var k=T(","),E=k.parse;k.parseRows,k.format,k.formatBody,k.formatRows,k.formatRow,k.formatValue;var $=T("	"),I=$.parse;function P(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.text()}function M(e,t){return fetch(e,t).then(P)}function D(e){return function(t,n,i){return 2==arguments.length&&"function"==typeof n&&(i=n,n=void 0),M(t,n).then(function(t){return e(t,i)})}}function F(e,t,n,i){3==arguments.length&&"function"==typeof n&&(i=n,n=void 0);var o=T(e);return M(t,n).then(function(e){return o.parse(e,i)})}$.parseRows,$.format,$.formatBody,$.formatRows,$.formatRow,$.formatValue;var B=D(E),N=D(I);function O(e,t){return new Promise(function(n,i){var o=new Image;for(var r in t)o[r]=t[r];o.onerror=i,o.onload=function(){n(o)},o.src=e})}function R(e){if(!e.ok)throw Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function W(e,t){return fetch(e,t).then(R)}function H(e){return(t,n)=>M(t,n).then(t=>(new DOMParser).parseFromString(t,e))}let G=H("application/xml");var j=H("text/html"),q=H("image/svg+xml"),z=n(6190),U={value:()=>{}};function V(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw Error("illegal type: "+e);i[e]=[]}return new Y(i)}function Y(e){this._=e}function X(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=U,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Y.prototype=V.prototype={constructor:Y,on:function(e,t){var n,i=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((n=(e=o[r]).type)&&(n=function(e,t){for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).name===t)return n.value}(i[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++r<a;)if(n=(e=o[r]).type)i[n]=X(i[n],e.name,t);else if(null==t)for(n in i)i[n]=X(i[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Y(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,o=Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};let K=V;function J(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Q(e){return(e=J(Math.abs(e)))?e[1]:NaN}var Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ee(e){var t;if(!(t=Z.exec(e)))throw Error("invalid format: "+e);return new et({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function et(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function en(e,t){var n=J(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+Array(o-i.length+2).join("0")}ee.prototype=et.prototype,et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let ei={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>en(100*e,t),r:en,s:function(e,t){var n=J(e,t);if(!n)return e+"";var o=n[0],r=n[1],a=r-(i=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=o.length;return a===s?o:a>s?o+Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+Array(1-a).join("0")+J(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eo(e){return e}var er=Array.prototype.map,ea=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function es(e){var t,n,o,r=void 0===e.grouping||void 0===e.thousands?eo:(t=er.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var o=e.length,r=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),r.push(e.substring(o-=s,o+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return r.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?eo:(o=er.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return o[+e]})}),d=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"âˆ’":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=ee(e)).fill,n=e.align,o=e.sign,f=e.symbol,p=e.zero,m=e.width,g=e.comma,y=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):ei[v]||(void 0===y&&(y=12),b=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?s:/[%p]/.test(v)?d:"",C=ei[v],A=/[defgprs%]/.test(v);function S(e){var a,s,d,f=x,S=w;if("c"===v)S=C(e)+S,e="";else{var L=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:C(Math.abs(e),y),b&&(e=function(e){e:for(var t,n=e.length,i=1,o=-1;i<n;++i)switch(e[i]){case".":o=t=i;break;case"0":0===o&&(o=i),t=i;break;default:if(!+e[i])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),L&&0==+e&&"+"!==o&&(L=!1),f=(L?"("===o?o:u:"-"===o||"("===o?"":o)+f,S=("s"===v?ea[8+i/3]:"")+S+(L&&"("===o?")":""),A){for(a=-1,s=e.length;++a<s;)if(48>(d=e.charCodeAt(a))||d>57){S=(46===d?l+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}}g&&!p&&(e=r(e,1/0));var T=f.length+e.length+S.length,k=T<m?Array(m-T+1).join(t):"";switch(g&&p&&(e=r(k+e,k.length?m-S.length:1/0),k=""),n){case"<":e=f+e+S+k;break;case"=":e=f+k+e+S;break;case"^":e=k.slice(0,T=k.length>>1)+f+e+S+k.slice(T);break;default:e=k+f+e+S}return c(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=ee(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Q(t)/3))),o=Math.pow(10,-i),r=ea[8+i/3];return function(e){return n(o*e)+r}}}}function el(e){return r=(o=es(e)).format,a=o.formatPrefix,o}function ec(e){return Math.max(0,-Q(Math.abs(e)))}function ed(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Q(t)/3)))-Q(Math.abs(e)))}function eu(e,t){return Math.max(0,Q(t=Math.abs(t)-(e=Math.abs(e)))-Q(e))+1}el({thousands:",",grouping:[3],currency:["$",""]});var eh=n(1869),ef={9606:{commonName:"Human",scientificName:"Homo sapiens",assemblies:{default:"GCF_000001405.26",GRCh38:"GCF_000001405.26",GRCh37:"GCF_000001405.13",NCBI36:"GCF_000001405.12"},hasGeneCache:!0,hasParalogCache:!0,hasInteractionCache:!0,hasGeneStructureCache:!0,hasProteinCache:!0,hasSynonymCache:!0,hasTissueCache:!0,hasVariantCache:!0},10090:{commonName:"Mouse",scientificName:"Mus musculus",assemblies:{default:"GCF_000001635.27",GRCm39:"GCF_000001635.27",GRCm38:"GCF_000001635.20",MGSCv37:"GCF_000001635.18"},hasGeneCache:!0,hasParalogCache:!0,hasInteractionCache:!0,hasGeneStructureCache:!0,hasProteinCache:!0,hasSynonymCache:!0},9598:{commonName:"Chimpanzee",scientificName:"Pan troglodytes",assemblies:{default:"GCF_028858775.1","NHGRI_mPanTro3-v1.1-hic.freeze_pri":"GCF_028858775.1","Pan_tro 3.0":"GCF_000001515.7"},hasGeneCache:!0,hasSynonymCache:!0},10116:{commonName:"Rat",scientificName:"Rattus norvegicus",assemblies:{default:"GCF_000001895.5","Rnor_6.0":"GCF_000001895.5"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},3702:{commonName:"Thale cress",scientificName:"Arabidopsis thaliana",assemblies:{default:"GCF_000001735.3",TAIR10:"GCF_000001735.3"}},4530:{commonName:"Rice",scientificName:"Oryza sativa",assemblies:{default:"GCA_001433935.1","IRGSP-1.0":"GCA_001433935.1"}},4577:{commonName:"Maize",scientificName:"Zea mays",assemblies:{default:"GCA_000005005.5","IRGSP-1.0":"GCA_001433935.1"}},4641:{commonName:"Banana",scientificName:"Musa acuminata",assemblies:{default:"mock"}},7227:{commonName:"Fly",scientificName:"Drosophila melanogaster",assemblies:{default:"GCA_000001215.4","Release 6 plus ISO1 MT":"GCA_000001215.4"},hasSynonymCache:!0},7165:{commonName:"Mosquito",scientificName:"Anopheles gambiae",assemblies:{default:"GCF_000005575.2"}},746128:{commonName:"Aspergillis fumigatus",scientificName:"Aspergillis fumigatus",assemblies:{default:"GCF_000002655.1"}},227321:{scientificName:"Aspergillus nidulans",assemblies:{default:"GCF_000149205.2"}},5061:{commonName:"black mold",scientificName:"Aspergillus niger",assemblies:{default:"GCF_003184595.1"}},5062:{commonName:"koji",scientificName:"Aspergillus oryzae",assemblies:{default:"GCF_000184455.2"}},15368:{commonName:"stiff brome",scientificName:"Brachypodium distachyon",assemblies:{default:"GCF_000005505.3"}},60711:{commonName:"green monkey",scientificName:"Chlorocebus sabaeus",assemblies:{default:"GCF_015252025.1"}},7719:{commonName:"Vase tunicate",scientificName:"Ciona intestinalis",assemblies:{default:"GCF_000224145.3"}},9685:{commonName:"Cat",scientificName:"Felis catus",assemblies:{default:"GCF_000181335.3"},hasGeneCache:!0},9031:{commonName:"Chicken",scientificName:"Gallus gallus",assemblies:{default:"GCF_000002315.6"},hasGeneCache:!0,hasParalogCache:!0},9593:{commonName:"Gorilla",scientificName:"Gorilla gorilla",assemblies:{default:"GCF_008122165.1"}},4513:{commonName:"Barley",scientificName:"Hordeum vulgare",assemblies:{default:"GCA_901482405.1"}},9541:{commonName:"Crab-eating macaque",scientificName:"Macaca fascicularis",assemblies:{default:"GCF_000364345.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9544:{commonName:"Rhesus macaque",scientificName:"Macaca mulatta",assemblies:{default:"GCF_003339765.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9597:{commonName:"Bonobo",scientificName:"Pan paniscus",assemblies:{default:"GCF_013052645.1"}},9615:{commonName:"Dog",scientificName:"Canis lupus familiaris",assemblies:{default:"GCF_014441545.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9823:{commonName:"Pig",scientificName:"Sus scrofa",assemblies:{default:"GCF_000003025.6"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},4932:{commonName:"Yeast",scientificName:"Saccharomyces cerevisiae",assemblies:{default:"GCA_000146045.2",R64:"GCA_000146045.2"}},5833:{commonName:"malaria parasite",scientificName:"Plasmodium falciparum",assemblies:{default:"GCA_000002765.3",GCA_000002765:"GCA_000002765.3"}},6239:{commonName:"worm",scientificName:"Caenorhabditis elegans",assemblies:{default:"GCF_000002985.6"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},4081:{commonName:"tomato",scientificName:"Solanum lycopersicum",assemblies:{default:"GCF_000188115.4"}},4072:{commonName:"pepper",scientificName:"Capsicum annuum",assemblies:{default:"GCF_000710875.1"}},3694:{commonName:"black cottonwood",scientificName:"Populus trichocarpa",assemblies:{default:"GCF_000002775.5"}}},ep=Object.assign({},d,z,u,h);function em(){return"assembly"in this.config&&/(GCF_|GCA_)/.test(this.config.assembly)}function eg(e){var t,n,i,o=document.scripts,r=Ideogram.version;if(!1===location.pathname.includes("/examples/vanilla/"))return`https://cdn.jsdelivr.net/npm/ideogram@${r}/dist/data/${e}`;for(var a=0;a<o.length;a++)if(t=o[a],i=/ideogram/.test(t.src.split("/").slice(-1)),"src"in t&&i)return(n=t.src.split("//"))[0]+"//"+(n="/"+n[1].split("/").slice(0,-2).join("/"))+"/data/"+e;return"../data/"+e}function ey(e,t=!1){return fetch(e).then(n=>{if(n.ok)return n;if(!1===t)return ey(e.replace(".json",""),!0);throw Error("Fetch failed for "+e)})}function eb(){return eg("bands/native/")}function ev(e){return Math.round(100*e)/100}function ex(e){call(this.onDidRotateCallback,e)}function ew(){return ep.select(this.selector).node()}function eC(e,t){var n=this.config,i=new Headers;return(n.accessToken&&(i=new Headers({Authorization:"Bearer "+n.accessToken})),"text"===t)?ep.text(e,{headers:i}):ep.json(e,{headers:i})}function eA(e){var t,n,i,o,r=this.organisms;for(n in e=eT(e),r)if(i=eT((t=r[n]).commonName),o=eT(t.scientificName),i===e||o===e)return n;return null}function e_(e){return e in this.organisms?this.organisms[e].commonName:null}function eS(e){return e in this.organisms?this.organisms[e].scientificName:null}function eL(e){return e.split(/[ _-]/g).map((e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e).join("")}function eT(e){return void 0===e?"":e.toLowerCase().replace(/ /g,"-")}function ek(e){return/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i.test(e)}function eE(e){var t={M:1e3,D:500,C:100,L:50,X:10,V:5,I:1};return e.toUpperCase().split("").reduce(function(e,n,i,o){return t[n]<t[o[i+1]]?e-t[n]:e+t[n]},0)}function e$(e){let t=e.config,n="sans-serif";t.fontFamily&&(n=t.fontFamily);let i=600;return t.fontWeight&&(i=t.fontWeight),i+" "+(t.annotLabelSize?t.annotLabelSize:13)+"px "+n}function eI(e,t){var n=e$(t),i=(eI.canvas||(eI.canvas=document.createElement("canvas"))).getContext("2d");i.font=n;var o=i.measureText(e),r=o.actualBoundingBoxRight;return{width:Math.abs(o.actualBoundingBoxLeft)+Math.abs(r),height:Math.abs(o.actualBoundingBoxAscent)+Math.abs(o.actualBoundingBoxDescent)}}function eP(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function eM(e){var t=parseInt(e,10).toString(16);return 1===t.length?"0"+t:t}function eD(e,t="#FFF"){if("rgb"===e.slice(0,3)&&(e=function(e){var t,n,i;let o=e.split("rgb(")[1].trim(")").split(", ");return t=o[0],n=o[1],i=o[2],"#"+eM(t)+eM(n)+eM(i)}(e)),"#"!==e[0])return e;let n=eP(e);if("#FFF"===t)n.r>150&&n.g>150&&n.b>150&&(e=`rgb(${n.r-30}, ${n.g-30}, ${n.b-30})`),n.r>200&&n.g>200&&n.b>200&&(e=`rgb(${n.r-50}, ${n.g-50}, ${n.b-50})`);else{var i,o,r,a;let s=eP(t);3>(i=[n.r,n.g,n.b],o=[s.r,s.g,s.b],(Math.max(r=eF(...i),a=eF(...o))+.05)/(Math.min(r,a)+.05))&&(e="rgb(230, 230, 230)")}return e}function eF(e,t,n){var i=[e,t,n].map(e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return .2126*i[0]+.7152*i[1]+.0722*i[2]}function eB(e,t){if("#"!==e[0])return e;let n=eP(e),i={r:n.r*t,g:n.g*t,b:n.b*t};return`rgb(${i.r}, ${i.g}, ${i.b})`}function eN(){return{theme:"light-border",allowHTML:!0,popperOptions:{modifiers:[{name:"flip"}]},onShow:function(){document.querySelectorAll("[data-tippy-root]").forEach(e=>e.remove())}}}ep.select=p.A,ep.selectAll=function(e){return"string"==typeof e?new g.LN([document.querySelectorAll(e)],[document.documentElement]):new g.LN([(0,m.A)(e)],g.zr)},ep.scaleLinear=eh.A,ep.max=function(e,t){let n;if(void 0===t)for(let t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n},s=[["gneg","#FFF","#FFF","#DDD"],["gpos25","#C8C8C8","#DDD","#BBB"],["gpos33","#BBB","#BBB","#AAA"],["gpos50","#999","#AAA","#888"],["gpos66","#888","#888","#666"],["gpos75","#777","#777","#444"],["gpos100","#444","#666","#000"],["acen","#FEE","#FEE","#FDD"],["noBands","#BBB","#BBB","#AAA"]],l='#_ideogram {padding-left: 5px;} #_ideogram .labeled {padding-left: 15px;} #_ideogram.labeledLeft {padding-left: 15px; padding-top: 15px;} #_ideogram text {font: 9px Tahoma; fill: #000;} #_ideogram .italic {font-style: italic;} #_ideogram .chromosome {cursor: pointer; fill: #AAA;}#_ideogram.no-rotate .chromosome {cursor: default;} #_ideogram .chrLabel, #_ideogram .annot {cursor: pointer;}#_ideogram .chrSetLabel {font-weight: bolder;}#_ideogram .ghost {opacity: 0.2;}#_ideogram .hidden {display: none;}#_ideogram .bandLabelStalk line {stroke: #AAA; stroke-width: 1;}#_ideogram .syntenyBorder {stroke:#AAA;stroke-width:1;}#_ideogram rect.cursor {  fill: #F00;  stroke: #F00;  fill-opacity: .3;  shape-rendering: crispEdges;}#_ideogram .brush .selection {  fill: #F00;  stroke: #F00;  fill-opacity: .3;  shape-rendering: crispEdges;}#_ideogram .noBands {fill: #AAA;}#_ideogram .gneg {fill: #FFF}#_ideogram .gpos25 {fill: #BBB}#_ideogram .gpos33 {fill: #AAA}#_ideogram .gpos50 {fill: #888}#_ideogram .gpos66 {fill: #666}#_ideogram .gpos75 {fill: #444}#_ideogram .gpos100 {fill: #000}#_ideogram .gpos {fill: #000}#_ideogram .acen {fill: #FDD}#_ideogram .stalk {fill: #CCE;}#_ideogram .gvar {fill: #DDF}#_ideogram.faint .gneg {fill: #FFF}#_ideogram.faint .gpos25 {fill: #EEE}#_ideogram.faint .gpos33 {fill: #EEE}#_ideogram.faint .gpos50 {fill: #EEE}#_ideogram.faint .gpos66 {fill: #EEE}#_ideogram.faint .gpos75 {fill: #EEE}#_ideogram.faint .gpos100 {fill: #DDD}#_ideogram.faint .gpos {fill: #DDD}#_ideogram.faint .acen {fill: #FEE}#_ideogram.faint .stalk {fill: #EEF;}#_ideogram.faint .gvar {fill: #EEF}#_ideogram .gneg {fill: url("#gneg")} #_ideogram .gpos25 {fill: url("#gpos25")} #_ideogram .gpos33 {fill: url("#gpos33")} #_ideogram .gpos50 {fill: url("#gpos50")} #_ideogram .gpos66 {fill: url("#gpos66")} #_ideogram .gpos75 {fill: url("#gpos75")} #_ideogram .gpos100 {fill: url("#gpos100")} #_ideogram .gpos {fill: url("#gpos100")} #_ideogram .acen {fill: url("#acen")} #_ideogram .stalk {fill: url("#stalk")} #_ideogram .gvar {fill: url("#gvar")} #_ideogram .noBands {fill: url("#noBands")} #_ideogram .chromosome {fill: url("#noBands")} ',c='<pattern id="stalk" width="2" height="1" patternUnits="userSpaceOnUse" patternTransform="rotate(30 0 0)"><rect x="0" y="0" width="10" height="2" fill="#CCE" /> <line x1="0" y1="0" x2="0" y2="100%" style="stroke:#88B; stroke-width:0.7;" /></pattern><pattern id="gvar" width="2" height="1" patternUnits="userSpaceOnUse" patternTransform="rotate(-30 0 0)"><rect x="0" y="0" width="10" height="2" fill="#DDF" /> <line x1="0" y1="0" x2="0" y2="100%" style="stroke:#99C; stroke-width:0.7;" /></pattern>';let eO=l;function eR(e){var t,n,i,o,r;this.config=JSON.parse(JSON.stringify(e)),this.chromosomesArray=[],this.coordinateSystem="iscn",this.maxLength={bp:0,iscn:0},this.chromosomes={},this.numChromosomes=0,this.config.debug||(this.config.debug=!1),this.config.dataDir||(this.config.dataDir=this.getDataDir()),this.config.container||(this.config.container="body"),this.selector=this.config.container+" #_ideogram",this.config.resolution||(this.config.resolution=""),this.config.orientation||(this.config.orientation="vertical"),this.config.brush||(this.config.brush=null),this.config.rows||(this.config.rows=1),"showChromosomeLabels"in this.config==!1&&(this.config.showChromosomeLabels=!0),this.config.showNonNuclearChromosomes||(this.config.showNonNuclearChromosomes=!1),this.config.chromosomeScale||(this.config.chromosomeScale="absolute"),this.config.showTools||(this.config.showTools=!1),this.config.ploidy||(this.config.ploidy=1),this.config.ploidy>1&&(this.sexChromosomes={},this.config.sex||(this.config.sex="male"),2!==this.config.ploidy||this.config.ancestors||(this.config.ancestors={M:"#ffb6c1",P:"#add8e6"},this.config.ploidyDesc="MP")),this.config.showBandLabels||(this.config.showBandLabels=!1),"showFullyBanded"in this.config==!1&&(this.config.showFullyBanded=!0),this.bandsToShow=[],this.bandData={},this.config.chrHeight||(t=this.config.container,n=document.querySelector(t).getBoundingClientRect(),i="vertical"===this.config.orientation?n.height:n.width,("body"===t||0===i)&&(i=400),this.config.chrHeight=i),this.config.chrWidth||(o=10,(r=this.config.chrHeight)<900&&r>500?o=Math.round(r/40):r>=900&&(o=Math.round(r/45)),this.config.chrWidth=o),function(e){if(e.config.geometry&&"collinear"===e.config.geometry){"chrMargin"in e.config==!1&&(e.config.chrMargin=0);return}e.config.chrMargin||(1===e.config.ploidy?e.config.chrMargin=10:e.config.chrMargin=Math.round(e.config.chrWidth/4)),e.config.showBandLabels&&(e.config.chrMargin+=20)}(this),e.onLoad&&(this.onLoadCallback=e.onLoad),e.onLoadAnnots&&(this.onLoadAnnotsCallback=e.onLoadAnnots),e.onBeforeDrawAnnots&&(this.onBeforeDrawAnnotsCallback=e.onBeforeDrawAnnots),e.onDrawAnnots&&(this.onDrawAnnotsCallback=e.onDrawAnnots),e.onBrushMove&&(this.onBrushMoveCallback=e.onBrushMove),e.onBrushEnd&&(this.onBrushEndCallback=e.onBrushEnd),e.onCursorMove&&(this.onCursorMoveCallback=e.onCursorMove),e.onDidRotate&&(this.onDidRotateCallback=e.onDidRotate),e.onWillShowAnnotTooltip&&(this.onWillShowAnnotTooltipCallback=e.onWillShowAnnotTooltip),e.onDidShowAnnotTooltip&&(this.onDidShowAnnotTooltipCallback=e.onDidShowAnnotTooltip),e.onClickAnnot&&(this.onClickAnnotCallback=e.onClickAnnot),this.organisms=Object.assign({},ef),e.taxid&&e.organismMetadata&&(this.organisms[e.taxid]=e.organismMetadata),this.organismsWithBands=Object.assign({},this.organisms),this.bump=Math.round(this.config.chrHeight/125),this.adjustedBump=!1,this.config.chrHeight<200&&(this.adjustedBump=!0,this.bump=4),e.chromosome&&(this.config.chromosomes=[e.chromosome],"showBandLabels"in e==!1&&(this.config.showBandLabels=!0),"rotatable"in e==!1&&(this.config.rotatable=!1)),function(e){let t=e.config;t.chrLabelSize||(e.config.chrLabelSize=9),t.chrLabelColor||(e.config.chrLabelColor="#000"),t.fontFamily||(e.config.fontFamily="");let n=`font-size: ${t.chrLabelSize}px`,i=`fill: ${t.chrLabelColor}`,o=`font-family: ${t.fontFamily}`;eO+=`#_ideogram text {${o}; ${n}; ${i};}`,eO+=`#_ideogramLabel text {${o};}`}(this),this.initAnnotSettings(),this.config.geometry&&"parallel"!==this.config.geometry||(this.config.chrMargin+=this.config.chrWidth,"heatmap"===this.config.annotationsLayout?this.config.chrMargin+=this.config.annotTracksHeight:this.config.chrMargin+=2*this.config.annotTracksHeight),this.init()}let eW=function(e){var t,n,i,o,r=e.config;if(e.config.annotLabelHeight=12,"demarcateCollinearChromosomes"in e.config==!1&&(e.config.demarcateCollinearChromosomes=!0),n=function(e,t){var n,i,o,r,a,s,l,c={};for(i=0,n=[];i<e.length;i++)l=t.chromosomesArray[i].id.split("-")[1],o=0===i?i:i-1,r=t.chromosomesArray[o],0===i||l in c==!1?(a=20,c[l]=1):(s=r.width,a=n[o]+s+(t.config.showChromosomeLabels?0:2)+t.config.chrMargin),n.push(a);return n}(t=document.querySelectorAll(".chromosome-set"),e),!function(e,t,n,i){var o,r,a,s,l,c,d,u=i.config,h=u.chrLabelSize;for(o=0;o<e.length;o++){if(r=e[o],a=t[o]+23-h,c=i.chromosomesArray[o].id.split("-")[1],l=-40-200*(d=i.config.taxids.indexOf(c))-30-5,0===d?(s=-34,l+=2*i.config.chrWidth-16):s=2*i.config.chrWidth-24,u.showChromosomeLabels){let e=r.querySelector(".chrLabel > tspan");e.setAttribute("x",s),e.setAttribute("dy",h-8),r.querySelector(".chrLabel").setAttribute("text-anchor","start")}r.setAttribute("transform","rotate(90) translate("+a+","+l+")"),r.querySelector(".chromosome").setAttribute("transform","translate(-13, 10)")}!function(e){e.config.taxids.forEach((t,n)=>{var i=e.organisms[t].scientificName;ep.select(e.selector).append("text").attr("class","genomeLabel italic").attr("x",55+200*n).attr("y",10).text(i).attr("text-anchor","middle")})}(i)}(t,n,0,e),o=Math.round(n.slice(-1)[0]+70),r.multiorganism){i*=8;var a=0;n.forEach(e=>{e>a&&(a=e)}),i=a+30}else i=xOffsets.slice(-1)[0]+30;ep.select(e.selector).attr("height",i).attr("width",o),ep.select("#_ideogramTrackLabelContainer").remove(),ep.select("#_ideogramInnerWrap").insert("div",":first-child").attr("id","_ideogramTrackLabelContainer").style("position","absolute")},eH=function(e){var t,n,i,o,r,a=e.config,s=a.annotationHeight||0;if("vertical"===a.orientation){eW(e);return}e.config.annotLabelHeight=12;var l=e.config.annotLabelHeight;if("demarcateCollinearChromosomes"in e.config==!1&&(e.config.demarcateCollinearChromosomes=!0),t=document.querySelectorAll(".chromosome-set"),i=a.numAnnotTracks*(s+l+4)-a.chrWidth+1,n=function(e,t){var n,i,o,r,a,s,l,c={};for(i=0,n=[];i<e.length;i++)l=t.chromosomesArray[i].id.split("-")[1],o=0===i?i:i-1,r=t.chromosomesArray[o],0===i||l in c==!1?(a=20,c[l]=1):(s=r.width,a=n[o]+s+(t.config.showChromosomeLabels?0:2)+t.config.chrMargin),n.push(a);return n}(t,e),!function(e,t,n,i){var o,r,a,s,l,c,d,u=i.config,h=u.chrWidth,f=u.chrLabelSize;for(o=0;o<e.length;o++)r=e[o],s=t[o],a=i.chromosomesArray[o].id.split("-")[1],l=n+200*(c=u.taxids.indexOf(a)),0===c&&i.config.multiorganism?(d=f-4,l+=2*h+f):d=2*h+f+2,i.config.showChromosomeLabels&&(r.querySelector(".chrLabel").setAttribute("y",d),r.querySelector(".chrLabel").setAttribute("text-anchor","middle")),r.setAttribute("transform","translate("+s+","+l+")"),r.querySelector(".chromosome").setAttribute("transform","translate(-13, 10)");u.multiorganism&&function(e){e.config.taxids.forEach((t,n)=>{var i=e.organisms[t],o=e.config,r=i.scientificName;ep.select(e.selector).append("text").attr("class","genomeLabel italic").attr("x",5).attr("y",o.chrLabelSize+(200+3*o.chrWidth)*n).text(r)})}(i)}(t,n,i,e),o=i+2*a.chrWidth+20,a.multiorganism){o*=8;var c=0;n.forEach(e=>{e>c&&(c=e)}),r=c+20}else r=n.slice(-1)[0]+20;ep.select(e.selector).attr("width",r).attr("height",o),ep.select("#_ideogramTrackLabelContainer").remove(),ep.select("#_ideogramInnerWrap").insert("div",":first-child").attr("id","_ideogramTrackLabelContainer").style("position","absolute")};var eG={},ej=function(e,t,n,i,o){var r=new Worker(eG[t]||(eG[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return r.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var i=Error(n[0]);i.code=n[1],i.stack=n[2],o(i,null)}else o(null,t)},r.postMessage(n,i),r},eq=Uint8Array,ez=Uint16Array,eU=Uint32Array,eV=new eq([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eY=new eq([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eX=new eq([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eK=function(e,t){for(var n=new ez(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var o=new eU(n[30]),i=1;i<30;++i)for(var r=n[i];r<n[i+1];++r)o[r]=r-n[i]<<5|i;return[n,o]},eJ=eK(eV,2),eQ=eJ[0],eZ=eJ[1];eQ[28]=258,eZ[258]=28;for(var e0=eK(eY,0),e1=e0[0],e2=e0[1],e5=new ez(32768),e3=0;e3<32768;++e3){var e8=(43690&e3)>>>1|(21845&e3)<<1;e8=(61680&(e8=(52428&e8)>>>2|(13107&e8)<<2))>>>4|(3855&e8)<<4,e5[e3]=((65280&e8)>>>8|(255&e8)<<8)>>>1}for(var e4=function(e,t,n){for(var i,o=e.length,r=0,a=new ez(t);r<o;++r)e[r]&&++a[e[r]-1];var s=new ez(t);for(r=0;r<t;++r)s[r]=s[r-1]+a[r-1]<<1;if(n){i=new ez(1<<t);var l=15-t;for(r=0;r<o;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[e5[u]>>>l]=c}else for(r=0,i=new ez(o);r<o;++r)e[r]&&(i[r]=e5[s[e[r]-1]++]>>>15-e[r]);return i},e6=new eq(288),e3=0;e3<144;++e3)e6[e3]=8;for(var e3=144;e3<256;++e3)e6[e3]=9;for(var e3=256;e3<280;++e3)e6[e3]=7;for(var e3=280;e3<288;++e3)e6[e3]=8;for(var e7=new eq(32),e3=0;e3<32;++e3)e7[e3]=5;var e9=e4(e6,9,1),te=e4(e7,5,1),tt=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},tn=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},ti=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},to=function(e){return(e+7)/8|0},tr=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var i=new(2==e.BYTES_PER_ELEMENT?ez:4==e.BYTES_PER_ELEMENT?eU:eq)(n-t);return i.set(e.subarray(t,n)),i},ta=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ts=function(e,t,n){var i=Error(t||ta[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,ts),!n)throw i;return i},tl=function(e,t,n){var i=e.length;if(!i||n&&n.f&&!n.l)return t||new eq(0);var o=!t||n,r=!n||n.i;n||(n={}),t||(t=new eq(3*i));var a=function(e){var n=t.length;if(e>n){var i=new eq(Math.max(2*n,e));i.set(t),t=i}},s=n.f||0,l=n.p||0,c=n.b||0,d=n.l,u=n.d,h=n.m,f=n.n,p=8*i;do{if(!d){s=tn(e,l,1);var m=tn(e,l+1,3);if(l+=3,m){if(1==m)d=e9,u=te,h=9,f=5;else if(2==m){var g=tn(e,l,31)+257,y=tn(e,l+10,15)+4,b=g+tn(e,l+5,31)+1;l+=14;for(var v=new eq(b),x=new eq(19),w=0;w<y;++w)x[eX[w]]=tn(e,l+3*w,7);l+=3*y;for(var C=tt(x),A=(1<<C)-1,S=e4(x,C,1),w=0;w<b;){var L=S[tn(e,l,A)];l+=15&L;var T=L>>>4;if(T<16)v[w++]=T;else{var k=0,E=0;for(16==T?(E=3+tn(e,l,3),l+=2,k=v[w-1]):17==T?(E=3+tn(e,l,7),l+=3):18==T&&(E=11+tn(e,l,127),l+=7);E--;)v[w++]=k}}var $=v.subarray(0,g),I=v.subarray(g);h=tt($),f=tt(I),d=e4($,h,1),u=e4(I,f,1)}else ts(1)}else{var T=to(l)+4,P=e[T-4]|e[T-3]<<8,M=T+P;if(M>i){r&&ts(0);break}o&&a(c+P),t.set(e.subarray(T,M),c),n.b=c+=P,n.p=l=8*M,n.f=s;continue}if(l>p){r&&ts(0);break}}o&&a(c+131072);for(var D=(1<<h)-1,F=(1<<f)-1,B=l;;B=l){var k=d[ti(e,l)&D],N=k>>>4;if((l+=15&k)>p){r&&ts(0);break}if(k||ts(2),N<256)t[c++]=N;else if(256==N){B=l,d=null;break}else{var O=N-254;if(N>264){var w=N-257,R=eV[w];O=tn(e,l,(1<<R)-1)+eQ[w],l+=R}var W=u[ti(e,l)&F],H=W>>>4;W||ts(3),l+=15&W;var I=e1[H];if(H>3){var R=eY[H];I+=ti(e,l)&(1<<R)-1,l+=R}if(l>p){r&&ts(0);break}o&&a(c+131072);for(var G=c+O;c<G;c+=4)t[c]=t[c-I],t[c+1]=t[c+1-I],t[c+2]=t[c+2-I],t[c+3]=t[c+3-I];c=G}}n.l=d,n.p=B,n.b=c,n.f=s,d&&(s=1,n.m=h,n.d=u,n.n=f)}while(!s);return c==t.length?t:tr(t,0,c)},tc=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8},td=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},tu=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var o=n.length,r=n.slice();if(!o)return[tb,0];if(1==o){var a=new eq(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=o-1;)s=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=r[0].s,i=1;i<o;++i)r[i].s>h&&(h=r[i].s);var f=new ez(h+1),p=th(n[d-1],f,0);if(p>t){var i=0,m=0,g=p-t,y=1<<g;for(r.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});i<o;++i){var b=r[i].s;if(f[b]>t)m+=y-(1<<p-f[b]),f[b]=t;else break}for(m>>>=g;m>0;){var v=r[i].s;f[v]<t?m-=1<<t-f[v]++-1:++i}for(;i>=0&&m;--i){var x=r[i].s;f[x]==t&&(--f[x],++m)}p=t}return[new eq(f),p]},th=function(e,t,n){return -1==e.s?Math.max(th(e.l,t,n+1),th(e.r,t,n+1)):t[e.s]=n},tf=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ez(++t),i=0,o=e[0],r=1,a=function(e){n[i++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++r;else{if(!o&&r>2){for(;r>138;r-=138)a(32754);r>2&&(a(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(a(o),--r;r>6;r-=6)a(8304);r>2&&(a(r-3<<5|8208),r=0)}for(;r--;)a(o);r=1,o=e[s]}return[n.subarray(0,i),t]},tp=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},tm=function(e,t,n){var i=n.length,o=to(t+2);e[o]=255&i,e[o+1]=i>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var r=0;r<i;++r)e[o+r+4]=n[r];return(o+4+i)*8},tg=function(e,t,n,i,o,r,a,s,l,c,d){tc(t,d++,n),++o[256];for(var u,h,f,p,m=tu(o,15),g=m[0],y=m[1],b=tu(r,15),v=b[0],x=b[1],w=tf(g),C=w[0],A=w[1],S=tf(v),L=S[0],T=S[1],k=new ez(19),E=0;E<C.length;++E)k[31&C[E]]++;for(var E=0;E<L.length;++E)k[31&L[E]]++;for(var $=tu(k,7),I=$[0],P=$[1],M=19;M>4&&!I[eX[M-1]];--M);var D=c+5<<3,F=tp(o,e6)+tp(r,e7)+a,B=tp(o,g)+tp(r,v)+a+14+3*M+tp(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(D<=F&&D<=B)return tm(t,d,e.subarray(l,l+c));if(tc(t,d,1+(B<F)),d+=2,B<F){u=e4(g,y,0),h=g,f=e4(v,x,0),p=v;var N=e4(I,P,0);tc(t,d,A-257),tc(t,d+5,T-1),tc(t,d+10,M-4),d+=14;for(var E=0;E<M;++E)tc(t,d+3*E,I[eX[E]]);d+=3*M;for(var O=[C,L],R=0;R<2;++R)for(var W=O[R],E=0;E<W.length;++E){var H=31&W[E];tc(t,d,N[H]),d+=I[H],H>15&&(tc(t,d,W[E]>>>5&127),d+=W[E]>>>12)}}else u=null,h=e6,f=null,p=e7;for(var E=0;E<s;++E)if(i[E]>255){var H=i[E]>>>18&31;td(t,d,u[H+257]),d+=h[H+257],H>7&&(tc(t,d,i[E]>>>23&31),d+=eV[H]);var G=31&i[E];td(t,d,f[G]),d+=p[G],G>3&&(td(t,d,i[E]>>>5&8191),d+=eY[G])}else td(t,d,u[i[E]]),d+=h[i[E]];return td(t,d,u[256]),d+h[256]},ty=new eU([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tb=new eq(0),tv=function(e,t,n,i,o,r){var a=e.length,s=new eq(i+a+5*(1+Math.ceil(a/7e3))+o),l=s.subarray(i,s.length-o),c=0;if(!t||a<8)for(var d=0;d<=a;d+=65535){var u=d+65535;u>=a&&(l[c>>3]=r),c=tm(l,c+1,e.subarray(d,u))}else{for(var h=ty[t-1],f=h>>>13,p=8191&h,m=(1<<n)-1,g=new ez(32768),y=new ez(m+1),b=Math.ceil(n/3),v=2*b,x=function(t){return(e[t]^e[t+1]<<b^e[t+2]<<v)&m},w=new eU(25e3),C=new ez(288),A=new ez(32),S=0,L=0,d=0,T=0,k=0,E=0;d<a;++d){var $=x(d),I=32767&d,P=y[$];if(g[I]=P,y[$]=I,k<=d){var M=a-d;if((S>7e3||T>24576)&&M>423){c=tg(e,l,0,w,C,A,L,T,E,d-E,c),T=S=L=0,E=d;for(var D=0;D<286;++D)C[D]=0;for(var D=0;D<30;++D)A[D]=0}var F=2,B=0,N=p,O=I-P&32767;if(M>2&&$==x(d-O))for(var R=Math.min(f,M)-1,W=Math.min(32767,d),H=Math.min(258,M);O<=W&&--N&&I!=P;){if(e[d+F]==e[d+F-O]){for(var G=0;G<H&&e[d+G]==e[d+G-O];++G);if(G>F){if(F=G,B=O,G>R)break;for(var j=Math.min(O,G-2),q=0,D=0;D<j;++D){var z=d-O+D+32768&32767,U=g[z],V=z-U+32768&32767;V>q&&(q=V,P=z)}}}P=g[I=P],O+=I-P+32768&32767}if(B){w[T++]=0x10000000|eZ[F]<<18|e2[B];var Y=31&eZ[F],X=31&e2[B];L+=eV[Y]+eY[X],++C[257+Y],++A[X],k=d+F,++S}else w[T++]=e[d],++C[e[d]]}}c=tg(e,l,r,w,C,A,L,T,E,d-E,c),!r&&7&c&&(c=tm(l,c+1,tb))}return tr(s,0,i+to(c)+o)},tx=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},tw=function(e,t,n){for(var i=e(),o=e.toString(),r=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<i.length;++a){var s=i[a],l=r[a];if("function"==typeof s){t+=";"+l+"=";var c=s.toString();if(s.prototype){if(-1!=c.indexOf("[native code]")){var d=c.indexOf(" ",8)+1;t+=c.slice(d,c.indexOf("(",d))}else for(var u in t+=c,s.prototype)t+=";"+l+".prototype."+u+"="+s.prototype[u].toString()}else t+=c}else n[l]=s}return[t,n]},tC=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},tA=function(e,t,n,i){if(!null[n]){for(var o,r="",a={},s=e.length-1,l=0;l<s;++l)r=(o=tw(e[l],r,a))[0],a=o[1];null[n]=tw(e[s],r,a)}var c=tx({},null[n][1]);return ej(null[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,tC(c),i)},t_=function(e){return postMessage(e,[e.buffer])},tS=function(e){return e&&e.size&&new eq(e.size)},tL=function(e,t){return e[t]|e[t+1]<<8},tT=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},tk=function(e,t){return tT(e,t)+0x100000000*tT(e,t+4)},tE=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},t$=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&ts(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|(e[11]<<8)+2);for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(2&t)},tI=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},tP=function(e){((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&ts(6,"invalid zlib data"),32&e[1]&&ts(6,"invalid zlib data: preset dictionaries not supported")};function tM(e,t){return tl(e,t)}function tD(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?tl(e.subarray(t$(e),-8),t||new eq(tI(e))):(15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?tl(e,t):tl((tP(e),e.subarray(2,-4)),t)}var tF="undefined"!=typeof TextDecoder&&new TextDecoder;try{tF.decode(tb,{stream:!0})}catch(e){}var tB=function(e){for(var t="",n=0;;){var i=e[n++],o=(i>127)+(i>223)+(i>239);if(n+o>e.length)return[t,tr(e,n-1)];o?3==o?t+=String.fromCharCode(55296|(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&i):1&o?t+=String.fromCharCode((31&i)<<6|63&e[n++]):t+=String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(i)}};function tN(e,t){if(t){for(var n="",i=0;i<e.length;i+=16384)n+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return n}if(tF)return tF.decode(e);var o=tB(e),r=o[0];return o[1].length&&ts(8),r}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,n(7158);let tO=(e,...t)=>{let n=e;return t.length>0&&(n+=` :: ${JSON.stringify(t)}`),n};class tR extends Error{constructor(e,t){super(tO(e,t)),this.name=e,this.details=t}}async function tW(e,t){try{if(206===t.status)return t;let n=e.headers.get("range");if(!n)throw new tR("no-range-header");let i=function(e){let t=e.trim().toLowerCase();if(!t.startsWith("bytes="))throw new tR("unit-must-be-bytes",{normalizedRangeHeader:t});if(t.includes(","))throw new tR("single-range-only",{normalizedRangeHeader:t});let n=/(\d*)-(\d*)/.exec(t);if(!n||!(n[1]||n[2]))throw new tR("invalid-range-values",{normalizedRangeHeader:t});return{start:""===n[1]?void 0:Number(n[1]),end:""===n[2]?void 0:Number(n[2])}}(n),o=await t.blob(),r=function(e,t,n){let i,o;let r=e.size;if(n&&n>r||t&&t<0)throw new tR("range-not-satisfiable",{size:r,end:n,start:t});return void 0!==t&&void 0!==n?(i=t,o=n+1):void 0!==t&&void 0===n?(i=t,o=r):void 0!==n&&void 0===t&&(i=r-n,o=r),{start:i,end:o}}(o,i.start,i.end),a=o.slice(r.start,r.end),s=a.size,l=new Response(a,{status:206,statusText:"Partial Content",headers:t.headers});return l.headers.set("Content-Length",String(s)),l.headers.set("Content-Range",`bytes ${r.start}-${r.end-1}/${o.size}`),l}catch(e){return new Response("",{status:416,statusText:"Range Not Satisfiable"})}}async function tH(e){let t={},n=`${e.replace(".tsv.gz","")}.tsv.li.gz`,i=await tU(n),o=(await i.text()).split("\n");for(let e=0;e<o.length-1;e++){let[n,i]=o[e].split("	");if("#"===n[0])continue;let r=parseInt(i),a=parseInt(o[e+1].split("	")[1]);t[n]=[r,a]}return t}async function tG(e){let t={},n=e.split("\n");for(let e=0;e<n.length-1;e++){let[i,o,r]=n[e].split("	");if("#"===i[0])continue;let a=parseInt(o),s=a+parseInt(r);t[i]=[a,s]}return t}function tj(e,t,n,i="tsv"){let o=eT(e);return t?t+=n+"/":t=eg("cache/"+n+"/"),t+o+"-"+n+"."+i+".gz"}function tq(e,t,n=11){return"WBGene"===e&&(n=8),e+t.padStart(n,"0")}async function tz(){let e=`ideogram-${f}`;return(await caches.keys()).forEach(t=>{t.startsWith("ideogram-")&&t!==e&&caches.delete(t)}),await caches.open(e)}async function tU(e){let t=await tz();window.ideoCache=t,window.createPartialResponse=tW;let n=e.replace(".gz","");if(void 0===await t.match(n)){let i=await fetch(e),o=await i.blob(),r=tN(tD(new Uint8Array(await o.arrayBuffer()))),a=r.length,s=new Response(new Blob([r],{type:"text/tab-separated-values"}),{headers:new Headers({"Content-Length":a})});await t.put(n,s)}return await t.match(n)}async function tV(e,t){e=e.replace(".gz","");let n=t[0]+1,i=t[1]-1,o=new Request(e,{headers:new Headers({"content-type":"multipart/byteranges",range:`bytes=${n}-${i}`})}),r=await tz(),a=await r.match(o),s=await tW(o,a);return await s.text()}async function tY(e,t,n,i=null){let o,r;let a=performance.now(),s=await tU(e);o=e.includes(".json")?await s.json():await s.text();let l=performance.now();if(t.fetch=Math.round(l-a),e.includes("tissue"))r=n(o,t,await tH(e));else if(e.includes("variant")){let i=e.replace(".li","");await tU(i);let a=await tG(o);r=n(o,t,a)}else r=n(o,t,i);return t.parseCache=Math.round(performance.now()-l),[r,t]}async function tX(e,t){let n=Ideogram.tissueCache,i=n.byteRangesByName[e];if(Ideogram.cacheRangeFetch||(Ideogram.cacheRangeFetch=tV),!i)return null;let o=null;t.cacheDir&&(o=t.cacheDir);let r=tj("homo-sapiens",o,"tissues","tsv"),a=await tV(r,i),s=[],l=a.split("	").slice(1);for(let e=0;e<l.length;e++){let t=l[e].split(";").map(e=>""===e?0:e),i=t.length;15===i?t.splice(1,0,0):14===i?(t.splice(1,0,0),t.splice(1,0,0)):13===i&&(t.splice(1,0,0),t.splice(1,0,0),t.splice(1,0,0));let o=t[0],r=t.slice(1,6),a=parseFloat(r[0]),c=parseFloat(r[1]),d=parseFloat(r[2]),u={min:a,q1:c,median:d,q3:parseFloat(r[3]),max:parseFloat(r[4]),quantiles:t.slice(6).map(e=>parseInt(e))},h=n.tissueNames[o],f=n.tissueColors[o],p=parseInt(n.tissueSamples[o]);s.push({tissue:h,expression:u,color:f,samples:p})}return s}n(9449),window.cacheRangeFetch=tV;let tK={0:"unknown",1:"germline",2:"somatic",4:"inherited",8:"paternal",16:"maternal",32:"de-novo",64:"biparental",128:"uniparental",256:"not-tested",512:"tested-inconclusive",0x40000000:"other"};function tJ(e,t){let[n,i]=e[t].split("|");return["MONDO:"+n,i.replaceAll("_"," ")]}function tQ(e,t){return t[e].replaceAll("_"," ")}async function tZ(e,t){let n=[],i=Ideogram.variantCache,o=i.byteRangesByName[e];if(Ideogram.cacheRangeFetch||(Ideogram.cacheRangeFetch=tV),!o)return[];let r=t.config,a=null;r.cacheDir&&(a=r.cacheDir);let s=tj("homo-sapiens",a,"variants","tsv"),l=Ideogram.geneCache.lociByName[e],c=(await tV(s,o)).split("\n");for(let e=0;e<c.length;e++){let t=function(e,t){let[n,i,o,r,a,s,l,c,d,u,h,f,p]=e.split("	"),m=parseInt(i),g=""===l?null:parseFloat(l),y=t.keys,b=function(e,t){let n=[];if(""===e)return[{id:"",disease:"Not provided"}];let i=e.split(",");for(let e=0;e<i.length;e++){let[o,r]=tJ(t,parseInt(i[e])),a={id:o,name:r};n.push(a)}return n}(s,y.diseaseArray),v=tQ(c,y.reviewStatuses),x=tQ(d,y.clinicalSignificances),w=tQ(u,y.variantTypes),C=null;""!==h&&(C=function(e,t){let n=[],i=e.split(",");for(let e=0;e<i.length;e++){let[o,r]=t[parseInt(i[e])].split("|"),a={id:o,name:r};n.push(a)}return n}(h,y.molecularConsequenceArray));let A=tK[f];return{chromosome:n,position:m,afExac:g,clinvarVariantId:o,refAllele:r,altAllele:a,diseases:b,reviewStatus:v,rawReviewStatus:parseInt(c),clinicalSignificance:x,rawClinicalSignificance:parseInt(d),variantType:w,molecularConsequences:C,dbSnpId:p?"rs"+p:null,origin:A,rawOrigin:parseInt(f)}}(c[e],i);t.positionRelative=t.position-l[1],n.push(t)}return n}function t0(e){return JSON.parse(e.split("= ")[1])}async function t1(e){if(!e.useCache)return;let t=e.organism,n=null;if(e.cacheDir&&(n=e.cacheDir),e.awaitCache){let i=Promise.all([t5("gene",t,e,n),t5("paralog",t,e,n),t5("interaction",t,e,n),t5("synonym",t,e,n)]);return e.showGeneStructureInTooltip&&(t5("geneStructure",t,e,n),t5("protein",t,e,n),t5("tissue",t,e,n),e.showVariantInTooltip&&t5("variant",t,e,n)),i}t5("gene",t,e,n),t5("paralog",t,e,n),t5("interaction",t,e,n),e.showGeneStructureInTooltip&&(t5("geneStructure",t,e,n),t5("protein",t,e,n),t5("synonym",t,e,n),t5("tissue",t,e,n),e.showVariantInTooltip&&t5("variant",t,e,n))}let t2={gene:{metadata:"Gene",dir:"genes",fn:function(e){let[t,n,i,o,r,a,s]=e;Ideogram.geneCache={interestingNames:t,nameCaseMap:n,namesById:i,fullNamesById:o,idsByName:r,lociByName:a,lociById:s}},parseFn:function(e,t){let n;let i=[],o={},r={},a={},s={},l={},c={},d=[],u={},h=performance.now(),f=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-h),h=performance.now();for(let e=0;e<f.length;e++){let t=f[e];if(""===t)continue;if("#"===t[0]){"## prefix"===t.slice(0,9)&&(n=t.split("prefix: ")[1]);continue}let[h,p,m,g,y,b,v]=t.trim().split(/\t/),x=decodeURIComponent(b),w=parseInt(p),C=w+parseInt(m),A=tq(n,g);d.push([h,w,C,A,y,x]);let S=[h,w,C];if(i.push(y),o[y.toLowerCase()]=y,r[A]=y,a[A]=x,s[y]=A,l[y]=S,c[A]=S,void 0!==v){let e=[],t=v.split(",");for(let n=0;n<t.length;n++)e.push(parseInt(t[n],10));u[y]=e}}let p=performance.now();return t.parseCacheLoop=Math.round(p-h),t.parseAnnots=Math.round(performance.now()-p),[i,o,r,a,s,l,c]}},paralog:{metadata:"Paralog",dir:"paralogs",fn:function(e){Ideogram.paralogCache={paralogsByName:e}},parseFn:function(e,t){let n;let i={},o=performance.now(),r=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-o),o=performance.now();for(let e=0;e<r.length;e++){let t=r[e];if(""===t)continue;if("#"===t[0]){"## prefix"===t.slice(0,9)&&(n=t.split("prefix: ")[1]);continue}let o=t.trim().split(/\t/),a=o[0],s=o[1],l=[];if("_"===o[2][0]){let e=i[o[2].slice(1).toUpperCase()],t=tq(n,s);for(let n=0;n<e.length;n++){let i=e[n];i!==t&&l.push(i)}l.unshift(tq(n,o[3]))}else{let e=o.slice(2);for(let t=0;t<e.length;t++){let i=e[t];i!==s&&l.push(tq(n,i))}}i[a.toUpperCase()]=l}let a=performance.now();return t.parseCacheLoop=Math.round(a-o),i}},interaction:{metadata:"Interaction",dir:"interactions",fn:function(e){Ideogram.interactionCache=e},extension:"json",parseFn:function(e,t,n){let i=performance.now(),o={},r=n.replace("-"," "),a=r[0].toUpperCase()+r.slice(1);for(let t in i=performance.now(),e.interactions){let n=e.interactions[t];o[t]={result:[]};for(let i=0;i<n.length;i++){let r=n[i],s=r[0];o[t].result.push({fields:{left:{values:r[1]},right:{values:r[2]}},id:"WP"+s,name:e.pathwayNamesById[s],species:a})}}let s=performance.now();return t.parseCacheLoop=Math.round(s-i),o}},geneStructure:{metadata:"GeneStructure",dir:"gene-structures",fn:function(e){Ideogram.geneStructureCache=e},parseFn:function(e,t){let n,i;let o={},r=performance.now(),a=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-r),r=performance.now();for(let e=0;e<a.length;e++){let t=a[e];if(""===t)continue;if("#"===t[0]){if("#"===t[1]){let[e,o]=function(e){let t=e.split(" keys: ");if(t.length<2)return[null];let n=t[0].split("## ")[1],i={};return t[1].split(", ").forEach(e=>{let t=e.split(" = ");i[t[0]]=t[1]}),[n,i]}(t);"biotype"===e?n=o:"subpart"===e&&(i=o)}continue}let r=t.trim().split(/\t/),[s,l,c,d]=r.slice(0,4),u=parseInt(l),h=s.split("-").slice(0,-1).join("-"),f=function(e,t){let n=[];for(let i=0;i<e.length;i++){let o=e[i].split(";"),r=[t[parseInt(o[0])],parseInt(o[1]),parseInt(o[2])];n.push(r)}return n}(r.slice(4),i),p={name:s,startOffset:u,biotype:n[c],strand:d,subparts:f};h in o?o[h].push(p):o[h]=[p]}let s=performance.now();return t.parseCacheLoop=Math.round(s-r),o}},protein:{metadata:"Protein",dir:"proteins",fn:function(e){Ideogram.proteinCache=e},parseFn:function(e,t){let n,i;let o={},r=performance.now(),a=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-r),r=performance.now();let s=null;for(let e=0;e<a.length;e++){let t=a[e];if(""===t)continue;if("#"===t[0]){if("#"===t[1]){let[e,i]=function(e){let t=e.split(" keys: ");if(t.length<2)return[null];let n=t[0].split("## ")[1],i={};return t[1].split("; ").forEach(e=>{let t=e.split(" = ");i[t[0]]=t[1]}),[n,i]}(t);"domain"===e&&(n=i)}continue}let r=t.trim().split(/\t/),l=r[0];if(isNaN(l)){let e=l.split("-"),t=e.slice(-1)[0],n=parseInt(t[0]),o=t.length;i=n*10**(o-1),s=e.slice(0,-1).join("-")}else l=s+"-"+(l=i+parseInt(l));let c={transcriptName:l,protein:function(e,t){let n=[];for(let i=0;i<e.length;i++){let o=e[i].split(";"),r=[t[o[0]],parseInt(o[1]),parseInt(o[2])];n.push(r)}return n}(r.slice(1),n)};s in o?o[s].push(c):o[s]=[c]}let l=performance.now();return t.parseCacheLoop=Math.round(l-r),o}},synonym:{metadata:"Synonym",dir:"synonyms",fn:function(e){Ideogram.synonymCache=e},parseFn:function(e,t){let n={},i=performance.now(),o=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-i),i=performance.now();for(let e=0;e<o.length;e++){let t=o[e];if(""===t||"#"===t[0])continue;let i=t.trim().split(/\t/),r=i[0],a=i.slice(1);n[r]=a}let r=performance.now();return t.parseCacheLoop=Math.round(r-i),{byGene:n}}},tissue:{metadata:"Tissue",dir:"tissues",fn:function(e){Ideogram.tissueCache=e},parseFn:function(e,t,n){let i,o,r;let a=performance.now(),s=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-a),a=performance.now();for(let e=0;e<s.length;e++){let t=s[e];if(""!==t&&"#"===t[0]){if("## tissues"===t.slice(0,10)){let e=function(e){let t=[],n=[],i=[];return e.split(";").forEach(e=>{let o=e.split(",");t.push(o[0]),n.push(o[1]),i.push(o[2])}),[t,n,i]}(t.split("tissues: ")[1]);[i,o,r]=e}continue}}let l=performance.now();return t.parseCacheLoop=Math.round(l-a),{getTissueExpressions:tX,byteRangesByName:n,tissueNames:i,tissueColors:o,tissueSamples:r}}},variant:{metadata:"Variant",dir:"variants",fn:function(e){Ideogram.variantCache=e},extension:"tsv.li",parseFn:function(e,t,n){let i,o,r,a,s,l,c;let d=performance.now(),u=e.split(/\r\n|\n/);t.rawTsvSplit=Math.round(performance.now()-d),d=performance.now();for(let e=0;e<u.length;e++){let t=u[e];if(""!==t){if("#"===t[0]){let e=t.slice(0,50);e.includes("disease_mondo_ids_and_names")?[i,o]=function(e){let t={},n=t0(e);for(let e=0;e<n.length;e++){let[i,o]=tJ(n,e);t[i]=o}return[n,t]}(t):e.includes("variant_types")?r=t0(t):e.includes("clinical_significances")?a=t0(t):e.includes("clinical_review_statuses")?s=t0(t):e.includes("molecular_consequences")&&([l,c]=function(e){let t={},n=t0(e);for(let e=0;e<n.length;e++){let[i,o]=n[e].split("|"),r=o.replaceAll("_"," ");t[i]=r}return[n,t]}(t));continue}break}}let h=performance.now();return t.parseCacheLoop=Math.round(h-d),{getVariants:tZ,byteRangesByName:n,keys:{diseaseArray:i,diseaseNamesById:o,variantTypes:r,clinicalSignificances:a,reviewStatuses:s,molecularConsequenceArray:l,molecularConsequenceById:c}}}}};async function t5(e,t,n,i=null){let o;let r=t2[e],a=n.debug,s=performance.now(),l={};if(!function(e,t){let n=ef[function(e){for(let t in e=eT(e),ef){let n=ef[t],i=eT(n.commonName),o=eT(n.scientificName);if(i===e||o===e)return t}return null}(e)]||{},i="has"+t+"Cache";return n[i]&&!0===n[i]}(t,r.metadata))return;let c=e+"Cache";if(Ideogram[c]&&Ideogram[c][t])return;Ideogram[c]||(Ideogram[c]={});let d=r?.extension??"tsv",u=tj(t,i,r.dir,d);return[o,l]=await tY(u,l,r.parseFn,t),a&&console.time(`${e}Cache total`),new Promise(n=>{r.fn(o,t),Ideogram[c][t]=Ideogram[c],a&&(console.timeEnd(`${e}Cache total`),l.total=Math.round(performance.now()-s),console.log("perfTimes in init"+r.metadata+"Cache:",l)),n()})}function t3(e){void 0!==e.timeout&&window.clearTimeout(e.timeout),e.rawAnnots=e.setOriginalTrackIndexes(e.rawAnnots),e.config.annotationsDisplayedTracks?e.annots=e.updateDisplayedTracks(e.config.annotationsDisplayedTracks):(e.annots=e.processAnnotData(e.rawAnnots),e.config.filterable&&e.initCrossFilter(),e.drawProcessedAnnots(e.annots))}function t8(e){var t,n,i=new Date().getTime(),o=this,r=o.config,a=r.annotations;o.initDrawChromosomes(),r.annotationsPath&&(o.rawAnnots?t3(o):function e(){o.timeout=setTimeout(function(){!o.rawAnnots||o.rawAnnots&&void 0!==o.rawAnnots.then?e():t3(o)},50)}()),function(e,t){var n,i,o,r;if(!0===e.showBandLabels&&(o=new Date().getTime(),t.hideUnshownBandLabels(),r=new Date().getTime(),e.debug&&console.log("Time in showing bands: "+(r-o)+" ms"),"vertical"===e.orientation))for(n=0;n<t.chromosomesArray.length;n++)i="#"+t.chromosomesArray[n].id,t.rotateChromosomeLabels(ep.select(i),n);!0===e.showChromosomeLabels&&t.drawChromosomeLabels(t.chromosomes)}(r,o),r.brush?o.createBrush(r.brush):r.cursorPosition&&o.createClickCursor(r.cursorPosition),a&&(Array.isArray(a)?o.drawAnnots(a):(o.rawAnnots=a,o.afterRawAnnots(),t3(o))),t=new Date().getTime(),r.debug&&console.log("Time in drawChromosome: "+(t-i)+" ms"),n=new Date().getTime(),r.debug&&console.log("Time constructing ideogram: "+(n-e)+" ms"),o.setOverflowScroll(),"collinear"===r.geometry&&eH(o),o.config.debug&&console.time("initCache: Ideogram"),t1(o.config).then(()=>{o.config.debug&&console.timeEnd("initCache: Ideogram"),o.onLoadCallback&&o.onLoadCallback()})}class t4{constructor(e){this._config=e,this._description=this._normalize(this._config.ploidyDesc)}getChromosomesNumber(e){if(!this._config.ploidyDesc)return this._config.ploidy||1;var t=this._config.ploidyDesc[e];return t instanceof Object?Object.keys(t)[0].length:t.length}_normalize(e){var t,n,i=[];if(!e)return e;for(t in e)"string"==typeof(n=e[t])?("vertical"===this._config.orientation&&(n=n.split("").reverse()),i.push({ancestors:n,existence:this._getexistenceArray(n.length)})):i.push({ancestors:Object.keys(n)[0],existence:n[Object.keys(n)[0]]});return i}_getexistenceArray(e){for(var t=[],n=0;n<e;n++)t.push("11");return t}getSetSize(e){return this._description?this._description[e].ancestors.length:1}getAncestor(e,t){return this._description?this._description[e].ancestors[t]:""}exists(e,t,n){return!this._description||Number(this._description[e].existence[t][n])>0}}class t6{constructor(e){this._node=e}getLabel(){return ep.select(this._node.parentNode).select("text.chrLabel").text()}getSetLabel(){return ep.select(this._node.parentNode).select("text.chrSetLabel").text()}}class t7{constructor(e,t){if(this._config=e,this._ideo=t,this._ploidy=this._ideo._ploidy,this._translate=void 0,"chrSetMargin"in e)this.chrSetMargin=e.chrSetMargin;else{var n=this._config.chrMargin;this.chrSetMargin=this._config.ploidy>1?n:0}this._tickSize=8,this._isRotated=!1}_getLeftMargin(){return this.margin.left}_getYScale(){return 20/this._config.chrWidth}getChromosomeLabels(e){var t=new t6(e),n=[];return this._ideo.config.ploidy>1&&n.push(t.getSetLabel()),n.push(t.getLabel()),n.filter(function(e){return e.length>0})}getChromosomeBandLabelTranslate(e){var t,n,i,o=this._ideo,r=this._tickSize,a=o.config.orientation;return"vertical"===a?i="rotate(-90)translate("+(t=r)+","+(n=o.round(2+e.px.start+e.px.width/2))+")":"horizontal"===a&&(i="translate("+(t=o.round(-r+e.px.start+e.px.width/2))+","+(n=-10)+")"),{x:t,y:n,translate:i}}didRotate(e,t){var n,i,o,r,a,s,l,c,d;i=(n=this._ideo).config.taxid,o=t.id.split("-")[0].replace("chr",""),r=(a=n.chromosomes[i][o]).bands,c=(l=ep.select(t.parentNode)).attr("transform"),d=/scale\(.*\)/.exec(c),c=c.replace(d,""),l.attr("transform",c),s=a.width,(a=n.getChromosomeModel(r,o,i,e)).oldWidth=s,n.chromosomes[i][o]=a,n.drawChromosome(a),n.handleRotateOnClick(),n.rawAnnots&&(n.displayedTrackIndexes?n.updateDisplayedTracks(n.displayedTrackIndexes):(n.annots=n.processAnnotData(n.rawAnnots),n.drawProcessedAnnots(n.annots),n.config.filterable&&n.initCrossFilter())),!0===n.config.showBandLabels&&(n.drawBandLabels(n.chromosomes),n.hideUnshownBandLabels()),n.onDidRotateCallback&&n.onDidRotateCallback(a)}rotate(e,t,n){var i,o,r,a;a=(i=this._ideo).selector+" .chrSetLabel, "+i.selector+" .chrLabel",r=document.querySelector(i.selector).getBoundingClientRect(),o=ep.selectAll(i.selector+" g.chromosome").filter(function(){return this!==n}),this._isRotated?(this._isRotated=!1,i.config.chrHeight=i.config.chrHeightOriginal,i.config.chrWidth=i.config.chrWidthOriginal,i.config.annotationHeight=i.config.annotationHeightOriginal,this.rotateBack(e,t,n,function(){o.style("display",null),ep.selectAll(a).style("display",null),i._layout.didRotate(t,n)})):(this._isRotated=!0,o.style("display","none"),ep.selectAll(a).style("display","none"),this.rotateForward(e,t,n,function(){var e,o,a;i.config.chrHeightOriginal=i.config.chrHeight,i.config.chrWidthOriginal=i.config.chrWidth,i.config.annotationHeightOriginal=i.config.annotationHeight,"VerticalLayout"===i._layout._class?(o=r.width-20,a=window.innerWidth-20):(o=r.height-10,a=window.innerHeight-10),e=(a<o?a:o)-2*i.config.chrMargin,i.config.chrHeight=e,i.config.chrWidth*=2.3,i.config.annotationHeight*=1.7,i._layout.didRotate(t,n)}))}getChromosomeLabelClass(){return 1===this._config.ploidy?"chrLabel":"chrSetLabel"}_getAdditionalOffset(){var e=this._config,t=e.annotationsNumTracks||e.numAnnotTracks||1;return(e.annotationHeight||0)*t}_getChromosomeSetSize(e){return this._ploidy.getSetSize(e)*this._config.chrWidth*2+this.chrSetMargin}getChromosomeSetLabelAnchor(){return"middle"}getChromosomeLabelYPosition(){return -5.5}getChromosomeSetLabelYPosition(e){return 1===this._config.ploidy?this.getChromosomeLabelYPosition(e):-2*this._config.chrWidth}}let t9=t7;class ne extends t9{constructor(e,t){super(e,t),this._class="VerticalLayout",this.margin={top:30,left:15}}rotateForward(e,t,n,i){var o=this.getChromosomeScale(n);ep.select(n.parentNode).transition().attr("transform","translate(20, 25) "+o).on("end",i);var r=this.getChromosomeLabels(n),a=(20+this._config.chrWidth)*1.3;ep.select(this._ideo.getSvg()).append("g").attr("class","tmp").selectAll("text").data(r).enter().append("text").attr("class",function(e,t){return 0===t&&2===r.length?"chrSetLabel":null}).attr("x",0).attr("y",a).style("opacity",0).text(String).transition().style("opacity",1),this._ideo.config.orientation="horizontal"}rotateBack(e,t,n,i){var o=this.getChromosomeScaleBack(n),r=this.getChromosomeSetTranslate(e);ep.select(n.parentNode).transition().attr("transform",r+" "+o).on("end",i),ep.selectAll(this._ideo.selector+" g.tmp").style("opacity",0).remove(),this._ideo.config.orientation="vertical"}getHeight(){return this._config.chrHeight+1.5*this.margin.top}getWidth(){return"97%"}getChromosomeBandTickY1(){return 2}getChromosomeBandTickY2(){return 10}getChromosomeSetLabelTranslate(){return"rotate(-90)"}getChromosomeBandLabelAnchor(){return null}getChromosomeScale(e){var t,n;return t=ep.select(this._ideo.selector).node().getBoundingClientRect(),n=e.getBoundingClientRect(),"scale("+t.width/n.height*.97+", "+this._getYScale()+")"}getChromosomeScaleBack(e){var t,n,i;return n=(i=this._ideo.config).taxid,t=e.id.split("-")[0].replace("chr",""),"scale("+this._ideo.chromosomes[n][t].oldWidth/(3*i.chrHeight)*.97+", "+1/this._getYScale()+")"}getChromosomeSetTranslate(e){return"rotate(90) translate("+this.margin.top+", -"+this.getChromosomeSetYTranslate(e)+")"}getChromosomeSetYTranslate(e){var t,n=this._getAdditionalOffset(),i=this._config,o=i.chrMargin,r=i.chrWidth;if(!i.ploidyDesc)return"histogram"===i.annotationsLayout?o+e*(o+r+3)+2*i.barWidth:(t=r+e*(o+r)+2*n+("legendPad"in i?i.legendPad:0),n>0)?t:t+4+2*e;if(!this._translate){this._translate=[this._ploidy.getSetSize(0)*r*2];for(var a,s=1;s<this._config.ploidyDesc.length;s++)a=this._translate[s-1],this._translate[s]=a+this._getChromosomeSetSize(s-1)}return this._translate[e]}getChromosomeSetLabelXPosition(){return-(this._config.chrWidth*this._config.ploidy/2)}getChromosomeLabelXPosition(){return-(this._config.chrWidth/2)}}class nt extends t9{constructor(e,t){super(e,t),this._class="HorizontalLayout",this.margin={left:20,top:30}}_getLeftMargin(){var e=t9.prototype._getLeftMargin.call(this);return this._config.ploidy>1&&(e*=1.8),e}rotateForward(e,t,n,i){var o,r;o="rotate(90) translate(30, -37.5) ",ep.select(n.parentNode).transition().attr("transform",o).on("end",i),r=this.getChromosomeLabels(n),ep.select(this._ideo.getSvg()).append("g").attr("class","tmp").selectAll("text").data(r).enter().append("text").attr("class",function(e,t){return 0===t&&2===r.length?"chrSetLabel":null}).attr("x",26).attr("y",function(e,t){return(t+1+r.length%2)*12}).style("text-anchor","middle").style("opacity",0).text(String).transition().style("opacity",1),this._ideo.config.orientation="vertical"}rotateBack(e,t,n,i){var o=this.getChromosomeSetTranslate(e);ep.select(n.parentNode).transition().attr("transform",o).on("end",i),ep.selectAll(this._ideo.selector+" g.tmp").style("opacity",0).remove(),this._ideo.config.orientation="horizontal"}getHeight(e){void 0===e&&(e=this._config.taxids[0]);var t=this._config.chromosomes[e].length,n=this.getChromosomeSetYTranslate(t-1);return(n+=this._getChromosomeSetSize(t-1))+2*this._getAdditionalOffset()}getWidth(){return this._config.chrHeight+1.5*this.margin.top}getChromosomeSetLabelAnchor(){return"end"}getChromosomeBandLabelAnchor(){return null}getChromosomeBandTickY1(){return 2}getChromosomeBandTickY2(){return 10}getChromosomeSetLabelTranslate(){return null}getChromosomeSetTranslate(e){return"translate("+this._getLeftMargin()+", "+this.getChromosomeSetYTranslate(e)+")"}getChromosomeSetYTranslate(e){if(!this._config.ploidyDesc)return this._config.chrMargin*(e+1);if(!this._translate){this._translate=[1];for(var t=1;t<this._config.ploidyDesc.length;t++)this._translate[t]=this._translate[t-1]+this._getChromosomeSetSize(t-1)}return this._translate[e]}getChromosomeSetLabelXPosition(e){return 1===this._config.ploidy?this.getChromosomeLabelXPosition(e):-20}getChromosomeSetLabelYPosition(e){var t=this._ploidy.getSetSize(e),n=this._config,i=n.chrMargin,o=n.chrWidth;return 1===n.ploidy?o/2+3:t*i/2}getChromosomeLabelXPosition(){return -8}getChromosomeLabelYPosition(){return this._config.chrWidth}}class nn extends t9{constructor(e,t){super(e,t),this._class="PairedLayout",this.margin={left:30}}getHeight(){return this._config.chrHeight+1.5*this.margin.left}getWidth(){return"97%"}getChromosomeBandTickY1(e){return e%2?this._config.chrWidth:2*this._config.chrWidth}getChromosomeBandTickY2(e){var t=this._config.chrWidth;return e%2?t-this._tickSize:2*t+this._tickSize}getChromosomeBandLabelAnchor(e){return e%2?null:"end"}getChromosomeBandLabelTranslate(e,t){var n=t%2?10:-this._config.chrWidth-10,i=this._ideo.round(e.px.start+e.px.width/2)+3;return{x:i,y:i,translate:"rotate(-90) translate("+n+", "+i+")"}}getChromosomeLabelXPosition(){return-this._tickSize}getChromosomeSetLabelXPosition(){return-(this._config.chrWidth/2)}getChromosomeSetLabelTranslate(){return"rotate(-90)"}getChromosomeSetTranslate(e){var t=this.getChromosomeSetYTranslate(e);return"rotate(90) translate("+this.margin.left+", -"+t+")"}getChromosomeSetYTranslate(e){return 200*(e+1)}}class ni extends t9{constructor(e,t){super(e,t),this._class="SmallLayout",this.margin={left:36.5,top:10};var n=this._ideo.getTaxid(this._ideo.config.organism);this.chrs=e.chromosomes[n];var i=this.chrs.length;this.chrsPerRow=Math.ceil(i/e.rows)}getHeight(){var e=1.25*this._config.chrHeight;return this._config.rows*(e+this.margin.top)}getWidth(){return"97%"}getChromosomeBandLabelTranslate(){}getChromosomeSetLabelTranslate(){return"rotate(-90)"}getChromosomeSetTranslate(e){var t,n;return e>this.chrsPerRow-1?(t=this.margin.left+1.3*this._config.chrHeight,n=this.getChromosomeSetYTranslate(e-this.chrsPerRow)):(t=this.margin.left,n=this.getChromosomeSetYTranslate(e)),"rotate(90) translate("+t+", -"+n+")"}getChromosomeSetYTranslate(e){var t=.3*this._getAdditionalOffset();return this.margin.left*e+this._config.chrWidth+2*t+t*e}getChromosomeSetLabelXPosition(e){return-((this._ploidy.getSetSize(e)*this._config.chrWidth+20)/2)+(this._config.ploidy>1?0:this._config.chrWidth)}getChromosomeLabelXPosition(){return-(this._config.chrWidth/2)}}function no(e){if(27===e.keyCode){let e=document.querySelector("._ideogramTooltip");e&&(e.style.opacity=0);let t=document.querySelector("#ideo-pathway-container");t&&t.remove()}}function nr(e){var t,n;this.config.annotationsPath&&this.fetchAnnots(this.config.annotationsPath),function(e){if("ploidyDesc"in e.config&&"string"==typeof e.config.ploidyDesc){for(var t=[],n=0;n<e.numChromosomes;n++)t.push(e.config.ploidyDesc);e.config.ploidyDesc=t}e._ploidy=new t4(e.config)}(this),this._layout="perspective"in(n=this.config)&&"comparative"===n.perspective?new nn(n,this):"rows"in n&&n.rows>1?new ni(n,this):"vertical"===n.orientation?new ne(n,this):"horizontal"===n.orientation?new nt(n,this):new ne(n,this),ep.selectAll(this.config.container+" #_ideogramOuterWrap").remove(),ep.select(this.config.container).append("div").attr("id","_ideogramOuterWrap").append("div").attr("id","_ideogramTrackLabelContainer").style("position","absolute"),ep.select(this.config.container+" #_ideogramOuterWrap").append("div").attr("id","_ideogramMiddleWrap").style("position","relative").style("overflow-x","auto").style("transform","translateZ(0)").append("div").attr("id","_ideogramInnerWrap").append("svg").attr("id","_ideogram").attr("class",(t="",this.config.showChromosomeLabels&&("horizontal"===this.config.orientation?t+="labeledLeft ":t+="labeled "),!1===this.config.rotatable&&(t+="no-rotate "),this.config.annotationsLayout&&"overlay"===this.config.annotationsLayout&&(t+="faint"),t)).attr("width",this._layout.getWidth()).attr("height",this._layout.getHeight()).html(this.getBandColorGradients()),this.isOnlyIdeogram=1===document.querySelectorAll("#_ideogram").length,ep.select(this.config.container+" #_ideogramOuterWrap").append("div").attr("class","_ideogramTooltip").attr("id",`${this.config.container.replace("#","")}_ideogramTooltip`).style("opacity",0).style("position","fixed").style("text-align","center").style("padding","4px").style("font","12px sans-serif").style("background","white").style("border","1px solid black").style("border-radius","5px").style("z-index","1000").style("margin-left","-2px"),document.removeEventListener("keydown",no),document.addEventListener("keydown",no),this.finishInit(e)}var na="";function ns(e,t,n){return n.config.dataDir+e[t]}function nl(){var e,t,n,i,o,r=this.config.taxids;for(n=0;n<r.length;n++)t=r[n],i=this.config.chromosomes[t],o=this.bandsArray[t],this.config.showNonNuclearChromosomes||(i=i.filter(e=>"MT"!==e),void 0!==o&&(o=o.filter(e=>"MT"!==e[0].chr))),e=i,"undefined"!=typeof chrBands&&e.length>=chrBands.length/2&&(this.coordinateSystem="bp"),this.chromosomes[t]={},this.setSexChromosomes(i),function(e,t,n,i){var o,r,a,s,l;for(o=0;o<t.length;o++)a=t[o],void 0!==e&&(r=e[o]),l=o+i.config.taxids.indexOf(n),s=i.getChromosomeModel(r,a,n,l),"string"!=typeof a&&(a=a.name.split(" ").slice(-1)[0].replace("chr","")),i.chromosomes[n][a]=s,i.chromosomesArray.push(s),!function(e,t,n){var i=n.config.ploidy;return"sex"in n.config&&(2===i&&n.sexChromosomes.index+1===t||"female"===n.config.sex&&"Y"===e.name)}(s,o,i)&&i.drawChromosome(s)}(o,i,t,this),this.config.showBandLabels&&this.drawBandLabels(this.chromosomes),this.handleRotateOnClick(),this._gotChrModels=!0}function nc(){var e=this;"rotatable"in e.config&&!1===e.config.rotatable?ep.selectAll(e.selector).style("cursor","default"):ep.selectAll(e.selector+" .chromosome-set").on("click",function(){let t=this.children[1];e.rotateAndToggleDisplay(t)})}function nd(){call(this.onLoadCallback)}var nu={},nh={},nf={};class np{constructor(e,t){this.rawAnnots=this.parseBed(e,t)}static componentToHex(e){var t=parseInt(e,10).toString(16);return 1===t.length?"0"+t:t}static rgbToHex(e,t,n){return"#"+np.componentToHex(e)+np.componentToHex(t)+np.componentToHex(n)}parseGenomicCoordinates(e,t){var n,i,o,r;return n=e[0],i=parseInt(e[1],10),r=(o=parseInt(e[2],10))-i,t&&(n=n.slice(3)),[n,i,o,r]}parseAnnotFromTsvLine(e,t,n){var i,o,r,a,s,l,c,d=e.split(/\s/g);return([r,a,stop,length]=this.parseGenomicCoordinates(d,n),-1===(o=t.indexOf(r)))?[null,null]:(i=["",a,length,0],d.length>=4&&(c=d[3],i[0]=c),d.length>=8&&(s=d[8].split(","),l=np.rgbToHex(s[0],s[1],s[2]),i.push(l)),[o,i])}parseRawAnnots(e,t,n,i){var o,r,a,s,l,c;for(c=!0,!1===isNaN(parseInt(n[t],10))&&(c=!1),o=t;o<n.length;o++)r=n[o],[a,s]=this.parseAnnotFromTsvLine(r,i,c),null!==a&&e[a].annots.push(s);return l=["name","start","length","trackIndex"],n[t].length>=8&&l.push("color"),{keys:l,annots:e}}parseBed(e,t){var n,i,o,r,a=[],s=e.split(/\r\n|\n/);for(n=0,i=Object.keys(t.chromosomes[t.config.taxid]);n<i.length;n++)o=i[n],a.push({chr:o,annots:[]});return r=0,("chr"===s[0].slice(0,3)||isNaN(parseInt(s[0],10)))&&(r=1),this.parseRawAnnots(a,r,s,i)}}class nm{constructor(e,t){this.rawAnnots=this.parseTsv(e,t)}parseGenomicCoordinates(e){return[e[1],parseInt(e[2],10),parseInt(e[3],10)]}parseTsv(e,t){let n;let i=e.split(/\r\n|\n/),o=Object.keys(t.chromosomes[t.config.taxid]),r=[];for(let e=0;e<o.length;e++){let t=o[e];r.push({chr:t,annots:[]})}let a={},s=[];for(let e=0;e<i.length;e++){let t=i[e];if(""===t)continue;if("#"===t[0]){if("#"===t[1]){let e=t.split(" keys: ");if(e.length>1){let t=e[0].slice(3),n=e[1].split(";");a[eL(t)]=n}}else(n=t.slice(1).trim().split(/\t/).map(e=>eL(e))).slice(4).forEach((e,t)=>s.push(eL(e)));continue}let l=t.trim().split(/\t/),c=l[0],[d,u,h]=this.parseGenomicCoordinates(l),f=o.indexOf(d);if(-1===f)continue;let p=l.slice(4);for(let e=0;e<4;e++){let t=s[e];if(t in a){let n=a[t],i=l[4+e].split(";"),o=[];if(""!==i[0])for(let e=0;e<i.length;e++){let t={},r=i[e].split("!");for(let e=0;e<r.length;e++){let i=n[e],o=r[e];t[eL(i)]=o}o.push(t)}p[e]=o}}let m=[c,d,u,h].concat(p);m.push(e),r[f].annots.push(m)}return n.push("initRank"),{keys:n,annots:r,innerKeysByField:a}}}var ng=["name","start","length","trackIndex","trackIndexOriginal","color"],ny={3:["00B","DDD","F00"],5:["00D","66D","DDD","F88","F00"],17:["00D","00D","00D","00D","00D","44D","44D","DDD","DDD","DDD","DDD","F88","F66","F22","F22","F00","F00","F00"]};function nb(e){var t,n,i;if(e.rawAnnots.metadata&&e.rawAnnots.metadata.trackLabels)t=e.rawAnnots.metadata.trackLabels;else if(e.config.heatmaps)for(i=0,t=[],n=e.config.heatmaps;i<n.length;i++)t.push(n[i].key);else t=e.rawAnnots.keys.slice(0).filter(e=>!ng.includes(e));return e.displayedTrackIndexes&&(t=t.filter(function(t,n){return e.displayedTrackIndexes.includes(n+1)})),t}function nv(e){var t,n,i=e.rawAnnots;if(!i.metadata||i.metadata.heatmapThresholds||e.config.heatmapThresholds)return n=ny[(t=e.config.heatmapThresholds?e.config.heatmapThresholds:e.rawAnnots.metadata.heatmapThresholds).length+1],(t=t.map((e,t)=>[e,"#"+n[t]])).push(["+","#"+n.slice(-1)[0]]),t}function nx(e,t,n,i,o){return e===t&&"+"===o&&n>i||n===o||0!==e&&e!==t&&n<=o&&n>i||0===e&&n<=o}function nw(e,t){var n,i,o,r,a,s,l,c;for(n=0;n<e.length;n++)i=e.length-1,!1===isNaN(a=parseFloat(r=(o=e[n])[0]))&&(r=a),0!==n&&(l=parseFloat(e[n-1][0])),s=o[1],nx(n,i,t,l,r)&&(c=s);return c}function nC(e){!1!==e.config.showTrackLabel&&(e.hideTrackLabelTimeout=window.setTimeout(function(){ep.select(e.config.container+" #_ideogramTrackLabel").transition().duration(500).style("opacity",0)},250))}function nA(e){var t,n,i,o,r=this,a=r.config,s=r._layout.margin.top,l=a.chrHeight+s;if("collinear"===a.geometry)return function(e,t){var n,i,o,r,a=0,s=t.config.showChromosomesLabels?2:-.1;for(ep.select(t.selector).classed("labeledLeft",!1),ep.selectAll(t.config.container+" canvas").remove(),o=0;o<e.length;o++)n=e[o].annots,r=t.chromosomesArray[o],0===o?i=12:(i=a+t.chromosomesArray[o-1].width+14,a+=t.chromosomesArray[o-1].width+s),function(e,t,n){var i,o,r,a,s=n.config.annotLabelHeight,l=n.config.annotationHeight,c=n.config.demarcateCollinearChromosomes,d=l+s+4;for(i=0;i<e.length;i++)if(r=t[(o=e[i]).trackIndex][0],a=t[o.trackIndex][1],r.fillStyle=o.color,c){if(o.startPx<1||o.startPx>a.width-1)continue;r.fillRect(o.startPx,1,.5,d)}else r.fillRect(o.startPx,s+1,.5,l);if(c)for(i=0;i<t.length;i++)r=t[i][0],a=t[i][1],r.fillStyle="#555",0===a.chrIndex&&r.fillRect(0,0,1,d),r.fillRect(a.width-1,0,1.1,d),r.fillRect(0,0,a.width+1,1),n.config.chrMargin&&r.fillRect(0,0,1.1,d)}(n,function(e,t,n){var i,o,r,a,s=e.width,l=[],c=n.config.annotLabelHeight,d=n.config.numAnnotTracks;for(i=0;i<d;i++)r=n.config.annotationHeight+c+4,a=e.id+"-canvas-"+i,o=t,e.chrIndex>0&&(o+=n.config.chrMargin*e.chrIndex-1),l.push([ep.select(n.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",a).attr("width",s+1).attr("height",r).style("position","absolute").style("left",o+"px").style("top",r*i+1+"px").nodes()[0].getContext("2d"),e]);return l}(r,i,t),t);!function(e,t){var n,i,o,r,a=t.config.annotLabelHeight;for(r=t.config.demarcateCollinearChromosomes?2:0,(o=ep.select(t.config.container+" #_ideogramTrackLabelContainer")).html(""),i=t.config.annotationHeight+a+4,n=0;n<e.length;n++)o.style("position","absolute").append("div").attr("class","_ideogramTrackLabel").style("opacity",1).style("position","absolute").style("text-align","center").style("padding","1px").style("font","11px sans-serif").style("background","white").style("line-height","10px").style("z-index","5").style("left",11+r+"px").style("top",i*n+r+"px").style("width","max-content").style("transform-origin","bottom left").style("text-align","left").html(e[n])}(nb(t),t),t.onDrawAnnotsCallback&&t.onDrawAnnotsCallback()}(e,r);if("heatmap-2d"===a.annotationsLayout)return function(e,t){var n,i,o,r,a=t.config.container,s=t._layout.margin.top,l=t.config.chrHeight+s,c=t.config.annotationHeight*e[0].values.length;for(ep.selectAll(a+" canvas").remove(),ep.select(a+" #_ideogramInnerWrap").style("max-width",c+"px"),ep.select(a+" #_ideogram").attr("width",c),i=t.chromosomesArray[0].id+"-canvas",n=2*t.config.chrWidth+t.config.annotationHeight-.5,o=ep.select(t.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",i).attr("width",c).attr("height",l).style("position","absolute").style("left",n+"px").style("top","0px").nodes()[0].getContext("2d"),r=0;r<e.length;r++)!function(e,t,n){var i,o,r,a=n.config.annotationHeight,s=n._layout.margin.top;for(i=0,r=e.values;i<r.length;i++)t.fillStyle=r[i],o=(i-1)*a,t.fillRect(o,e.startPx+s,a,2)}(e[r],o,t);t.onDrawAnnotsCallback&&t.onDrawAnnotsCallback()}(e,r);for(ep.selectAll(r.config.container+" canvas").remove(),function(e){ep.select(e.config.container+" #_ideogramTrackLabelContainer").append("div").attr("id","_ideogramTrackLabel").style("opacity",0).style("position","absolute").style("text-align","center").style("padding","1px").style("font","11px sans-serif").style("background","white").style("line-height","10px").style("z-index","9000")}(r),i=0;i<e.length;i++)t=e[i].annots,o=r.chromosomesArray[i],n=r.config.chrWidth,function(e,t,n,i){var o,r,a,s;for(o=0;o<e.length;o++)(a=t[(r=e[o]).trackIndex]).fillStyle=r.color,s=r.trackIndex-1,a.fillRect(s,r.startPx+i,n,.5)}(t,function(e,t,n,i){var o,r,a,s,l=[],c=i.config.numAnnotTracks;for(o=0;o<c;o++)a=i.config.annotationHeight,s=e.id+"-canvas-"+o,r=t-a*(c-o)-7,l.push(ep.select(i.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",s).attr("width",a).attr("height",n).style("position","absolute").style("left",r+"px").nodes()[0].getContext("2d"));return l}(o,r._layout.getChromosomeSetYTranslate(i),l,r),n,s);ep.selectAll(r.config.container+" canvas").on("mouseover",function(){var e,t,n,i,o,a,s,l;clearTimeout(r.hideTrackLabelTimeout),e=(e=nb(r)).join("<br>"),ep.select(r.config.container+" #_ideogramTrackLabel").interrupt().style("top","").style("left","").style("transform",null).style("transform","rotate(-90deg)").html(e),[t,n]=(i=e,o=this.id.split("-").slice(0,-1).join("-")+"-0",a=ep.select(r.config.container+" #"+o).nodes()[0].getBoundingClientRect(),s=ep.select(r.config.container+" #_ideogramTrackLabel").nodes()[0].getBoundingClientRect(),l=ep.select(r.config.container).nodes()[0].getBoundingClientRect(),[Math.round(a.left+s.width)-a.width-1-(l.left-7),-(i.split("<br>").length-2)*a.width+2]),function(e,t,n){ep.select(n.config.container+" #_ideogramTrackLabel").style("opacity",1).style("left",t+"px").style("top",e+"px").style("width","max-content").style("transform-origin","bottom left").style("text-align","left").on("mouseover",function(){clearTimeout(n.hideTrackLabelTimeout)}).on("mouseout",function(){nC(n)})}(n,t,r)}).on("mouseout",function(){nC(r)}),r.onDrawAnnotsCallback&&r.onDrawAnnotsCallback()}function n_(e){var t,n,i,o,r,a=new Date().getTime(),s=e.keys,l=e.annots;for(r=0,o=[];r<this.config.heatmaps.length;r++)i=this.config.heatmaps[r].key,o.push(s.indexOf(i));n=function(e,t,n){var i,o,r=[];for(o=0;o<t.length;o++)r.push({chr:(i=t[o]).chr,annots:function(e,t,n){var i,o,r,a,s,l,c,d=[];for(i=0;i<t.length;i++)for(o=0,r=t[i];o<e.length;o++)a=r.slice(0,3),s=r[e[o]],l=nw(n.config.heatmaps[o].thresholds,s),c=o,a.push(c,l,s),d.push(a);return d}(e,i.annots,n)});return r}(o,l,this),s.splice(3,0,"trackIndex"),s.splice(4,0,"color"),this.rawAnnots.keys=s,this.rawAnnots.annots=n,t=new Date().getTime(),this.config.debug&&console.log("Time in deserializeAnnotsForHeatmap: "+(t-a)+" ms")}function nS(){call(this.onLoadAnnotsCallback)}function nL(){call(this.onDrawAnnotsCallback)}function nT(){ep.selectAll("._ideogramTooltip").transition().duration(500).style("opacity",0).style("pointer-events","none")}function nk(){let e=this;if(!1===e.config.showAnnotTooltip)return;let t=e.oneTimeDelayTooltipHideMs??250;delete e.oneTimeDelayTooltipHideMs,e.hideAnnotTooltipTimeout=window.setTimeout(function(){nT()},t),e.isTooltipCooling=!0,e.hideAnnotTooltipCounter=window.setTimeout(function(){e.isTooltipCooling=!1},500)}async function nE(e,t){await call(this.onWillShowAnnotTooltipCallback,e,t)}function n$(){call(this.onDidShowAnnotTooltipCallback)}function nI(e){this.prevClickedAnnot=e,this.hasShownAnnotSinceClick=!1,this.onClickAnnotCallback(e)}async function nP(e,t){var n,i,o;if(!1!==this.config.showAnnotTooltip){if(clearTimeout(this.hideAnnotTooltipTimeout),this.onWillShowAnnotTooltipCallback&&(e=await this.onWillShowAnnotTooltipCallback(e,t)),null===e){nT();return}this.prevTooltipAnnotName=e.name,(o=ep.select(`#${this.config.container.replace("#","")}_ideogramTooltip`)).interrupt(),[n,i]=function(e,t=!1){var n,i,o,r,a;return(o="chr"+e.chr+":"+e.start.toLocaleString(),e.displayCoordinates)?o=e.displayCoordinates:e.length>0&&(o+="-"+e.stop.toLocaleString(),t)&&(o+=" ("+(r=Math.abs(e.stop-e.start),(a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].reverse().find(function(e){return r>=e.value}))?(r/a.value).toFixed(void 0).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+" "+a.symbol:"0")+"bp)"),n=`<span class="_ideoTooltipFooter"><br />${o}</span>`,i=24,e.name&&(n=(e.displayName?e.displayName:e.name)+n,i+=8),[n,i]}(e,!0),function(e,t,n,i,o){let r="horizontal"===o.config.orientation?n.left+n.width/2:n.left+n.width;e.html(t).style("opacity",1).style("left",r+"px").style("top",n.top-i+"px").style("font-family",o.config.fontFamily).style("pointer-events",null).on("mouseover",function(){clearTimeout(o.hideAnnotTooltipTimeout)}).on("mouseout",function(){o.startHideAnnotTooltipTimeout()})}(o,n,t.getBoundingClientRect(),i,this),this.onDidShowAnnotTooltipCallback&&this.onDidShowAnnotTooltipCallback()}}let nM=`
  <style>
    #_ideogram .annot path, ._ideogramLabel {
      cursor: pointer;
    }

    #_ideogram .annot path {
      stroke-width: 1px;
      stroke: white;
      stroke-linejoin: bevel;
    }

    #_ideogram .annot ._ideogramLabel._ideoActive {
      fill: #77F !important;
      stroke: #F0F0FF !important;
    }

    #_ideogram .annot > path._ideoActive {
      stroke: #D0D0DD !important;
      stroke-width: 1.5px;
    }

    #_ideogram .annot ._ideogramLabel {
      stroke: white;
      stroke-width: 5px;
      stroke-linejoin: round;
      paint-order: stroke fill;
      text-align: center;
    }
  </style>
  `;function nD(e){return"ideogramLabel_"+e.domId}function nF(e,t,n){ep.selectAll("._ideoActive").classed("_ideoActive",!1),ep.select("#"+t).attr("class","_ideogramLabel "+e),ep.select("#"+n+" > path").attr("class",e)}function nB(e,t){let n,i;let o=e.target,r=e.type,a=Array.from(o.classList);if(a.includes("_ideogramLabel"))n=o.id,i=o.id.split("ideogramLabel_")[1],ep.select("#"+i+" path").dispatch(r);else{let e=o.parentElement;n="ideogramLabel_"+e.id,i=e.id,a.includes("_ideogramLabelRect")&&ep.select("#"+i+" path").dispatch(r)}"mouseout"===r&&(t.time.prevTooltipOff=performance.now(),t.time.prevTooltipAnnotDomId=i),"mouseover"===r?(clearTimeout(window._ideoActiveTimeout),nF("_ideoActive",n,i)):window._ideoActiveTimeout=window.setTimeout(function(){nF("",n,i)},250)}function nN(e,t){var n,i=!1;return t.annots.forEach(t=>{i||t.annots.forEach(t=>{i||t.name!==e||(n=t,i=!0)})}),n}function nO(e,t){var n,i,o,r,a,s,l,c=t.config;if(null===(n=document.querySelector("#"+e.domId)))return null;i=n.getBoundingClientRect(),o=document.querySelector("#_ideogram").getBoundingClientRect(),r=eI(e.name,t).width+(c.fontFamily?9:7);let d=c.annotLabelSize?c.annotLabelSize:13;return s=(a=i.top-o.top+d-1)+d,{top:a,bottom:s,right:(l=i.left-o.left-r)+r,left:l,width:r,height:d,name:name=e.name}}function nR(e,t,n){var i;let o=nO(i=nN(e,this),this);null!==o&&function(e,t,n){n.didSetLabelStyle||(document.querySelector("#_ideogramInnerWrap").insertAdjacentHTML("afterbegin",nM),n.didSetLabelStyle=!0);let i=nD(e),o=e$(n),r="pink"===e.color?"#CF406B":e.color;r=eD(r);let a=`translate(-${t.width+9},${t.height/2-1.5})`;ep.select("#"+e.domId).append("text").attr("id",i).attr("class","_ideogramLabel").attr("transform",`rotate(-90) ${a}`).style("font",o).style("fill",r).style("pointer-events",null).html(e.name);let s=t.width+10,l=`translate(-${s}, -${t.height/2})`;ep.select("#"+e.domId).append("rect").attr("class","_ideogramLabelRect").attr("transform",`rotate(-90) ${l}`).attr("width",t.width+10).attr("height",t.height).attr("style","opacity: 0")}(i,Object.assign(o,{backgroundColor:t,borderColor:n}),this)}function nW(e=[],t=10){let n=this;e=JSON.parse(JSON.stringify(e)),n.clearAnnotLabels();let i=[],o=[];0===e.length&&(e=n.flattenAnnots()),e.forEach((e,t)=>{let r=nO(e,n);if(null===r){console.debug(e.name+" has null layout");return}o.length>0&&o.some((e,t)=>{let n=function(e,t,n){let i=e.left-0,o=t.left-0,r=e.right+0,a=t.right+n;return i<=o&&i<=a&&r<=a&&r>=o||i>=o&&i<=a&&r>=a&&r>=o||i<=o&&i<=a&&r>=a&&r>=o||i>=o&&i<=a&&r>=o&&r<=a}(e,r,0),i=function(e,t,n){let i=e.top-0,o=t.top-0,r=e.bottom+0,a=t.bottom+n;return i<=o&&i<=a&&r<=a&&r>=o||i>=o&&i<=a&&r>=a&&r>=o}(e,r,0);return n&&i})||(i.push(e),o.push(r))});let r=n.config;"relatedGenesMode"in r&&["hints"].includes(r.relatedGenesMode)&&(t=20),(i=i.sort(n.annotSortFunction).slice(0,t)).reverse(),i.forEach(e=>{n.addAnnotLabel(e.name)}),ep.selectAll(".annot").on("mouseover",e=>nB(e)).on("mouseout",e=>nB(e,n)).on("click",e=>nB(e))}function nH(e){let t=nD(nN(e,this));document.querySelector("#"+t).remove()}function nG(){document.querySelectorAll("._ideogramLabel").forEach(e=>{e.remove()})}function nj(e){var t,n,i,o=!1,r=new Date().getTime();return n=this.chromosomes[this.config.taxid],"histogramScaling"in this.config==!1&&(this.config.histogramScaling="absolute"),void 0===this.maxAnnotsPerBar&&(this.maxAnnotsPerBar={},o=!0),!function(e,t,n){var i,o,r,a,s,l,c;if(t||"relative"===n.config.histogramScaling){for(o=0,i=0;o<e.length;o++){for(l=0,r=0,a=e[o].annots,s=e[o].chr;l<a.length;l++)(c=a[l].count)>r&&(r=c),c>i&&(i=c);n.maxAnnotsPerBar[s]=r}n.maxAnnotsPerBarAllChrs=i}}(i=function(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p=i.config.barWidth;for(s=0;s<e.length;s++)for(l=0,o=e[s].annots,a=t[(r=n[e[s].chr]).chrIndex].annots;l<o.length;l++)for(u=0,d=(c=o[l]).px-i.bump;u<a.length;u++)if(f=(h=a[u].px)+p,u===a.length-1&&(f+=p),d>=h&&d<f){t[r.chrIndex].annots[u].count+=1,t[r.chrIndex].annots[u].annots.push(c);break}return t}(e,i=function(e,t){var n,i,o,r,a,s,l,c=t.config.barWidth,d=[];for(a=0;a<t.chromosomesArray.length;a++){for(s=0,o=Math.round((i=e[n=t.chromosomesArray[a].name]).bands[i.bands.length-1].px.stop/c),r={chr:n,annots:[]};s<o;s++)l=s*c-t.bump,r.annots.push({bp:t.convertPxToBp(i,l+t.bump),px:l,count:0,chrIndex:i.chrIndex,chrName:n,color:t.config.annotationsColor,annots:[]});d.push(r)}return d}(n,this),n,this),o,this),i=function(e,t){var n,i,o,r,a,s,l,c=t._layout._isRotated;for(n=0;n<e.length;n++)for(r=0,i=e[n].annots,o=e[n].chr;r<i.length;r++)a=i[r].count,s="relative"===t.config.histogramScaling?a/t.maxAnnotsPerBar[o]:a/t.maxAnnotsPerBarAllChrs,isNaN(l=!1===c?s*t.config.chrMargin:s*t.config.chrHeightOriginal*3)&&(l=0),e[n].annots[r].height=l;return e}(i,this),t=new Date().getTime(),this.config.debug&&console.log("Time spent in getHistogramBars: "+(t-r)+" ms"),this.bars=i,i}var nq="#_ideogramLegend {font: 12px Arial; overflow: auto; cursor: default;} #_ideogramLegend svg {float: left;} #_ideogramLegend ul {position: relative; left: -14px; list-style: none; float: left; padding-left: 10px; margin: 0 0 1em 0; width: auto; border: none;} #_ideogramLegend li {float: none; margin: 0;}#_ideogramLegend ul span {position: relative; left: -15px;} ";function nz(e,t){var n,i,o,r,a='fill="'+e.color+'" style="stroke: #AAA;"',s=e.shape;if(i='d="m7,3 l -5 9 l 9 0 z"',o='d="m2,9a 4.5,4.5 0 1,0 9,0a 4.5,4.5 0 1,0 -9,0"',r='height="10" width="10" y="3"',"shape"in e&&["circle","triangle"].includes(s)){if("circle"===s)n="<path "+o+" "+a+"></path>";else if("triangle"===s){var l="";"vertical"===t.config.orientation&&(l=' transform="rotate(90, 7, 7)"'),"down"===t.config.orientation&&(l=' transform="rotate(180, 7, 7)"'),n="<path "+i+l+" "+a+"></path>"}}else n="<rect "+r+" "+a+"/>";return n}function nU(e){return 2*ev(eI("A",e).height)+.5}function nV(e){var t,n,i,o,r,a,s=e.config,l=nU(e);for(ep.select(s.container+" #_ideogramLegend").remove(),n=s.legend,a="",t=0;t<n.length;t++){r=n[t];let s=l;r.nameHeight&&(s=r.nameHeight);let c="";s&&(c=`style="height: ${s}px; position: relative; left: -${s-5}px;"`),"name"in r&&(o=`<li class="_ideoLegendName" ${c}>`+r.name+"</li>"),i='<svg id="_ideogramLegendSvg" width="'+l+'">',[o,i]=function(e,t,n,i,o){var r,a,s,l=nU(o);for(r=0;r<n.rows.length;r++)e+='<li class="_ideoLegendEntry">'+(s=n.rows[r]).name+"</li>",a=l*(r-1)+i+1,"name"in n&&(a+=l),t+='<g transform="translate(0, '+a+')">'+nz(s,o)+"</g>";return[e,t]}(o,i,r,s,e),i+="</svg>",a+=i+"<ul>"+o+"</ul>"}var c=`font-family: ${s.fontFamily};`,d=`line-height: ${nU(e)}px;`;nq+=`#_ideogramLegend {${c} ${d}}`;var u=ep.select(s.container+" #_ideogramOuterWrap");u.append("style").html(nq),u.append("div").attr("id","_ideogramLegend").html(a)}function nY(e,t,n=!1,i=!1){var o,r,a=[],s=this.chromosomes[this.config.taxid];if(0===e.length){this.annots=[];return}if("annots"in e[0]||"values"in e[0])return this.drawProcessedAnnots(e,t);for(r in s)a.push({chr:r,annots:[]});a=function(e,t){var n,i,o,r;for(n=0;n<e.length;n++)for(i=0,o=e[n];i<t.length;i++)if(o.chr===t[i].chr){r=[o.name,o.start,o.stop-o.start],"color"in o&&r.push(o.color),"shape"in o&&r.push(o.shape),"placement"in o&&r.push(o.placement),t[i].annots.push(r);break}return t}(e,a),o=["name","start","length"],"color"in e[0]&&o.push("color"),"shape"in e[0]&&o.push("shape"),"placement"in e[0]&&o.push("placement"),this.rawAnnots={keys:o,annots:a};let l=this.processAnnotData(this.rawAnnots);i?this.annotsOther=l:this.annots=l,this.drawProcessedAnnots(l,t,n)}function nX(e,t,n=!1){var i,o,r,a,s,l,c,d,u;if(this.onBeforeDrawAnnotsCallback&&this.onBeforeDrawAnnotsCallback(),n||ep.selectAll(this.selector+" .annot").remove(),void 0===t&&(t="tracks"),this.config.annotationsLayout&&(t=this.config.annotationsLayout),"legend"in this.config&&nV(this),/heatmap/.test(t)){this.drawHeatmaps(e);return}i=t,o=e,r=this,(function(e,t){var n,i;if(!/heatmap/.test(e)&&"histogram"!==e){for(n=0,i=0;n<t.length;n++)i+=t[n].annots.length;i>2e3&&console.warn('Rendering more than 2000 annotations in Ideogram?\nTry setting "annotationsLayout" to "heatmap" or "histogram" in your Ideogram configuration object for better layout and performance.')}}(i,o),"histogram"===i&&(o=r.getHistogramBars(o)),s=r.fillAnnots(o),a=ep.selectAll(r.selector+" .chromosome").data(s).selectAll("path.annot").data(function(e){return e.annots}).enter(),"tracks"===i)?(l={reverseTriangle:"m0,0 l -"+(d=c=r.config.annotationHeight)+" "+-2*d+" l "+2*d+" 0 z",triangle:"m0,0 l -"+d+" "+2*d+" l "+2*d+" 0 z",circle:"m -"+d+", "+d+"a "+d+","+d+" 0 1,0 "+2*d+",0a "+d+","+d+" 0 1,0 -"+2*d+",0",rectangle:"m0,0 l 0 "+2*d+"l "+d+" 0l 0 -"+2*d+"z",span:" ",histo:" "},(u=a.append("g").attr("id",function(e){return e.domId}).attr("class","annot").attr("transform",function(e){if("span"!==e.shape&&"histo"!==e.shape){var t=r.config.chrWidth+e.placement*c*2;if(e.placement<0)var t=(e.placement+1)*c*2;return"translate("+e.px+","+t+")"}}).attr("fill",function(e){return e.color})).filter(function(e){return"span"===e.shape||"histo"==e.shape}).on("mouseover",function(e,t){r.showAnnotTooltip(t,this)}).on("mouseout",function(){r.startHideAnnotTooltipTimeout()}).on("click",function(e,t){r.onClickAnnot(t)}).append("polygon").attr("points",function(e){var t=e.startPx,n=e.stopPx,i=2*r.config.annotationHeight,o=r.config.chrWidth+e.placement*i;if("span"===e.shape){if(e.placement<0)var o=i+(e.placement-1)*i;var a=[`${t},${o+i}`,`${n},${o+i}`,`${n},${o}`,`${t},${o}`];return a.join(" ")}if("histo"===e.shape){if(e.placement>=0)var a=[`${t},${o}`,`${n},${o}`,`${n},${o+e.height}`,`${t},${o+e.height}`];else if(e.placement<0)var o=(e.placement+1)*i,a=[`${t},${o-e.height}`,`${n},${o-e.height}`,`${n},${o}`,`${t},${o}`];return a.join(" ")}}),u.filter(function(e){return"span"!==e.shape&&"histo"!==e.shape}).append("path").attr("d",function(e){return function(e,t){if(e.shape&&"triangle"!==e.shape){if("circle"===e.shape)return t.circle;if("rectangle"===e.shape)return t.rectangle;if("span"===e.shape)return t.span;else if("histo"===e.shape)return t.histo;else return e.shape}return e.placement<0?t.reverseTriangle:t.triangle}(e,l)}).on("mouseover",function(e,t){r.showAnnotTooltip(t,this)}).on("mouseout",function(){r.startHideAnnotTooltipTimeout()}).on("click",function(e,t){r.onClickAnnot(t)})):"overlay"===i?function(e,t){e.append("polygon").attr("id",function(e){return e.id}).attr("class","annot").attr("points",function(e){var n,i,o=t.config.chrWidth;return e.stopPx-e.startPx>1?(n=e.startPx,i=e.stopPx):(n=e.px-.5,i=e.px+.5),n+","+o+" "+i+","+o+" "+i+",0 "+n+",0"}).attr("fill",function(e){return e.color}).on("mouseover",function(e,n){t.showAnnotTooltip(n,this)}).on("mouseout",function(){t.startHideAnnotTooltipTimeout()})}(a,r):"histogram"===i?function(e,t){var n,i,o={},r=t.config.chrWidth;for(i in n=t.chromosomes[t.config.taxid])o[i]=n[i];e.append("polygon").attr("class","annot").attr("points",function(e){var n,i,a,s;return n=e.px+t.bump,i=e.px+t.config.barWidth+t.bump,a=r+e.height,i>(s=o[e.chr])&&(i=s),n+","+r+" "+i+","+r+" "+i+","+a+" "+n+","+a}).attr("fill",function(e){return e.color})}(a,r):"span"===i&&function(e,t){e.append("g").attr("id",function(e){return e.domId}).attr("class","annot").append("polygon").attr("points",function(e){var n=2*t.config.annotationHeight,i=e.startPx,o=e.stopPx,r=t.config.chrWidth+e.placement*n;return`${i},${r+n} ${o},${r+n} ${o},${r} ${i},${r}`}).attr("fill",function(e){return e.color}).on("mouseover",function(e,n){t.showAnnotTooltip(n,this)}).on("mouseout",function(){t.startHideAnnotTooltipTimeout()}).on("click",function(e,n){t.onClickAnnot(n)})}(a,r),this.onDrawAnnotsCallback&&this.onDrawAnnotsCallback()}function nK(e,t,n){return e.append("g").attr("class","syntenicRegion").attr("id",t).on("click",function(){var e=this,t=ep.selectAll(n.selector+" .syntenicRegion").filter(function(){return this!==e});t.classed("hidden",!t.classed("hidden"))}).on("mouseover",function(){var e=this;ep.selectAll(n.selector+" .syntenicRegion").filter(function(){return this!==e}).classed("ghost",!0)}).on("mouseout",function(){ep.selectAll(n.selector+" .syntenicRegion").classed("ghost",!1)})}function nJ(e,t,n,i,o,r){var a,s;a="color"in r?r.color:"#CFC",s="opacity"in r?r.opacity:1,e.append("polygon").attr("points",t+", "+i.startPx+" "+t+", "+i.stopPx+" "+n+", "+o.stopPx+" "+n+", "+o.startPx).style("fill",a).style("fill-opacity",s)}function nQ(e,t,n=null){if(i=e.r1,o=e.r2,"string"==typeof i.chr){let e=t.config.taxids;t.config.multiorganism?(i.chr=t.chromosomes[e[0]][i.chr],o.chr=t.chromosomes[e[1]][o.chr]):(i.chr=t.chromosomes[e[0]][i.chr],o.chr=t.chromosomes[e[0]][o.chr])}var i,o,r,a,s=document.querySelector("#"+i.chr.id+"-chromosome-set"),l=s.getCTM().e,c=s.getCTM().f,d=document.querySelector("#"+o.chr.id+"-chromosome-set"),u=d.getCTM().e,h=d.getCTM().f;return null===n?"vertical"===t.config.orientation?(r=c-12,a=h-12):(r=l,a=u):(r=n,a=n),i.startPx=t.convertBpToPx(i.chr,i.start)+r,i.stopPx=t.convertBpToPx(i.chr,i.stop)+r,o.startPx=t.convertBpToPx(o.chr,o.start)+a,o.stopPx=t.convertBpToPx(o.chr,o.stop)+a,[i,o]}function nZ(e){var t,n,i,o,r,a=new Date().getTime(),s=this.config;if(this.syntenicRegions=e,s.multiorganism&&"collinear"===s.geometry)return"vertical"===s.orientation?(t=new Date().getTime(),void(function(e,t,n){var i,o,r,a,s,l,c,d;for(i=0;i<e.length;i++)o=e[i],[r,a]=nQ(o,n),nJ(s=nK(t,r.chr.id+"_"+r.start+"_"+r.stop+"___"+a.chr.id+"_"+a.start+"_"+a.stop,n),c=(l=n.config.chrWidth)+51,d=l+245,r,a,o),s.append("line").attr("class","syntenyBorder").attr("x1",c).attr("x2",d).attr("y1",r.startPx).attr("y2",a.startPx),s.append("line").attr("class","syntenyBorder").attr("x1",c).attr("x2",d).attr("y1",r.stopPx).attr("y2",a.stopPx)}(e,ep.select(this.selector).insert("g",":first-child").attr("class","synteny"),this),n=new Date().getTime(),this.config.debug&&console.log("Time in drawSyntenicRegions: "+(n-t)+" ms"))):(i=new Date().getTime(),void(function(e,t,n){var i,o,r,a,s,l,c,d;for(i=0;i<e.length;i++)o=e[i],[r,a]=nQ(o,n),function(e,t,n,i,o,r){var a,s;a="color"in r?r.color:"#CFC",s="opacity"in r?r.opacity:1,e.append("polygon").attr("points",i.startPx-15+", "+t+" "+(i.stopPx-15)+", "+t+" "+(o.stopPx-15)+", "+n+" "+(o.startPx-15)+", "+n).style("fill",a).style("fill-opacity",s)}(s=nK(t,r.chr.id+"_"+r.start+"_"+r.stop+"___"+a.chr.id+"_"+a.start+"_"+a.stop,n),c=(l=n.config.chrWidth)+31,d=l+191,r,a,o),s.append("line").attr("class","syntenyBorder").attr("x1",r.startPx-15).attr("x2",a.startPx-15).attr("y1",c).attr("y2",d),s.append("line").attr("class","syntenyBorder").attr("x1",r.stopPx-15).attr("x2",a.stopPx-15).attr("y1",c).attr("y2",d)}(e,ep.select(this.selector).insert("g",":first-child").attr("class","synteny"),this),o=new Date().getTime(),this.config.debug&&console.log("Time in drawSyntenicRegions: "+(o-i)+" ms")));!function(e,t,n,i){var o,r,a,s,l,c,d,u,h;for(o=0;o<e.length;o++)r=e[o],[a,s]=nQ(r,i,n),c=nK(t,l=a.chr.id+"_"+a.start+"_"+a.stop+"___"+s.chr.id+"_"+s.start+"_"+s.stop,i),d=i.config.chrWidth,nJ(c,u=i._layout.getChromosomeSetYTranslate(0),h=i._layout.getChromosomeSetYTranslate(1)-d,a,s,r),function(e,t,n,i,o,r){var a,s;2>Math.abs(i.startPx-i.startPx)&&2>Math.abs(i.stopPx-i.stopPx)?(a=r.color,s=r.width):(a="",s=""),e.append("line").attr("class","syntenyBorder").attr("x1",t).attr("x2",n).attr("y1",i.startPx).attr("y2",o.startPx).style("stroke",a).style("stroke-width",s),e.append("line").attr("class","syntenyBorder").attr("x1",t).attr("x2",n).attr("y1",i.stopPx).attr("y2",o.stopPx).style("stroke",a).style("stroke-width",a)}(c,u,h,a,s,r),function(e,t,n,i,o,r){var a=r.split("__").map(e=>"label_"+e);if("name"in i){e.append("text").attr("id",a[0]).attr("y",i.startPx+3).text(i.name);var s=document.querySelector("#"+a[0]).getBoundingClientRect().width;ep.select("#"+a[0]).attr("x",t-15-s)}"name"in o&&e.append("text").attr("id",a[1]).text(o.name).attr("x",n+15).attr("y",o.startPx+3).text(o.name)}(c,u,h,a,s,l)}(e,ep.select(this.selector).insert("g",":first-child").attr("class","synteny"),this._layout.margin.left,this),r=new Date().getTime(),this.config.debug&&console.log("Time in drawSyntenicRegions: "+(r-a)+" ms")}function n0(){this.config.numAnnotTracks=this.config.annotationsNumTracks,ep.selectAll(this.selector+" .annot").remove(),this.drawAnnots(this.processAnnotData(this.rawAnnots))}function n1(e){var t,n,i,o=this.rawAnnots.annots;return this.config.numAnnotTracks=e.length,t=function(e,t){var n,i,o,r,a,s,l;for(r=0,i=[];r<e.length;r++){for(s=0,o=e[r],a=[];s<o.annots.length;s++)l=(n=o.annots[s].slice())[3]+1,t.includes(l)&&(n[3]=t.indexOf(l),a.push(n));i.push({chr:o.chr,annots:a})}return i}(o,e),i={keys:this.rawAnnots.keys,annots:t},"collinear"===this.config.geometry&&eH(this),n=this.processAnnotData(i),ep.selectAll(this.selector+" .annot").remove(),this.displayedTrackIndexes=e,this.drawAnnots(n),n}function n2(e){var t,n;return(t=e.keys).length<4||"trackIndex"!==t[3]||"trackIndexOriginal"===t[4]||(n=function(e,t){var n,i,o,r,a,s,l,c=[];for(n=0,l=1;n<e.length;n++){for(i=0,o=e[n],a=[];i<o.annots.length;i++)(s=(r=o.annots[i].slice())[3])+1>l&&(l=s+1),r.splice(4,0,s),a.push(r);c.push({chr:o.chr,annots:a})}return t.numAvailTracks=l,c}(e.annots,this),t.splice(4,0,"trackIndexOriginal"),e={keys:t,annots:n},this.rawAnnots.metadata&&(e.metadata=this.rawAnnots.metadata)),e}var n5=[["F00"],["F00","88F"],["F00","CCC","88F"],["F00","FA0","0AF","88F"],["F00","FA0","CCC","0AF","88F"],["F00","FA0","875","578","0AF","88F"],["F00","FA0","875","CCC","578","0AF","88F"],["F00","FA0","7A0","875","0A7","578","0AF","88F"],["F00","FA0","7A0","875","CCC","0A7","578","0AF","88F"],["F00","FA0","7A0","875","552","255","0A7","578","0AF","88F"]];function n3(e,t){return"_c"+e+"_a"+t}function n8(e){var t,n,i,o,r,a;return t=e.keys,e=e.annots,[n,i]=function(e,t,n){var i,o,r,a,s=[],l={};for(o=0,i=-1;o<e.length;o++){if(r=e[o],void 0===(a=n.chromosomes[n.config.taxid][r.chr])){console.warn('Chromosome "'+r.chr+'" undefined in ideogram; '+r.annots.length+" annotations not shown");continue}i++,s.push({chr:r.chr,annots:[]}),"heatmap-2d"!==n.config.annotationsLayout?[s,l]=function(e,t,n,i,o,r,a){var s,l,c,d;let u=!a.config.annotationsLayout||"tracks"===a.config.annotationsLayout;for(s=0;s<n.annots.length;s++){for(l=0,d=n.annots[s],c={};l<r.length;l++)c[r[l]]=d[l];if(a.config.heatmaps&&r.includes("trackIndex")){var h=d[r.indexOf("trackIndex")];c[a.config.heatmaps[h].key]=d[d.length-1]}c.stop=c.start+c.length,c.chr=n.chr,c.chrIndex=o,a.config.histogram&&(c.height=function(e,t){var n,i,o,r=e.rawAnnots.keys;i=[];for(var a=0;a<e.config.histogram.length;a++){var s=e.config.histogram[a].key;i.push(r.indexOf(s))}return n=t[r[i]],e.config.histogram&&(o=function(e,t,n){var i,o,r,a,s,l,c,e=n.config.histogram[0].thresholds;for(i=0;i<e.length;i++)o=e.length-1,!1===isNaN(s=parseFloat(a=(r=e[i])[0]))&&(a=s),0!==i&&(l=parseFloat(e[i-1][0])),nx(i,o,t,l,a)&&(c=parseFloat(r[1]));return c}(e.config.histogram.thresholds,n,e)),o}(a,c)),c.startPx=a.convertBpToPx(i,c.start),c.stopPx=a.convertBpToPx(i,c.stop),c.px=Math.round((c.startPx+c.stopPx)/2),u&&(c.domId=n3(o,s)),[e,t]=function(e,t,n,i,o,r,a){var s,l,c,d,u,h,f;return a.config.annotationTracks?(s=o,l=a.config.annotationTracks,e.trackIndex=n[3],(c=l[e.trackIndex]).color&&(e.color=c.color),c.shape&&(e.shape=c.shape),c.placement?e.placement=c.placement:e.placement=e.trackIndex,s[r].annots.push(e),o=s):"trackIndex"===t[3]&&1!==a.numAvailTracks?[o,i]=(d=i,u=o,h=n5[a.numAvailTracks-1],(e.trackIndex=n[3],e.trackIndexOriginal=n[4],e.color="#"+h[e.trackIndexOriginal],e.trackIndex>a.config.numTracks-1)?e.trackIndex in d?d[e.trackIndex].push(e):d[e.trackIndex]=[e]:u[r].annots.push(e),[u,d]):(f=o,e.trackIndex||(e.trackIndex=0),e.color||(e.color=a.config.annotationsColor),e.shape||(e.shape="triangle"),e.placement||(e.placement=e.trackIndex),f[r].annots.push(e),o=f),[o,i]}(c,r,d,t,e,o,a)}if(u)for(a.annotSortFunction?(e[o].annots=io(e[o].annots,a),e[o].annots.sort((e,t)=>-a.annotSortFunction(e,t))):e[o].annots.sort((e,t)=>e[1]-t[1]),s=0;s<e[o].annots.length;s++)e[o].annots[s].domId=n3(o,s);return[e,t]}(s,l,r,a,i,t,n):[s,l]=function(e,t,n,i,o,r,a){var s,l,c,d,u,h,f,p=a.config.heatmapThresholds;for(s=0;s<n.annots.length;s++){for(l=0,d=n.annots[s],(c={}).values=[];l<3;l++)c[r[l]]=d[l];for(l=3;l<r.length;l++)f=nw(p,d[l]),c.values.push(f);u=c.start+c.length,c.chr=n.chr,c.chrIndex=o,c.startPx=a.convertBpToPx(i,c.start),h=a.convertBpToPx(i,u),c.px=Math.round((c.startPx+h)/2),e.push(c)}return e.shift(),[e,t]}(s,l,r,a,i,t,n)}return[s,l]}(e,t,this),n=function(e,t){var n,i,o,r,a,s;for(i=0,n=e,e=[],s=t.chromosomesArray;i<s.length;i++)for(o=0,a=s[i].name;o<n.length;o++)(r=n[o]).chr===a&&e.push(r);return e}(n,this),r=this.config.annotationsLayout,a=this.config.numAnnotTracks,!/heatmap/.test(r)&&a>10&&console.error("Ideogram only displays up to 10 tracks at a time.  You specified "+a+" tracks.  Perhaps consider a different way to visualize your data."),(o=Object.keys(i).length)&&console.warn("Ideogram configuration specified "+a+" tracks, but loaded annotations contain "+o+" extra tracks."),n}class n4{constructor(e,t){this.matrix=e,this.ideo=t}setRawAnnots(){var e,t,n;return e=this,t=this.ideo,n=this.matrix,new Promise(function(i){e.rawAnnots=e.fetchCoordinates(t).then(function(o){e.coordinates=o,i(e.parseExpressionMatrix(n,t))})})}fetchCoordinates(e){var t={};if("human"===e.config.organism){var n=e.config.dataDir+"../../annotations/Homo_sapiens,_Ensembl_80.tsv";return new Promise(function(i){e.fetch(n,"text").then(function(e){var n,o,r,a,s,l,c;for(o=0,n=e.split(/\r\n|\n/).slice(1);o<n.length;o++)[r,a,s,,l]=n[o].split(/\s/g),r=parseInt(r),c=(a=parseInt(a))-r,t[s]=[l,r,c];i(t)})})}throw Error("Expression matrix parsing is only supported for human")}parseAnnotFromTsvLine(e,t){var n,i,o,r,a,s=e.split(/\s/g);return(r=s[0])in this.coordinates==!1?[null,null]:(a=s.slice(1).map(e=>parseFloat(e)),[i,o,length]=this.coordinates[r],-1===(n=t.indexOf(i)))?[null,null]:[n,[r,o,length].concat(a)]}parseExpressionMatrix(e,t){var n,i,o,r,a,s=[],l=e.split(/\r\n|\n/);for(n=0,i=Object.keys(t.chromosomes[t.config.taxid]);n<i.length;n++)s.push({chr:i[n],annots:[]});for(n=1;n<l.length;n++)o=l[n],[r,a]=this.parseAnnotFromTsvLine(o,i),null!==r&&s[r].annots.push(a);return{keys:["name","start","length"].concat(l[0].split(/\s/g)),annots:s}}}function n6(){let e=this,t={};e.annots.forEach(n=>{n.annots.forEach(n=>{let i=e.annotDescriptions.annots[n.name];t[n.name]=[n.name,i.ensemblId,n.chr,n.start,n.stop,n.length,i.type]})});let n=[["# Gene name","Ensembl ID","Chromosome","Start","Stop","Length","Type"]].concat(Object.values(t)),i="data:text/plain;charset=utf-8,"+encodeURIComponent(e.annotDescriptions.headers+"\n#\n"+n.map(e=>e.join("	")).join("\n"));var o=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download","ideogram.tsv"),r.setAttribute("href",i),r.setAttribute("target","_blank"),r.setAttribute("id","_ideo-undisplayed-dl-annots-link"),r.setAttribute("style","display: none;"),document.body.appendChild(r),r.dispatchEvent(o)}function n7(){var e,t,n=this.config;((t=this.config).annotationHeight||("heatmap"===t.annotationsLayout?e=t.chrWidth-1:(e=Math.round(t.chrHeight/100))<3&&(e=3),this.config.annotationHeight=e),n.annotationsPath||n.localAnnotationsPath||this.annots||n.annotations)?(n.annotationTracks?this.config.numAnnotTracks=n.annotationTracks.length:n.annotationsNumTracks?this.config.numAnnotTracks=n.annotationsNumTracks:this.config.numAnnotTracks=1,this.config.annotTracksHeight=n.annotationHeight*n.numAnnotTracks,void 0===n.barWidth&&(this.config.barWidth=3)):(this.config.annotTracksHeight=0,this.config.numAnnotTracks=0),void 0===n.annotationsColor&&(this.config.annotationsColor="#F00"),n.onClickAnnot&&(this.onClickAnnotCallback=n.onClickAnnot),!1!==n.showAnnotTooltip&&(this.config.showAnnotTooltip=!0),n.onWillShowAnnotTooltip&&(this.onWillShowAnnotTooltipCallback=n.onWillShowAnnotTooltip),n.onDidShowAnnotTooltip&&(this.onDidShowAnnotTooltipCallback=n.onDidShowAnnotTooltip),!1!==n.addAnnotLabel&&(this.config.addAnnotLabel=!0),n.onWillAddAnnotLabel&&(this.onWillAddAnnotLabelCallback=n.onWillAddAnnotLabel)}function n9(){var e=this.config;this.rawAnnots.annots=this.rawAnnots.annots.sort(Ideogram.sortChromosomes),this.onLoadAnnotsCallback&&this.onLoadAnnotsCallback(),("heatmapThresholds"in e||"metadata"in this.rawAnnots&&"heatmapThresholds"in this.rawAnnots.metadata)&&("heatmap"===e.annotationsLayout?function(e){var t,n,i,o,r,a,s=e.config.heatmapThresholds;for(i=[],n=(r=e.rawAnnots).keys.slice(3),o=[],a=[],(r.metadata||!isNaN(s[0]))&&(s=nv(e)),t=0;t<n.length;t++)i.push({key:n[t],thresholds:s}),o.push({id:n[t]}),a.push(t+1);e.config.annotationsNumTracks=n.length,e.config.annotationsDisplayedTracks=a,e.config.heatmaps=i,e.config.annotationTracks=o}(this):"heatmap-2d"===e.annotationsLayout&&(this.config.heatmapThresholds=nv(this))),e.heatmaps&&this.deserializeAnnotsForHeatmap(this.rawAnnots),function(e){let t={},n=[],i=e.rawAnnots.annots.map(e=>e.chr);if(i.forEach(e=>{e in t&&n.push(e),t[e]=1}),n.length>0)throw Error(`Duplicate chromosomes detected.
Chromosome list: ${i}.  Duplicates: ${n}.
To fix this, edit your raw annotations JSON data to remove redundant chromosomes.`)}(this)}function ie(){return this.annots.reduce((e,t)=>[...e,...t.annots],[])}function it(e){var t,n,i=this;n="heatmap-2d"===i.config.annotationsLayout;var t=function(e){var t,n;if(!1===["bed","json","tsv"].includes(n=(t=e.split("?")[0].split("."))[t.length-1])){alert("Ideogram.js only supports BED and Ideogram JSON and TSV at the moment.  Sorry, check back soon for "+(n=n.toUpperCase())+" support!");return}return n}(e);if("http"!==e.slice(0,4)&&!n&&"tsv"!==t){i.fetch(e).then(function(e){i.rawAnnotsResponse=e,i.rawAnnots=e,i.afterRawAnnots()});return}t=n?"":t,i.fetch(e,"text").then(function(e){i.rawAnnotsResponse=e,n?new n4(e,i).setRawAnnots().then(function(e){i.rawAnnots=e,i.afterRawAnnots()}):("tsv"===t?i.rawAnnots=new nm(e,i).rawAnnots:"bed"===t?i.rawAnnots=new np(e,i).rawAnnots:i.rawAnnots=JSON.parse(e),i.afterRawAnnots())})}function ii(e){var t,n,i,o,r,a,s;for(o=0,t=[],n=[],i=this.chromosomesArray;o<i.length;o++)r=i[o].name,n.push(r),t.push({chr:r,annots:[]});for(o=0;o<e.length;o++)a=e[o],-1!==(s=n.indexOf(a.chr))&&(t[s]=a);return t}function io(e,t){if(0===e.length)return e;if("initRank"in e[0]!=!1)return e.map(e=>(e.rank=e.initRank,e));{if("geneCache"in Ideogram==!1)return e;let t=Ideogram.geneCache.interestingNames;return e.map(e=>(t.includes(e.name)?e.rank=t.indexOf(e.name)+1:e.rank=1e10,e))}}function ir(e,t="red"){let n=this,i=n.config.taxid,o=e.map(e=>{let o=n.chromosomes[i][e].id,r=`${n.selector} #${o}-chromosome-set`,a=document.querySelector(r),s=a.getBoundingClientRect(),l=`style="
      stroke-width: 1px;
      stroke: ${t};
      fill: ${t};
      fill-opacity: 0.05;
      position: absolute;
      rx: 4;
      ry: 4;
      height: ${s.width+15}px;
      width: ${s.height+15}px"`,c=a.transform.baseVal[1].matrix.f-7.5,d=`transform="rotate(90) translate(10, ${c})"`,u=`id="ideo-highlight-${o}"`;return`<rect class="ideo-highlight" ${u} ${l} ${d}/>`}).join();document.querySelector(n.selector).insertAdjacentHTML("afterBegin",o)}function ia(e){let t=this,n=`${t.selector} .ideo-highlight`;if(void 0!==e){let i=t.config.taxid;n=e.map(e=>{let n=t.chromosomes[i][e].id;return`${t.selector} #ideo-highlight-${n}`})}document.querySelectorAll(n).forEach(e=>{e.remove()})}var is="&api_key=7e33ac6a08a6955ec3b83d214d22b21a2808",il="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/",ic=il+"esearch.fcgi?retmode=json"+is,id=il+"esummary.fcgi?retmode=json"+is,iu=il+"elink.fcgi?retmode=json"+is;function ih(e,t){var n,i,o=this;e=o.config.organism,i=o.esummary+"&db=taxonomy&id="+e,ep.json(i).then(function(i){return n=i.result[String(e)].commonname,o.config.organism=n,t(n)})}function ip(e){var t,n;if(t="taxid"in this.config,this.config.multiorganism="organism"in this.config&&this.config.organism instanceof Array||t&&this.config.taxid instanceof Array,this.config.multiorganism&&(this.coordinateSystem="bp"),"organism"in this.config){let t=this.config.organism;"string"==typeof t&&(this.config.organism=eT(t.toLowerCase())),function(e,t){var n,i,o,r,a,s;(s=t.config,n=[],i={},(function(e,t){var n,i,o=[],r={};for(i=0;i<e.length;i++)o.push(!1===function(e,t){var n,i;for(n in t.organisms)if(i=t.organisms[n],n===eT(e)||eT(i.commonName)===eT(e)||eT(i.scientificName)===eT(e))return!0;return!1}(n=e[i],t)?(function(e,t){var n;return n=t.esearch+"&db=taxonomy&term="+e,ep.json(n).then(function(t){if(0!==t.esearchresult.idlist.length)return[e,t.esearchresult.idlist[0]];throw'Organism "'+e+"\" is generally unknown; it was not found in the NCBI Taxonomy database.  If you did not intend to specify a novel or custom taxon, then try using the organism's scientific name, e.g. Homo sapiens or Arabidopsis thaliana."})})(n,t).then(function(e){var n,i,o=e[1];i=(n=e[0].replace("-"," "))[0].toUpperCase()+n.slice(1),r[o]={scientificName:i,commonName:"",assemblies:{default:""}},Object.assign(t.organisms,r)},function(e){console.warn(e);var i={scientificName:n,commonName:n,assemblies:{default:""}};t.organisms["-1"]=i,r["-1"]=i}):new Promise(function(e){var i=t.getTaxid(n);r[i]=t.organisms[i],e()}));return Promise.all(o).then(function(){return r})})(s.multiorganism?s.organism:[s.organism],t).then(function(e){var t=e[r];for(r in e)t=e[r],n.push(r),s.multiorganism&&(void 0!==s.chromosomes?((a=Object.keys(s.chromosomes).map(e=>eT(e))).includes(eT(t.scientificName))?o=t.scientificName:a.includes(eT(t.commonName))&&(o=t.commonName),eT(o)in s.chromosomes?i[r]=s.chromosomes[eT(o)]:i[r]=s.chromosomes[o.toLowerCase()]):i=null);return[i,n]})).then(function([n,i]){var o,r,a,s,l,c=t.config,d=[];for(o=0;o<i.length;o++)r=i[o],l=Object.values(s=t.organisms[r].assemblies),""===s.default||t.assemblyIsAccession()&&!l.includes(c.assembly)?a=new Promise(function(e){!function(e,t,n){var i,o,r,a,s,l=n.config;(function(e,t){if(t.assemblyIsAccession())return new Promise(function(n){t.coordinateSystem="bp",t.getAssemblyAndChromosomesFromEutils(e,n)});n=t.config.dataDir,i=eT(t.organisms[e].scientificName),o=[e],["9606","10090","10116"].includes(e)&&!t.config.showFullyBanded&&(i+="-no-bands");var n,i,o,r=n+i+".json";return new Promise((e,t)=>ey(r).then(t=>t.json().then(function(t){e(t)})).catch(e=>{t(e)})).then(function(n){var i,r,a,s,l=n.chrBands,c=[""],d=[],u={};t.bandData[n.taxid]=l;for(var h=0;h<l.length;h++)i=(a=l[h].split(" "))[0],s=a.slice(-1)[0],i in u||(d.push({name:i,type:"nuclear",length:s}),u[i]=1);return d=d.sort(Ideogram.sortChromosomes),r={bp:0,iscn:0},d.forEach(e=>{e.length>r.bp&&(r.bp=e.length)}),t.maxLength[e]=r,c.push(d),c.push(o),c},function(){return new Promise(function(n){t.coordinateSystem="bp",t.getAssemblyAndChromosomesFromEutils(e,n)})})})(e,n).then(function(c){i=c[0],o=c[1],"chromosomes"in l==!1||null===l.chromosomes?(n.config.chromosomes={},n.config.chromosomes[e]=o):(l.multiorganism?e in l.chromosomes?r=l.chromosomes[e]:(a=eT(n.getScientificName(e)),n.config.chromosomes[e]=l.chromosomes[a].slice(),r=n.config.chromosomes[e]):r=l.chromosomes,s=o.filter(e=>r.includes(e.name)),n.config.chromosomes[e]=s),n.chromosomes[e]=n.config.chromosomes[e].slice(),n.organisms[e].assemblies={default:i},t()})}(r,e,t)}):(t.config.taxids=i,t.config.multiorganism&&(t.config.chromosomes=n),a=new Promise(function(e){e()})),d.push(a);Promise.all(d).then(function(){return i=function(e){var t,n,i;if(t=e.config.organism,n=[],Array.isArray(t))for(i=0;i<t.length;i++)n.push(e.getTaxid(t[i]));else n.push(e.getTaxid(t));return n}(t),t.config.taxids=i,e(i)})})}(e,this)}else this.config.multiorganism?t&&(n=this.config.taxid):(t&&(n=[this.config.taxid]),this.config.taxids=n),e(n)}function im(e,t){var n,i,o=this,r=(n=o.assemblyIsAccession()?o.config.assembly+"%22[Assembly%20Accession]":e+"%22[taxid]AND%20(%22latest%20refseq%22[filter])%20",o.esearch+"&db=assembly&term=%22"+n+"AND%20(%22chromosome%20level%22[filter]%20OR%20%22complete%20genome%22[filter])");ep.json(r).then(function(e){var t,n;return t=e.esearchresult.idlist[0],n=o.esummary+"&db=assembly&id="+t,ep.json(n)}).then(function(e){var t,n=e.result.uids[0];return i=e.result[n],t="&db=nuccore&dbfrom=assembly&linkname=assembly_nuccore&cmd=neighbor_history&from_uid="+n,ep.json(o.elink+t).then(function(e){return t="&db=nuccore&term=%231+AND+%28sequence_from_chromosome[Properties]+OR+sequence_from_plastid[Properties]+OR+sequence_from_mitochondrion[Properties]%29&WebEnv="+e.linksets[0].webenv+"&usehistory=y&retmax=1000",o.esearch+t})}).then(function(e){return ep.json(e)}).then(function(e){var t,n;return t=e.esearchresult.idlist.join(","),n=o.esummary+"&db=nucleotide&id="+t,ep.json(n)}).then(function(n){var r=function(e,t,n){var i,o,r,a,s={},l=[];for(i in e)"uids"!==i&&(r=(o=function(e,t){var n,i;return[n,i]=function(e,t){var n,i,o,r,a,s=e.genome;return"mitochondrion"===s?t.config.showNonNuclearChromosomes?(n=e.genome,[-1===(i=e.subtype.split("|").indexOf("plasmid"))?"MT":e.subname.split("|")[i],n]):[null,null]:"chloroplast"===s||"plastid"===s?t.config.showNonNuclearChromosomes?["CP","chloroplast"]:[null,null]:"apicoplast"===s?t.config.showNonNuclearChromosomes?["AP","apicoplast"]:[null,null]:(o="nuclear",r=e.subtype.split("|").indexOf("chromosome"),void 0!==(a=e.subname.split("|")[r])&&"chr"===a.substr(0,3)&&(a=a.substr(3)),[a,o])}(e,t),{name:n,length:e.slen,type:i}}(e[i],n)).name+"_"+o.length,null!==o.type&&r in s==!1&&l.push(o),s[r]=1);return l=l.sort(Ideogram.sortChromosomes),a={bp:0,iscn:0},l.forEach(e=>{e.length>a.bp&&(a.bp=e.length)}),a.bp>n.maxLength.bp&&(n.maxLength.bp=a.bp),n.maxLength[t]=a,n.coordinateSystem="bp",l}(n.result,e,o);return t([i,r])},function(e){console.warn(e)})}function ig(){var e=this.bandsToShow.join(",");0!==this.bandsToShow.length&&(ep.selectAll(this.selector+" .bandLabel, .bandLabelStalk").style("display","none"),ep.selectAll(e).style("display",""))}function iy(e,t,n,i,o,r,a){var s,l;return n<i+(a?t:o)?(t=o,s=r,l=a):e.push(r),[e,t,s,l]}function ib(e,t){var n,i,o,r,a,s,l;for(i=0,this.bandsToShow=[];i<e.length;i++){for(o=0,r=function(e,t){var n,i,o,r,a,s,l,c,d,u,h=[],f=e[t.id].length,p=0;for(s=0;s<f;s++){c=e[t.id][s],[h,p,l,u]=iy(h,p,c,5,d,s,!0),u||(n=d,i=l,o=s,r=e,a=t,i!==o&&(n=r[a.id][o]+36),d=n,[h,p,l,u]=iy(h,p,c,5,d,s,!1))}return h}(t,a=e[i]),s=[],l=r.length;o<l;o++)n=r[o],s.push("#"+a.id+" .bsbsl-"+n);this.bandsToShow=this.bandsToShow.concat(s)}}function iv(e,t,n,i){var o=this,r=o._layout,a=n.chrIndex;return e.selectAll("text").data(t).enter().append("g").attr("class",function(e,t){return"bandLabel bsbsl-"+t}).attr("transform",function(e){var t=r.getChromosomeBandLabelTranslate(e,a);return"horizontal"===o.config.orientation?i[n.id].push(t.x+13):i[n.id].push(t.y+6),t.translate}).append("text").attr("text-anchor",r.getChromosomeBandLabelAnchor(a)).text(function(e){return e.name}),i}function ix(e,t,n,i){var o=this;e.selectAll("line.bandLabelStalk").data(t).enter().append("g").attr("class",function(e,t){return"bandLabelStalk bsbsl-"+t}).attr("transform",function(e){var t;return t=o.round(e.px.start+e.px.width/2),i[n.id].push(t+13),"translate("+t+",-10)"}).append("line").attr("x1",0).attr("y1",o._layout.getChromosomeBandTickY1(n.chrIndex)).attr("x2",0).attr("y2",o._layout.getChromosomeBandTickY2(n.chrIndex))}function iw(e){var t,n,i,o,r,a={};for(t=0,o=function(e){var t,n,i=[];for(t in e)for(n in e[t])i.push(e[t][n]);return i}(e);t<o.length;t++)i=o[t],n=ep.select(this.selector+" #"+i.id),a[i.id]=[],r=i.bands.filter(e=>"pter"!==e.name),a=this.drawBandLabelText(n,r,i,a),this.drawBandLabelStalk(n,r,i,a);this.setBandsToShow(o,a)}function iC(){var e,t="";return t=function(e){var t,n,i,o,r,a="";for(t=0;t<e.length;t++)[n,i,o,r]=function(e,t){var n;return n=t[e][0],[n,t[e][1],t[e][2],t[e][3]]}(t,e),a+='<linearGradient id="'+n+'" x1="0%" y1="0%" x2="0%" y2="100%">',"gneg"===n?a+='<stop offset="70%" stop-color="'+o+'" /><stop offset="95%" stop-color="'+r+'" /><stop offset="100%" stop-color="'+i+'" />':a+='<stop offset="5%" stop-color="'+i+'" /><stop offset="15%" stop-color="'+o+'" /><stop offset="60%" stop-color="'+r+'" />',a+="</linearGradient>";return a}(s),e=`<style>${eO}</style>`,t+=c,t=e+(t="<defs>"+t+"</defs>")}function iA(e){var t,n,i,o=this.config,r=new Date().getTime();return n=[],"chromosomes"in o&&(i=o.multiorganism?o.chromosomes:e in o.chromosomes?o.chromosomes[e].slice():o.chromosomes.slice()),n=function(e,t,n,i){var o,r;if(e in i.bandData||e in ef&&!1===i.assemblyIsAccession())n=function(e,t,n,i){var o,r,a;for(t=Object.keys(o=function(e,t,n){var i,o,r,a,s,l,c,d,u,h,f,p={};Array.isArray(f=n.bandData[e])&&(h="native"),t=function(e){var t,n;if(e instanceof Array&&"object"==typeof e[0]){for(n=0,t=[];n<e.length;n++)t.push(e[n].name);e=t}return e}(t);var m=(i=h,"undefined"==typeof chrBands&&"native"!==i?(o=/\t/,r=f.split(/\r\n|\n/),a=1):(o=/ /,r=f,a=0),[o,r,a]);for(s=m[0],l=m[1],d=u=m[2];d<l.length;d++)!function(e,t,n,i){var o,r,a,s=i.config.multiorganism;return null!=e&&(r=(o=Array.isArray(e))&&-1===e.indexOf(t),a="object"==typeof e,!!o&&!a&&!!r||(n in e!=!1||!s)&&(s?"string"==typeof e[n][0]?!1===e[n].includes(t):0===e[n].filter(e=>e.name===t).length:0===e.filter(e=>e===t).length))}(t,(c=l[d].split(s))[0],e,n)&&(p=function(e,t,n){var i,o,r,a;return(i=t[0])in e==!1&&(e[i]=[]),a=t[7],t[8]&&(a+=t[8]),o=a,r={chr:i,bp:{start:parseInt(t[5],10),stop:parseInt(t[6],10)},iscn:{start:parseInt(t[3],10),stop:parseInt(t[4],10)},px:{start:-1,stop:-1,width:-1},name:t[1]+t[2],stain:o,taxid:n},e[i].push(r),e}(p,c,e));return p}(e,t,i)).sort(Ideogram.sortChromosomes),(("chromosomes"in i.config)==!1||null===i.config.chromosomes)&&(i.config.chromosomes={}),t.length>0&&(i.config.chromosomes[e]=t.slice()),i.numChromosomes+=i.config.chromosomes[e].length,r=0;r<t.length;r++)a=function(e,t,n,i){var o,r,a=[];return a.push(o=t[e]),r={iscn:o[o.length-1].iscn.stop,bp:o[o.length-1].bp.stop},n in i.maxLength==!1&&(i.maxLength[n]={bp:0,iscn:0}),r.iscn>i.maxLength[n].iscn&&(i.maxLength[n].iscn=r.iscn,r.iscn>i.maxLength.iscn&&(i.maxLength.iscn=r.iscn)),r.bp>i.maxLength[n].bp&&(i.maxLength[n].bp=r.bp,r.bp>i.maxLength.bp&&(i.maxLength.bp=r.bp)),a}(t[r],o,e,i),n=n.concat(a);return n}(e,t,n,i);else for(i.numChromosomes+=t.length,r=0;r<t.length;r++)(o=t[r]).length>i.maxLength.bp&&(i.maxLength.bp=o.length);return n}(e,i,n,this),t=new Date().getTime(),this.config.debug&&console.log("Time in processBandData: "+(t-r)+" ms"),[e,n]}function i_(){call(this.onBrushMoveCallback)}function iS(){call(this.onBrushEndCallback)}function iL(e,t,n){var i,o,r,a,s,l,c,d,u,h,f,p,m,g,y,b,v,x,w,C=this.config.chrWidth+6.5,A=this._layout.margin.left;[e,t,n]=(i=e,o=t,r=n,a=i.split(":"),s=i.split("-"),a.length>1&&s.length>1&&(i=a[0].replace("chr",""),o=parseInt((s=a[1].split("-"))[0]),r=parseInt(s[1]-1)),[i,o,r]),b=function(e,t){var n,i;for(n=0;n<t.chromosomesArray.length;n++)if((i=t.chromosomesArray[n]).name===e)return i}(e,this),[x,w]=function(e,t){var n,i,o=[1],r=[1],a=e.bands.slice(-1)[0];for(i=0;i<e.bands.length;i++)o.push((n=e.bands[i]).bp.start),r.push(n.px.start+t);return o.push(a.bp.stop-1),r.push(a.px.stop+t),[o,r]}(b,A),v=b.bands.slice(-1)[0].bp.stop,void 0===t&&(t=Math.floor(v/10)),void 0===n&&(n=Math.ceil(2*t)),l=this,d=l.config.chrHeight,c=ep.scaleLinear().domain(x).range(w),l.brush=ep.brushX().extent([[A,0],[d+A,C]]).on("brush",function({selection:e}){var t=e.map(c.invert),n=Math.floor(t[0]),i=Math.ceil(t[1]);l.selectedRegion={from:n,to:i,extent:i-n},l.onBrushMoveCallback&&l.onBrushMoveCallback()}).on("end",function({selection:e}){l.onBrushEndCallback&&l.onBrushEndCallback()}),u=t,h=n,this.selectedRegion={from:u,to:h,extent:h-u+1},f=t,p=n,m=this.convertBpToPx(b,f)+A,g=this.convertBpToPx(b,p)+A,y=this._layout.getChromosomeSetYTranslate(0)+(this.config.chrWidth-C)/2,ep.select(this.selector).append("g").attr("class","brush").attr("transform","translate(0, "+y+")").call(this.brush).call(this.brush.move,[m,g])}function iT(){call(this.onCursorMoveCallback)}function ik(e){var t,n,i,o,r,a,s,l=this.config.chrWidth+6.5,c=this._layout.margin.left;if(void 0===e)return!1;r=function(e,t){var n,i;for(n=0;n<t.chromosomesArray.length;n++)if((i=t.chromosomesArray[n]).name===e)return i}(this.config.chromosome,this),[a,s]=function(e,t){var n,i,o=[1],r=[1],a=e.bands.slice(-1)[0];for(i=0;i<e.bands.length;i++)o.push((n=e.bands[i]).bp.start),r.push(n.px.start+t);return o.push(a.bp.stop-1),r.push(a.px.stop+t),[o,r]}(r,c),t=this,n=ep.scaleLinear().domain(a).range(s),"rotatable"in t.config&&!1===t.config.rotatable||console.warn("Using the cursor with rotate is not supported."),i=t._layout.getChromosomeSetYTranslate(0)+(t.config.chrWidth-l)/2,o=ep.select(t.selector).append("g").attr("class","brush").attr("transform","translate(0, "+i+")").append("rect").attr("class","cursor").attr("x",n(e)).attr("y",0).attr("width",1).attr("height",30),t.onCursorMove&&t.onCursorMoveCallback(e),t.setCursorPosition||(t.setCursorPosition=function(e){o.attr("x",n(e)),t.onCursorMove&&t.onCursorMoveCallback(e)}),ep.selectAll(t.selector+" .chromosome").on("click",function(e){var i=e.offsetX;i-=6,o.attr("x",i);var r=Math.floor(n.invert(i));t.onCursorMove&&t.onCursorMoveCallback(r)})}function iE(e,t){var n,i,o,r,a,s,l,c,d,u;for(u=0,n=this.bandsArray,i=this.config.taxid,o=this.config.chromosomes[i],a=(r="male"===this.config.sex?[1,0]:[0,0]).length;u<a;u++)s=o[d=r[u]+t],l=n[i][d],c=this.getChromosomeModel(l,s,i,d),this.appendHomolog(c,t,u,e)}function i$(e){var t,n,i={X:1,Y:1};if(2===this.config.ploidy&&this.config.sex)for(n=0,this.sexChromosomes.list=[];n<e.length;n++)t=e[n],"male"===this.config.sex&&t in i?(this.sexChromosomes.list.push(t),this.sexChromosomes.index||(this.sexChromosomes.index=n)):"X"===t&&(this.sexChromosomes.list.push(t,t),this.sexChromosomes.index=n)}function iI(e,t){var n,i;if(e.bands.length>1||"MT"===e.name){if([i,n]=function(e,t){var n,i,o,r,a,s,l,c,d;for(n=0;n<e.bands.length;n++)if(a=(i=e.bands[n]).bp.start,l=(s=i.bp.stop)-a,o=i.iscn.start,r=i.iscn.stop-o,c=i.px.start,d=i.px.width,t>=a&&t<=s)return[c+d*(o+r/l*(t-a)-o)/r,i];return[null,i]}(e,t),null!==i)return i}else if(t>=1&&t<=e.length)return e.scale.bp*t;!function(e,t,n){throw Error("Base pair out of range.  bp: "+e+"; length of chr"+t.name+": "+n.bp.stop)}(t,e,n)}function iP(e,t){var n,i,o,r,a,s,l;for(0===t&&(t=e.bands[0].px.start),n=0;n<e.bands.length;n++)if(o=(i=e.bands[n]).px.start,r=i.px.stop,a=i.iscn.start,s=i.iscn.stop,t>=o&&t<=r)return function(e,t,n,i,o,r,a){var s,l,c;return a=e-t,s=i-o,l=r.bp.stop-r.bp.start,c=t+a/s*(n-o),Math.round(r.bp.start+l*(c-t)/a)}(s,a,t,r,o,i,l);!function(e,t,n){throw Error("Pixel out of range.  px: "+e+"; length of chr"+t.name+": "+n)}(t,e,r)}let iM=iO,iD=iO,iF=iO,iB=iR,iN=iW;function iO(e){for(var t=Array(e),n=-1;++n<e;)t[n]=0;return t}function iR(e,t){for(var n=e.length;n<t;)e[n++]=0;return e}function iW(e,t){if(t>32)throw Error("invalid array width!");return e}function iH(e){this.length=e,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=iM(e)}"undefined"!=typeof Uint8Array&&(iM=function(e){return new Uint8Array(e)},iD=function(e){return new Uint16Array(e)},iF=function(e){return new Uint32Array(e)},iB=function(e,t){if(e.length>=t)return e;var n=new e.constructor(t);return n.set(e),n},iN=function(e,t){var n;switch(t){case 16:n=iD(e.length);break;case 32:n=iF(e.length);break;default:throw Error("invalid array width!")}return n.set(e),n}),iH.prototype.lengthen=function(e){var t,n;for(t=0,n=this.subarrays;t<n;++t)this[t]=iB(this[t],e);this.length=e},iH.prototype.add=function(){var e,t,n,i,o;for(i=0,o=this.subarrays;i<o;++i)if(e=this.masks[i],t=this.width-32*i,n=(~e&e+1)>>>0,!(t>=32)||n)return t<32&&n&1<<t&&(this[i]=iN(this[i],t<<=1),this.width=32*i+t),this.masks[i]|=n,{offset:i,one:n};return this[this.subarrays]=iM(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},iH.prototype.copy=function(e,t){var n,i;for(n=0,i=this.subarrays;n<i;++n)this[n][e]=this[n][t]},iH.prototype.truncate=function(e){var t,n;for(t=0,n=this.subarrays;t<n;++t)for(var i=this.length-1;i>=e;i--)this[t][i]=0;this.length=e},iH.prototype.zero=function(e){var t,n;for(t=0,n=this.subarrays;t<n;++t)if(this[t][e])return!1;return!0},iH.prototype.zeroExcept=function(e,t,n){var i,o;for(i=0,o=this.subarrays;i<o;++i)if(i===t?this[i][e]&n:this[i][e])return!1;return!0},iH.prototype.zeroExceptMask=function(e,t){var n,i;for(n=0,i=this.subarrays;n<i;++n)if(this[n][e]&t[n])return!1;return!0},iH.prototype.only=function(e,t,n){var i,o;for(i=0,o=this.subarrays;i<o;++i)if(this[i][e]!=(i===t?n:0))return!1;return!0},iH.prototype.onlyExcept=function(e,t,n,i,o){var r,a,s;for(a=0,s=this.subarrays;a<s;++a)if(r=this[a][e],a===t&&(r&=n),r!=(a===i?o:0))return!1;return!0};let iG={array8:iO,array16:iO,array32:iO,arrayLengthen:iR,arrayWiden:iW,bitarray:iH},ij={filterExact:(e,t)=>function(n){var i=n.length;return[e.left(n,t,0,i),e.right(n,t,0,i)]},filterRange:(e,t)=>{var n=t[0],i=t[1];return function(t){var o=t.length;return[e.left(t,n,0,o),e.left(t,i,0,o)]}},filterAll:e=>[0,e.length]},iq=e=>e,iz=()=>null,iU=()=>0;function iV(e){function t(e,t,i){for(var o=i-t,r=(o>>>1)+1;--r>0;)n(e,r,o,t);return e}function n(t,n,i,o){for(var r,a=t[--o+n],s=e(a);(r=n<<1)<=i&&(r<i&&e(t[o+r])>e(t[o+r+1])&&r++,!(s<=e(t[o+r])));)t[o+n]=t[o+r],n=r;t[o+n]=a}return t.sort=function(e,t,i){for(var o,r=i-t;--r>0;)o=e[t],e[t]=e[t+r],e[t+r]=o,n(e,1,r,t);return e},t}let iY=iV(iq);function iX(e){var t=iY.by(e);return function(n,i,o,r){var a,s,l,c=Array(r=Math.min(o-i,r));for(s=0;s<r;++s)c[s]=n[i++];if(t(c,0,r),i<o){a=e(c[0]);do e(l=n[i])>a&&(c[0]=l,a=e(t(c,0,r)[0]));while(++i<o)}return c}}iY.by=iV;let iK=iX(iq);function iJ(e){function t(t,n,i,o){for(;i<o;){var r=i+o>>>1;n<e(t[r])?o=r:i=r+1}return i}return t.right=t,t.left=function(t,n,i,o){for(;i<o;){var r=i+o>>>1;e(t[r])<n?i=r+1:o=r}return i},t}iK.by=iX;let iQ=iJ(iq);iQ.by=iJ;let iZ=(e,t,n)=>{for(var i=0,o=t.length,r=n?JSON.parse(JSON.stringify(e)):Array(o);i<o;++i)r[i]=e[t[i]];return r},i0={reduceIncrement:e=>e+1,reduceDecrement:e=>e-1,reduceAdd:e=>function(t,n){return t+ +e(n)},reduceSubtract:e=>function(t,n){return t-e(n)}},i1=(e,t)=>{let n=e[t];return"function"==typeof n?n.call(e):n},i2=/\[([\w\d]+)\]/g,i5=(e,t)=>(function(e,t,n,i,o){for(o in i=(n=n.split(".")).splice(-1,1),n)t=t[n[o]]=t[n[o]]||{};return e(t,i)})(i1,e,t.replace(i2,".$1"));function i3(){var e,t={add:l,remove:function(t){for(var r,s=Array(i),l=[],c="function"==typeof t,u=0,h=0;u<i;++u)(r=u,c?t(n[r],r):e.zero(r))?(l.push(u),s[u]=-1):s[u]=h++;o.forEach(function(e){e(-1,-1,[],l,!0)}),a.forEach(function(e){e(s)});for(var f=0,p=0;f<i;++f)-1!==s[f]&&(f!==p&&(e.copy(p,f),n[p]=n[f]),++p);n.length=i=p,e.truncate(p),d("dataRemoved")},dimension:function(t,s){if("string"==typeof t){var l=t;t=function(e){return i5(e,l)}}var c,u,h,f,p,m,g,y,b,v,x,w,C,A,S={filter:function(e){return null==e?H():Array.isArray(e)?W(e):"function"==typeof e?G(e):R(e)},filterExact:R,filterRange:W,filterFunction:G,filterAll:H,currentFilter:function(){return w},hasCurrentFilter:function(){return C},top:function(t,i){var o,r=[],a=P,l=0;for(i&&i>0&&(l=i);--a>=I&&t>0;)e.zero(o=m[a])&&(l>0?--l:(r.push(n[o]),--t));if(s)for(a=0;a<L.length&&t>0;a++)e.zero(o=L[a])&&(l>0?--l:(r.push(n[o]),--t));return r},bottom:function(t,i){var o,r,a=[],l=0;if(i&&i>0&&(l=i),s)for(o=0;o<L.length&&t>0;o++)e.zero(r=L[o])&&(l>0?--l:(a.push(n[r]),--t));for(o=I;o<P&&t>0;)e.zero(r=m[o])&&(l>0?--l:(a.push(n[r]),--t)),o++;return a},group:q,groupAll:function(){var e=q(iz),t=e.all;return delete e.all,delete e.top,delete e.order,delete e.orderNatural,delete e.size,e.value=function(){return t()[0].value},e},dispose:z,remove:z,accessor:t,id:function(){return f}},L=[],T=function(e){return i4(e).sort(function(e,t){var n=g[e],i=g[t];return n<i?-1:n>i?1:e-t})},k=ij.filterAll,E=[],$=[],I=0,P=0,M=0;r.unshift(F),r.push(B),a.push(N);var D=e.add();function F(n,o,r){if(s){M=0,j=0,A=[];for(var a=0;a<n.length;a++)for(j=0,A=t(n[a]);j<A.length;j++)M++;g=[],E=i4(n.length),$=i8(M,1);for(var l=i4(M),d=0,u=0;u<n.length;u++){if(!(A=t(n[u])).length){E[u]=0,L.push(u+o);continue}for(j=0,E[u]=A.length;j<A.length;j++)g.push(A[j]),l[d]=u,d++}var f=T(M);g=iZ(g,f),y=iZ(l,f)}else g=n.map(t),y=T(r),g=iZ(g,y);var w=k(g),C=w[0],S=w[1];if(s){if(r=M,x)for(D=0;D<r;++D)x(g[D],D)||(0==--E[y[D]]&&(e[h][y[D]+o]|=c),$[D]=1);else{for(F=0;F<C;++F)0==--E[y[F]]&&(e[h][y[F]+o]|=c),$[F]=1;for(B=S;B<r;++B)0==--E[y[B]]&&(e[h][y[B]+o]|=c),$[B]=1}}else if(x)for(D=0;D<r;++D)x(g[D],D)||(e[h][y[D]+o]|=c);else{for(F=0;F<C;++F)e[h][y[F]+o]|=c;for(B=S;B<r;++B)e[h][y[B]+o]|=c}if(!o){p=g,m=y,b=E,v=$,I=C,P=S;return}var E,$,D,F,B,N,O=p,R=m,W=v,H=0;if(a=0,s&&(N=o,o=O.length,r=M),p=s?Array(o+r):Array(i),m=s?Array(o+r):i8(i,i),s&&(v=i8(o+r,1)),s){var G=b.length;b=iG.arrayLengthen(b,i);for(var j=0;j+G<i;j++)b[j+G]=E[j]}for(var q=0;a<o&&H<r;++q)O[a]<g[H]?(p[q]=O[a],s&&(v[q]=W[a]),m[q]=R[a++]):(p[q]=g[H],s&&(v[q]=$[H]),m[q]=y[H++]+(s?N:o));for(;a<o;++a,++q)p[q]=O[a],s&&(v[q]=W[a]),m[q]=R[a];for(;H<r;++H,++q)p[q]=g[H],s&&(v[q]=$[H]),m[q]=y[H]+(s?N:o);I=(w=k(p))[0],P=w[1]}function B(e,t,n){E.forEach(function(e){e(g,y,t,n)}),g=y=null}function N(e){if(s){for(var t=0,n=0;t<L.length;t++)-1!==e[L[t]]&&(L[n]=e[L[t]],n++);for(t=0,L.length=n,n=0;t<i;t++)-1!==e[t]&&(n!==t&&(b[n]=b[t]),n++);b=b.slice(0,n)}for(var o,r=p.length,a=0,l=0;a<r;++a)-1!==e[o=m[a]]&&(a!==l&&(p[l]=p[a]),m[l]=e[o],s&&(v[l]=v[a]),++l);for(p.length=l,s&&(v=v.slice(0,l));l<r;)m[l++]=0;var c=k(p);I=c[0],P=c[1]}function O(t){var n=t[0],i=t[1];if(x)return x=null,j(function(e,t){return n<=t&&t<i},0===t[0]&&t[1]===p.length),I=n,P=i,S;var r,a,l,u=[],f=[],g=[],y=[];if(n<I)for(r=n,a=Math.min(I,i);r<a;++r)u.push(m[r]),g.push(r);else if(n>I)for(r=I,a=Math.min(n,P);r<a;++r)f.push(m[r]),y.push(r);if(i>P)for(r=Math.max(n,P),a=i;r<a;++r)u.push(m[r]),g.push(r);else if(i<P)for(r=Math.max(I,i),a=P;r<a;++r)f.push(m[r]),y.push(r);if(s){var w=[],C=[];for(r=0;r<u.length;r++)b[u[r]]++,v[g[r]]=0,1===b[u[r]]&&(e[h][u[r]]^=c,w.push(u[r]));for(r=0;r<f.length;r++)b[f[r]]--,v[y[r]]=1,0===b[f[r]]&&(e[h][f[r]]^=c,C.push(f[r]));if(u=w,f=C,k===ij.filterAll)for(r=0;r<L.length;r++)e[h][l=L[r]]&c&&(e[h][l]^=c,u.push(l));else for(r=0;r<L.length;r++)e[h][l=L[r]]&c||(e[h][l]^=c,f.push(l))}else{for(r=0;r<u.length;r++)e[h][u[r]]^=c;for(r=0;r<f.length;r++)e[h][f[r]]^=c}return I=n,P=i,o.forEach(function(e){e(c,h,u,f)}),d("filtered"),S}function R(e){return w=e,C=!0,O((k=ij.filterExact(iQ,e))(p))}function W(e){return w=e,C=!0,O((k=ij.filterRange(iQ,e))(p))}function H(){return w=void 0,C=!1,O((k=ij.filterAll)(p))}function G(e){w=e,C=!0,x=e,k=ij.filterAll,j(e,!1);var t=k(p);return I=t[0],P=t[1],S}function j(t,n){var i,r,a,l=[],f=[],g=[],y=[],x=p.length;if(!s)for(i=0;i<x;++i)!(e[h][r=m[i]]&c)^!!(a=t(p[i],i))&&(a?l.push(r):f.push(r));if(s)for(i=0;i<x;++i)t(p[i],i)?(l.push(m[i]),g.push(i)):(f.push(m[i]),y.push(i));if(s){var w=[],C=[];for(i=0;i<l.length;i++)1===v[g[i]]&&(b[l[i]]++,v[g[i]]=0,1===b[l[i]]&&(e[h][l[i]]^=c,w.push(l[i])));for(i=0;i<f.length;i++)0===v[y[i]]&&(b[f[i]]--,v[y[i]]=1,0===b[f[i]]&&(e[h][f[i]]^=c,C.push(f[i])));if(l=w,f=C,n)for(i=0;i<L.length;i++)e[h][r=L[i]]&c&&(e[h][r]^=c,l.push(r));else for(i=0;i<L.length;i++)e[h][r=L[i]]&c||(e[h][r]^=c,f.push(r))}else{for(i=0;i<l.length;i++)e[h][l[i]]&c&&(e[h][l[i]]&=u);for(i=0;i<f.length;i++)e[h][f[i]]&c||(e[h][f[i]]|=c)}o.forEach(function(e){e(c,h,l,f)}),d("filtered")}function q(t){var r={top:function(e){var t=f(N(),0,l.length,e);return g.sort(t,0,t.length)},all:N,reduce:O,reduceCount:R,reduceSum:function(e){return O(i0.reduceAdd(e),i0.reduceSubtract(e),iU)},order:W,orderNatural:function(){return W(iq)},size:function(){return A},dispose:H,remove:H};$.push(r);var l,d,f,g,y,b,v,x,w=8,C=i6(8),A=0,S=iz,L=iz,T=!0,k=t===iz;function I(r,a,c,f){s&&(x=c,c=p.length-r.length,f=r.length);var m,g,E,$,I,P,N=l,O=s?[]:i8(A,C),R=y,W=b,H=v,G=A,j=0,q=0;for(T&&(R=H=iz),T&&(W=H=iz),l=Array(A),A=0,d=s?G?d:[]:G>1?iG.arrayLengthen(d,i):i8(i,C),G&&(E=(g=N[0]).key);q<f&&!(($=t(r[q]))>=$);)++q;for(;q<f;){for(g&&E<=$?(I=g,P=E,O[j]=A,(g=N[++j])&&(E=g.key)):(I={key:$,value:H()},P=$),l[A]=I;$<=P&&(m=a[q]+(s?x:c),s?d[m]?d[m].push(A):d[m]=[A]:d[m]=A,I.value=R(I.value,n[m],!0),e.zeroExcept(m,h,u)||(I.value=W(I.value,n[m],!1)),!(++q>=f));)$=t(r[q]);U()}for(;j<G;)l[O[j]=A]=N[j++],U();if(s)for(var z=0;z<i;z++)d[z]||(d[z]=[]);if(A>j){if(s)for(j=0;j<x;++j)for(z=0;z<d[j].length;z++)d[j][z]=O[d[j][z]];else for(j=0;j<c;++j)d[j]=O[d[j]]}function U(){if(s){A++;return}++A===C&&(O=iG.arrayWiden(O,w<<=1),d=iG.arrayWiden(d,w),C=i6(w))}m=o.indexOf(S),A>1||s?(S=M,L=F):(!A&&k&&(A=1,l=[{key:null,value:H()}]),1===A?(S=D,L=B):(S=iz,L=iz),d=null),o[m]=S}function P(e){if(A>1||s){var t,n,r,a=A,c=l,u=i8(a,a);if(s){for(t=0,r=0;t<i;++t)if(-1!==e[t]){for(n=0,d[r]=d[t];n<d[r].length;n++)u[d[r][n]]=1;++r}}else for(t=0,r=0;t<i;++t)-1!==e[t]&&(u[d[r]=d[t]]=1,++r);for(l=[],A=0,t=0;t<a;++t)u[t]&&(u[t]=A++,l.push(c[t]));if(A>1||s){if(s)for(t=0;t<r;++t)for(n=0;n<d[t].length;++n)d[t][n]=u[d[t][n]];else for(t=0;t<r;++t)d[t]=u[d[t]]}else d=null;o[o.indexOf(S)]=A>1||s?(L=F,S=M):1===A?(L=B,S=D):L=S=iz}else if(1===A){if(k)return;for(var h=0;h<i;++h)if(-1!==e[h])return;l=[],A=0,o[o.indexOf(S)]=S=L=iz}}function M(t,i,o,r,a){var f,p,m,g,v;if((t!==c||i!==h)&&!T){if(s){for(f=0,g=o.length;f<g;++f)if(e.zeroExcept(m=o[f],h,u))for(p=0;p<d[m].length;p++)(v=l[d[m][p]]).value=y(v.value,n[m],!1,p);for(f=0,g=r.length;f<g;++f)if(e.onlyExcept(m=r[f],h,u,i,t))for(p=0;p<d[m].length;p++)(v=l[d[m][p]]).value=b(v.value,n[m],a,p);return}for(f=0,g=o.length;f<g;++f)e.zeroExcept(m=o[f],h,u)&&((v=l[d[m]]).value=y(v.value,n[m],!1));for(f=0,g=r.length;f<g;++f)e.onlyExcept(m=r[f],h,u,i,t)&&((v=l[d[m]]).value=b(v.value,n[m],a))}}function D(t,i,o,r,a){if((t!==c||i!==h)&&!T){var s,d,f,p=l[0];for(s=0,f=o.length;s<f;++s)e.zeroExcept(d=o[s],h,u)&&(p.value=y(p.value,n[d],!1));for(s=0,f=r.length;s<f;++s)e.onlyExcept(d=r[s],h,u,i,t)&&(p.value=b(p.value,n[d],a))}}function F(){var t,o,r;for(t=0;t<A;++t)l[t].value=v();if(s){for(t=0;t<i;++t)for(o=0;o<d[t].length;o++)(r=l[d[t][o]]).value=y(r.value,n[t],!0,o);for(t=0;t<i;++t)if(!e.zeroExcept(t,h,u))for(o=0;o<d[t].length;o++)(r=l[d[t][o]]).value=b(r.value,n[t],!1,o);return}for(t=0;t<i;++t)(r=l[d[t]]).value=y(r.value,n[t],!0);for(t=0;t<i;++t)e.zeroExcept(t,h,u)||((r=l[d[t]]).value=b(r.value,n[t],!1))}function B(){var t,o=l[0];for(t=0,o.value=v();t<i;++t)o.value=y(o.value,n[t],!0);for(t=0;t<i;++t)e.zeroExcept(t,h,u)||(o.value=b(o.value,n[t],!1))}function N(){return T&&(L(),T=!1),l}function O(e,t,n){return y=e,b=t,v=n,T=!0,r}function R(){return O(i0.reduceIncrement,i0.reduceDecrement,iU)}function W(e){function t(t){return e(t.value)}return f=iK.by(t),g=iY.by(t),r}function H(){var e=o.indexOf(S);return e>=0&&o.splice(e,1),(e=E.indexOf(I))>=0&&E.splice(e,1),(e=a.indexOf(P))>=0&&a.splice(e,1),(e=$.indexOf(r))>=0&&$.splice(e,1),r}return arguments.length<1&&(t=iq),o.push(S),E.push(I),a.push(P),I(p,m,0,i),R().orderNatural()}function z(){$.forEach(function(e){e.dispose()});var t=r.indexOf(F);return t>=0&&r.splice(t,1),(t=r.indexOf(B))>=0&&r.splice(t,1),(t=a.indexOf(N))>=0&&a.splice(t,1),e.masks[h]&=u,H()}return h=D.offset,u=~(c=D.one),f=h<<7|Math.log(c)/Math.log(2),F(n,0,i),B(n,0,i),S},groupAll:function(){var t,a,s,l,c={reduce:f,reduceCount:p,reduceSum:function(e){return f(i0.reduceAdd(e),i0.reduceSubtract(e),iU)},value:function(){return d&&(function(){var o;for(o=0,t=l();o<i;++o)t=a(t,n[o],!0),e.zero(o)||(t=s(t,n[o],!1))}(),d=!1),t},dispose:m,remove:m},d=!0;function u(o,r){var l;if(!d)for(l=r;l<i;++l)t=a(t,n[l],!0),e.zero(l)||(t=s(t,n[l],!1))}function h(i,o,r,l,c){var u,h,f;if(!d){for(u=0,f=r.length;u<f;++u)e.zero(h=r[u])&&(t=a(t,n[h],c));for(u=0,f=l.length;u<f;++u)e.only(h=l[u],o,i)&&(t=s(t,n[h],c))}}function f(e,t,n){return a=e,s=t,l=n,d=!0,c}function p(){return f(i0.reduceIncrement,i0.reduceDecrement,iU)}function m(){var e=o.indexOf(h);return e>=0&&o.splice(e,1),(e=r.indexOf(u))>=0&&r.splice(e,1),c}return o.push(h),r.push(u),u(n,0,i),p()},size:function(){return i},all:function(){return n},allFiltered:function(t){var o=[],r=0,a=c(t||[]);for(r=0;r<i;r++)e.zeroExceptMask(r,a)&&o.push(n[r]);return o},onChange:function(e){if("function"!=typeof e){console.warn("onChange callback parameter must be a function!");return}return s.push(e),function(){s.splice(s.indexOf(e),1)}},isElementFiltered:function(t,n){var i=c(n||[]);return e.zeroExceptMask(t,i)}},n=[],i=0,o=[],r=[],a=[],s=[];function l(o){var a=i,s=o.length;return s&&(n=n.concat(o),e.lengthen(i+=s),r.forEach(function(e){e(o,a,s)}),d("dataAdded")),t}function c(t){var n,i,o,r,a=Array(e.subarrays);for(n=0;n<e.subarrays;n++)a[n]=-1;for(i=0,o=t.length;i<o;i++)r=t[i].id(),a[r>>7]&=~(1<<(63&r));return a}function d(e){for(var t=0;t<s.length;t++)s[t](e)}return e=new iG.bitarray(0),arguments.length?l(arguments[0]):t}function i8(e,t){return(t<257?iG.array8:t<65537?iG.array16:iG.array32)(e)}function i4(e){for(var t=i8(e,e),n=-1;++n<e;)t[n]=n;return t}function i6(e){return 8===e?256:16===e?65536:0x100000000}function i7(){var e,t,n=[],i=this.annots;for(t=0;t<i.length;t++)e=i[t].annots,n=n.concat(e);return n}function i9(e){var t,n,i,o=[],r=this.annots;for(t in r)o.push({chr:r[t].chr,annots:[]});for(i=0;i<e.length;i++)o[(n=e[i]).chrIndex].annots.push(n);return o}function oe(){var e,t,n=this.rawAnnots.keys;for(e=0,this.unpackedAnnots=this.unpackAnnots(),this.crossfilter=i3(this.unpackedAnnots),this.annotsByFacet={},this.facets=n.slice(3,n.length);e<this.facets.length;e++)t=this.facets[e],this.annotsByFacet[t]=this.crossfilter.dimension(function(e){return e[t]});"filterSelections"in this&&this.filterAnnots(this.filterSelections),this.filteredAnnots=this.annots}function ot(e){var t,n,i,o,r=Date.now();for(this.filterSelections=e,[i,o]=function(e,t){var n,i,o,r,a,s={};if(0===Object.keys(e).length)r=t.unpackedAnnots;else{for(i=0;i<t.facets.length;i++)n=(o=t.facets[i])in e?Array.isArray(a=e[o])?function(e){return 2===a.length?a[0]<=e&&e<a[1]:4===a.length?a[0]<=e&&e<a[1]||a[2]<=e&&e<a[3]:void 0}:function(e){return e in a}:null,t.annotsByFacet[o].filter(n),s[o]=t.annotsByFacet[o].group().top(1/0);r=t.annotsByFacet[o].top(1/0)}return[r,s]}(e,this);t<this.facets.length;t++)this.annotsByFacet[n].filterAll();return i=this.packAnnots(i),delete this.maxAnnotsPerBar,delete this.maxAnnotsPerBarAllChrs,this.filteredAnnots=i,ep.selectAll(this.selector+" polygon.annot").remove(),this.drawAnnots(i),console.log("Time in filterAnnots: "+(Date.now()-r)+" ms"),o}function on(e){var t,n,i,o,r,a,s,l,c,d,u,h=e.id.split("-")[1];return s=e.bands,l=this.config.chrHeight,c=0,(d=void 0!==s)?[s,e,c]=function(e,t,n,i){var o,r,a,s,l,c=0,d=t.id.split("-")[1],u=i.coordinateSystem,h=i.config.chrHeight;for(o=0;o<e.length;o++)a=(r=e[o])[u].stop-r[u].start,i._layout._isRotated?s=h*a/t.length:(l="relative"===i.config.chromosomeScale?i.maxLength[d][u]:i.maxLength[u],s=h*t.length/l*a/t.length),e[o].px={start:c,stop:c+s,width:s},c=e[o].px.stop,n&&"acen"===r.stain&&"p"===r.name[0]&&(t.pcenIndex=o);return[e,t,c]}(s,e,d,this):(u="relative"===this.config.chromosomeScale?this.maxLength[h][this.coordinateSystem]:this.maxLength[this.coordinateSystem],c=l*e.length/u),e.width=c,e.scale=(t=e,n=this.config.chrHeight,i=t.length,o=this.maxLength,r=t.id.split("-")[1],(a={}).bp=n/o.bp,!0===this.config.multiorganism?"relative"===this.config.chromosomeScale?(a.iscn=n*i/o[r].bp,a.bp=n/o[r].bp):a.iscn=n*i/o.bp:d&&(a.iscn=n/o.iscn),a),e.bands=s,e}function oi(e,t,n,i){var o,r,a,s={};return r=void 0!==e,(s=function(e,t,n,i){if(void 0!==t){let o=t.slice(-1)[0];e.name=n,e.length=o[i.coordinateSystem].stop,e.bpLength=o.bp.stop,e.type="nuclear"}else e=n;return e}(s,e,t,this)).chrIndex=i,s.id="chr"+s.name+"-"+n,!0===this.config.fullChromosomeLabels&&(a=this.organisms[n],s.name=a.scientificName+" chr"+s.name),s.bands=e,(s=this.getChromosomePixels(s)).centromerePosition=function(e,t){if(!1===e)return"";let n=t[0],i=t.slice(-1)[0],o=(i.bp.stop-n.bp.start)/20;return"p"===n.name[0]&&"q"===t[1].name[0]&&n.bp.stop-n.bp.start<o?"telocentric-p":"p"===t.slice(-2)[0].name[0]&&"q"===i.name[0]&&i.bp.stop-i.bp.start<o?"telocentric-q":""}(r,e),o=s,r&&1===o.bands.length&&delete o.bands,s=o}i3.heap=iY,i3.heapselect=iK,i3.bisect=iQ,i3.permute=iZ;let oo=`
  <style>

    #gear {
      position: absolute;
      right: 3px;
      top: 24px;
      z-index: 8001;
      cursor: pointer;
      height: 18px;
      width: 18px;
    }

    #tools {
      position: absolute;
      width: 120px;
      right: 27px;
      top: 16px;
      z-index: 8000;
      background: white;
      margin: 0;
      border: 1px solid #CCC;
      border-radius: 4px;
      box-shadow: -2px 4px 6px #CCC;
    }

    #tools ul {
      margin-block-start: 0;
      margin-block-end: 0;
      padding-inline-start: 0;
    }

    #tools li, #download li {
      padding: 2px 12px 2px 12px;
      cursor: pointer;
    }

    #tools li:hover,
    #tools li.active,
    #download li:hover {
      background: #DDD;
    }

    #tools li.ideo-disabled,
    #tools li.active.ideo-disabled,
    #download li.ideo-disabled {
      background: #FFF;
      color: #CCC;
      cursor: default;
    }

    #download {
      position: absolute;
      right: 3px;
      top: 16px;
      z-index: 8000;
      background: white;
      margin: 0;
      padding-inline-start: 0;
    }

    #settings {
      position: absolute;
      right: 3px;
      top: 16px;
      z-index: 8000;
      background: white;
      margin: 0;
      padding-inline-start: 0;
    }

    #about {
      position: absolute;
      right: 24px;
      top: -8px;
      z-index: 8000;
      background: white;
      width: 300px;
      border: 1px solid #CCC;
      padding: 10px;
      border-radius: 4px;
      box-shadow: -2px 4px 6px #CCC;
      cursor: default;
    }

    #close {
      float: right;
      border: 1px solid #DDD;
      border-radius: 4px;
      padding: 0 6px;
      background: #EEE;
      font-weight: bold;
      cursor: pointer;
    }

    #settings label {
      display: inline;
      text-decoration: underline;
      text-decoration-style: dotted;
      cursor: pointer;
    }

    #download {
      position: absolute;
      width: 120px;
      top: -2px;
      right: 120px;
      z-index: 8000;
      background: white;
      margin: 0;
      border: 1px solid #CCC;
      border-radius: 4px;
      box-shadow: -2px 4px 6px #CCC;
    }

    li {
      list-style-type: none;
    }

    #settings .no-underline {
      text-decoration: none;
    }

    #settings .setting {
      margin-right: 8px;
    }

    #settings input[type="checkbox"], #settings input[type="radio"] {
      position: relative;
      top: 2px;
    }

    .area-header {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 10px;
      clear: both;
    }

    .area-content {
      display: flex;
      flex-wrap: wrap;
    }

    .area-content > div {
      margin-right: 30px;
      margin-bottom: 15px;
    }

    .tab-panel input[type="number"] {
      width: 50px;
    }

    .tab-panel ul {
      width: 600px;
      list-style: none;
      border-bottom: 1px solid #CCC;
      box-sizing: border-box;
      margin-bottom: 0;
      padding-left: 0;
    }

    .tab-panel .nav:before, .tab-panel .nav:after {
      content: " ";
      display: table;
      clear: both;
    }

    .tab-panel li {
      float: left;
      margin-right: 2px;
      display: block;
      margin-bottom: -1px;
    }

    .tab-panel li > a {
      padding: 10px 15px;
      text-decoration: none;
      border-radius: 4px 4px 0 0;
      display: block;
      position: relative;
    }

    .tab-panel li.active > a {
      border: 1px solid #CCC;
      border-bottom: none;
      background-color: white;
    }

    .tab-panel .tab-content {
      width: 600px;
    }

    .tab-panel .tab-content > div {
      display: none;
      padding-top: 20px;
      clear: both;
    }

    .tab-panel .tab-content > div {
      padding: 20px 10px 5px 10px;
    }

    .tab-panel .tab-content > div.active {
      display: block;
      border: 1px solid #CCC;
      border-top: none;
    }

  </style>`;function or(e){e.forEach(e=>{e.classList.remove("active")})}function oa(){or(document.querySelectorAll("#tools > ul > li")),document.querySelectorAll(".ideo-modal, .ideo-tool-panel").forEach(e=>{e.remove()}),document.querySelector("#tools").style.display="none"}class os{constructor(e){this._model=e,this._class="ModelAdapter"}static getInstance(e){return e.bands?new os(e):new ol(e)}getModel(){return this._model}getCssClass(){return""}}class ol extends os{constructor(e){super(e),this._class="ModelNoBandsAdapter"}getModel(){this._model.bands=[];let e="MT"===this._model.name,t=this._model.width;return(t>1||e)&&this._model.bands.push({name:"q",px:{start:0,stop:t,width:t},bp:{start:1,stop:this._model.bpLength??this._model.length},iscn:{start:1,stop:this._model.length}}),this._model}getCssClass(){return"noBands"}}class oc{constructor(e){this._config=e,this._ploidy=new t4(this._config)}getArmColor(e,t,n){return this._config.armColors?this._config.armColors[n]:this._config.ancestors?this._getPolyploidArmColor(e,t,n):null}getBorderColor(e,t,n){let i=this._config,o=i.chrBorderColor?i.chrBorderColor:"#000";return t<i.ploidy?o:this._ploidy.exists(e,t,n)?o:"#fff"}getFillColor(){let e=this._config;if(!e.chrFillColor)return"#AAA";let t=e.chrFillColor;return"string"==typeof t?{arm:t,centromere:""}:t}_getPolyploidArmColor(e,t,n){if(!this._ploidy.exists(e,t,n))return"transparent";var i=this._ploidy.getAncestor(e,t,n);return this._config.ancestors[i]}}class od{constructor(e){this._data=e,this.start=e.start,this.stop=e.stop,this.length=this.stop-this.start}getColor(e){return"ploidy"in this._data?"ploidy"in this._data&&this._data.ploidy[e]?this._getColor(e):"transparent":this._getColor(e)}_getColor(e){return Array.isArray(this._data.color)?this._data.color[e]:this._data.color}}class ou{constructor(e,t,n){this._adapter=e,this._model=this._adapter.getModel(),this._config=t,this._ideo=n,this._color=new oc(this._config),this._bumpCoefficient=5}static getInstance(e,t,n){let i=e.getModel().centromerePosition;return"telocentric-p"===i?new of(e,t,n):"telocentric-q"===i?new op(e,t,n):new oh(e,t,n)}_addPArmShape(e,t){return t?e.concat(this._getPArmShape()):e}_addQArmShape(e,t){return t?e.concat(this._getQArmShape()):e}render(e,t,n){var i,o,r,a,s,l,c;let d;if(i=this,e=e.append("g").attr("class","bands").attr("clip-path","url(#"+this._model.id+"-chromosome-set-clippath)"),o=this._renderArm(e,t,n,"p"),r=this._renderArm(e,t,n,"q"),this._renderRangeSet(e,t,n),a=[],a=this._addPArmShape(a,o),a=this._addQArmShape(a,r),s="0",l="",c=this.isFullyBanded(),"ancestors"in this._ideo.config&&!("rangeSet"in this._ideo.config)?(l=i._color.getArmColor(t,n,0),c&&(s="0.5")):c?(s=null,l="transparent"):"ancestors"in this._ideo.config||(s="1"),this._ideo.config.chrFillColor){let e=i._color.getFillColor();l=e.arm,d=e.centromere}return e.append("g").attr("class","chromosome-border").selectAll("path").data(a).enter().append("path").attr("fill",l).style("fill-opacity",s).style("fill",function(e){if("acen"===e.class&&d)return d}).attr("stroke",function(e,o){return i._color.getBorderColor(t,n,o)}).attr("stroke-width",function(e){return"strokeWidth"in e?e.strokeWidth:1}).attr("d",function(e){return e.path}).attr("class",function(e){return e.class}),a}_renderRangeSet(e,t,n){var i,o,r,a;"rangeSet"in this._config&&(o=this._config.rangeSet.filter(function(e){return e.chr-1===t}).map(function(e){return new od(e)}),r=e.append("g").attr("class","range-set"),i=this,a=i._ideo,r.selectAll("rect.range").data(o).enter().append("rect").attr("class","range").attr("x",function(e){return a.convertBpToPx(i._model,e.start)}).attr("y",0).attr("width",function(e){return a.convertBpToPx(i._model,e.length)}).attr("height",this._config.chrWidth).style("fill",function(e){return e.getColor(n)}))}_getShapeData(){var e,t,n,i;for(t=0;t<this._model.bands.length;t++)if("q"===this._model.bands[t].name[0]){e=this._model.bands[t];break}return n=this._model.bands.length-1,i=this._model.bands[n].px.stop,{x1:0,x2:e?e.px.start:i,x3:i,w:this._config.chrWidth,b:this._config.chrWidth/this._bumpCoefficient}}_getPArmShape(){var e=this._getShapeData(),t=e.x2-e.b;return this.isFullyBanded()||"ancestors"in this._ideo.config?{class:"",path:"M"+e.b+",0 L"+t+",0 Q"+(e.x2+e.b)+","+e.w/2+","+t+","+e.w+" L"+e.b+","+e.w+" Q-"+e.b+","+e.w/2+","+e.b+",0"}:[{class:"",path:"M"+e.b+",0 L"+(t-2)+",0 L"+(t-2)+","+e.w+" L"+e.b+","+e.w+" Q-"+e.b+","+e.w/2+","+e.b+",0"},{class:"acen",path:"M"+t+",0 Q"+(e.x2+e.b)+","+e.w/2+","+t+","+e.w+" L"+t+","+e.w+" L"+(t-2)+","+e.w+" L"+(t-2)+",0"}]}_getQArmShape(){var e=this._getShapeData(),t=e.x3-e.b,n=e.x2+e.b;return this.isFullyBanded()||"ancestors"in this._ideo.config?{class:"",path:"M"+n+",0 L"+t+",0 Q"+(e.x3+e.b)+","+e.w/2+","+t+","+e.w+" L"+n+","+e.w+" Q"+(e.x2-e.b)+","+e.w/2+","+n+",0"}:[{path:"M"+n+",0 L"+t+",0 Q"+(e.x3+e.b)+","+e.w/2+","+t+","+e.w+" L"+n+","+e.w+" L"+n+",0"},{class:"acen",path:"M"+n+",0Q"+(e.x2-e.b)+","+e.w/2+","+n+","+e.w+" L"+n+","+e.w+"L"+(n+2)+","+e.w+"L"+(n+2)+",0"}]}isFullyBanded(){return this._model.bands&&(2!==this._model.bands.length||"q"===this._model.bands[0].name[0])}_renderBands(e,t,n,i,o){var r,a,s;r=this,a="p"===o?0:1,s="","ancestors"in r._ideo.config&&!r.isFullyBanded()&&(s=r._color.getArmColor(t,n,a)),e.selectAll("path.band."+o).data(i).enter().append("path").attr("id",function(e){return r._model.id+"-"+e.name.replace(".","-")}).attr("class",function(e){return"band "+o+"-band "+e.stain}).attr("d",function(e){var t;return"M "+r._ideo.round(e.px.start)+", 0l "+(t=r._ideo.round(e.px.width))+" 0 l 0 "+r._config.chrWidth+" l -"+t+" 0 z"}).style("fill",s)}_renderArm(e,t,n,i){var o=this._model.bands.filter(function(e){return e.name[0]===i});return this._renderBands(e,t,n,o,i),!!o.length}}class oh extends ou{constructor(e,t,n){super(e,t,n),this._class="MetacentricChromosome"}}class of extends ou{constructor(e,t,n){super(e,t,n),this._class="TelocentricPChromosome",this._pArmOffset=3}_addPArmShape(e){return e.concat(this._getPArmShape())}_getPArmShape(){var e=this._getShapeData();return e.o=this._pArmOffset,[{class:"acen",path:"M"+(e.x2+2)+",1L"+(e.x2+e.o+3.25)+",1 L"+(e.x2+e.o+3.25)+","+(e.w-1)+" L"+(e.x2+2)+","+(e.w-1)},{class:"gpos66",path:"M"+(e.x2-e.o+5)+",0L"+(e.x2-e.o+3)+",0 L"+(e.x2-e.o+3)+","+e.w+" L"+(e.x2-e.o+5)+","+e.w,strokeWidth:.5}]}_getQArmShape(){var e=this._getShapeData(),t=e.x3-e.b,n=this._pArmOffset+3;return{class:"",path:"M"+(e.x2+n)+",0 L"+t+",0 Q"+(e.x3+e.b)+","+e.w/2+","+t+","+e.w+" L"+(e.x2+n)+","+e.w}}}class op extends ou{constructor(e,t,n){super(e,t,n),this._class="TelocentricQChromosome",this._qArmOffset=3}_getPArmShape(){var e=this._getShapeData(),t=e.x3-e.b,n=this._qArmOffset;return{class:"",path:"M"+(e.x2+n)+",0 L"+(t+n)+",0 L"+(t+n)+","+e.w+" L"+e.b+","+e.w+" Q-"+e.b+","+e.w/2+","+e.b+",0"}}_addQArmShape(e){return e.concat(this._getQArmShape())}_getQArmShape(){var e=this._getShapeData();return e.o=this._qArmOffset,[{class:"acen",path:"M"+(e.x2+2)+",1 L"+(e.x2+e.o+3.25)+",1 L"+(e.x2+e.o+3.25)+","+(e.w-1)+" L"+(e.x2+2)+","+(e.w-1)},{class:"gpos66",path:"M"+(e.x2+e.o+5)+",0 L"+(e.x2+e.o+3)+",0 L"+(e.x2+e.o+3)+","+e.w+" L"+(e.x2+e.o+5)+","+e.w,strokeWidth:.5}]}}function om(e,t,n,i){var o,r,a,s,l;s=ep.select(this.selector+" defs"),l=os.getInstance(e),o=n*this.config.chrMargin,r=i.append("g").attr("id",e.id).attr("class","chromosome "+l.getCssClass()).attr("transform","translate(0, "+o+")"),a=ou.getInstance(l,this.config,this).render(r,t,n),ep.select("#"+e.id+"-chromosome-set-clippath").remove(),s.append("clipPath").attr("id",e.id+"-chromosome-set-clippath").selectAll("path").data(a).enter().append("path").attr("d",function(e){return e.path}).attr("class",function(e){return e.class}),e.width<1&&ep.select("#"+e.id+" .bands").style("opacity",0)}function og(e){var t,n,i,o,r,a;if(t=e.chrIndex,o=this._layout.getChromosomeSetTranslate(t),a=this.selector+" #"+e.id+"-chromosome-set",ep.selectAll(a+" g").remove(),0===(n=ep.select(a)).nodes().length&&(n=ep.select(this.selector).append("g").attr("class","chromosome-set").attr("transform",o).attr("id",e.id+"-chromosome-set")),"sex"in this.config&&2===this.config.ploidy&&this.sexChromosomes.index===t){this.drawSexChromosomes(n,t);return}for(i=1,this.config.ploidy>1&&(i=this._ploidy.getChromosomesNumber(t)),r=0;r<i;r++)this.appendHomolog(e,t,r,n)}function oy(e){var t,n;this.unhighlight(),this.config.taxid&&(t=e.id.split("-")[0].replace("chr",""),n=this.chromosomes[this.config.taxid][t].chrIndex,this._layout.rotate(n,n,e))}function ob(){var e,t,n,i,o,r,a;e=this.config,o=ep.select(e.container+" svg#_ideogram"),n=ep.select(e.container+" #_ideogramInnerWrap"),i=ep.select(e.container+" #_ideogramMiddleWrap"),a=1===(r=e.ploidy)?r:1.12*r;let s=0;"annotationsLayout"in e&&(s=e.annotationHeight*e.numAnnotTracks),"vertical"===e.orientation&&"comparative"!==e.perspective&&"collinear"!==e.geometry&&(t=this.numChromosomes*(e.chrWidth+e.chrMargin+s),"heatmap-2d"!==e.annotationsLayout&&(t=Math.ceil(t*a/e.rows),"SmallLayout"===this._layout._class&&(t+=100),t+=35,i.style("height",this._layout.getHeight()+"px"),n.style("max-width",t+"px").style("overflow-x","scroll").style("position","absolute"),o.style("min-width",t-5+"px"),this.config.showTools&&function(e){let t=`
    ${oo}
    <div id="gear" style="display: none"><svg viewBox="0 0 512 512"><path fill="#AAA" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"/></svg></div>
    <div id="tools" style="display: none">
      <ul>
        <li id="download-tool" class="ideo-tool-hover">Download <span style="float: right">&blacktriangleright;</span></li>
        <li id="about-tool">About</li>
      </ul>
    </div>`;document.querySelector(e.selector).insertAdjacentHTML("beforebegin",t),document.querySelector("#gear").addEventListener("click",e=>{var t=document.querySelector("#tools");"none"===t.style.display?(t.style.display="",function(){let e=document.querySelectorAll("#gear, #tools"),t=t=>{let i=0;e.forEach(e=>{e.contains(t.target)||(i+=1)}),i===e.length&&(oa(),n())},n=()=>{document.removeEventListener("click",t)};document.addEventListener("click",t)}()):(t.style.display="none",oa())}),function(e){let t=document.querySelectorAll("#tools > ul > li");t.forEach(n=>{let i=Array.from(n.classList).includes("ideo-tool-hover")?"mouseenter":"click";n.addEventListener(i,o=>{var r;or(t),n.classList+=" active";let a=n.id.split("-")[0],s=("download"===a&&(r=function(e){let t=document.querySelectorAll(".annot").length;return`
    <div id="download" class="ideo-tool-panel">
      <li id="download-image">Image</li>
      <li id="download-annots" class="${t>0?"":"ideo-disabled"}">Annotations</li>
    </div>
  `}(0)),"about"===a&&(r=function(){let e=`
    <a href="https://github.com/eweitz/ideogram" target="_blank" rel="noopener">
      Ideogram.js</a>`;return`
    <div id="about" class="ideo-modal">
      ${e}, version ${f} <span id="close">x</span><br/>
      <i>Chromosome visualization for the web</i>
    </div>`}()),r.trim());"mouseenter"===i?(n.insertAdjacentHTML("beforeend",s),"mouseenter"===i&&n.addEventListener("mouseleave",e=>{let n=e.toElement,i=n.id,o=document.querySelector(".ideo-tool-panel");document.querySelector("#tools").contains(n)&&o&&!o.contains(n)&&i!==a&&(or(t),o.remove())}),"download"===a&&(document.querySelector("#download-image").addEventListener("click",t=>{var n,i,o,r,a,s,l,c,d,u,h;oa(),n=document.querySelector(e.selector),a=document.createElement("canvas"),i="_ideo-undisplayed-dl-canvas",a.setAttribute("style","display: none"),a.setAttribute("id",i),o=n.width.baseVal.value+30,(r=n.cloneNode(!0)).style.left="",a.setAttribute("width",o),document.body.appendChild(a),a=document.getElementById(i),a.width*=2,a.height*=2,(s=a.getContext("2d")).setTransform(2,0,0,2,0,0),s.imageSmoothingEnabled=!1,l=new XMLSerializer().serializeToString(r),c=window.URL||window.webkitURL||window,d=new Image,u=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),h=c.createObjectURL(u),d.onload=function(){var e,t,n;s.drawImage(d,0,0),c.revokeObjectURL(h),e=a.toDataURL("image/png").replace("image/png","image/octet-stream"),t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),(n=document.createElement("a")).setAttribute("download","ideogram.png"),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.setAttribute("id","_ideo-undisplayed-dl-image-link"),n.setAttribute("style","display: none;"),document.body.appendChild(n),n.dispatchEvent(t),a.remove()},d.src=h}),document.querySelector("#download-annots").addEventListener("click",t=>{!1===Array.from(document.querySelector("#download-annots").classList).includes("ideo-disabled")&&(oa(),e.downloadAnnotations())}))):document.querySelector("#gear").insertAdjacentHTML("beforeend",s)})}),document.querySelectorAll("#close").forEach(e=>{e.addEventListener("click",()=>{oa()})})}(e),function(e){let t=document.querySelector(e.selector),n=document.querySelector("#gear"),i=document.querySelector("#tools");t.addEventListener("mouseover",()=>n.style.display=""),t.addEventListener("mouseout",()=>{"none"===i.style.display&&(n.style.display="none")}),n.addEventListener("mouseover",()=>n.style.display="")}(e)}(this)))}function ov(){!function(e){var t=e._layout;ep.selectAll(e.selector+" .chromosome-set").insert("text",":first-child").data(e.chromosomesArray).attr("class",t.getChromosomeLabelClass()).attr("transform",t.getChromosomeSetLabelTranslate()).attr("x",t.getChromosomeSetLabelXPosition()).attr("y",function(e,n){return t.getChromosomeSetLabelYPosition(n)}).attr("text-anchor",t.getChromosomeSetLabelAnchor()).each(function(t,n){!function(e,t,n,i){var o,r=(o=-1===e.name.indexOf(" ")?[e.name]:e.name.match(/^(.*)\s+([^\s]+)$/).slice(1).reverse(),"sex"in i.config&&2===i.config.ploidy&&t===i.sexChromosomes.index&&(o="male"===i.config.sex?["XY"]:["XX"]),o);ep.select(n).selectAll("tspan").data(r).enter().append("tspan").attr("dy",function(e,t){return -1.2*t+"em"}).attr("x",i._layout.getChromosomeSetLabelXPosition()).attr("class",function(e,t){var n=i.config.fullChromosomeLabels;return 1===t&&n?"italic":null}).text(String)}(t,n,this,e)})}(this),function(e){var t=e._layout;ep.selectAll(e.selector+" .chromosome-set").each(function(n,i){ep.select(this).selectAll(".chromosome").append("text").attr("class","chrLabel").attr("transform",t.getChromosomeSetLabelTranslate()).attr("x",function(e,n){return t.getChromosomeLabelXPosition(n)}).attr("y",function(e,n){return t.getChromosomeLabelYPosition(n)}).text(function(t,n){return e._ploidy.getAncestor(i,n)}).attr("text-anchor","middle")})}(this)}function ox(e,t,n,i){var o,r,a,s,l,c,d,u,h,f,p,m,g,y,b,v;(t-=1,void 0!==(r=i)&&r.hasOwnProperty("x")&&!(1===r.x&&1===r.y)?(l="scale("+r.x+","+r.y+")",a=-6,s=""===r?-16:-14):(a=-8,s=-16,r={x:1,y:1},l=""),o={x:a,y:s,scaleSvg:l,scale:r},"vertical"===n||""===n)?(c=t,f=this.config,p=c,(f.numAnnotTracks>1||""===f.orientation)&&(p-=1),c=p,d=-4,!0===f.showBandLabels&&(d=f.chrMargin+f.chrWidth+26),u=f.chrMargin*c,f.numAnnotTracks>1==!1&&(u+=1),h=u+d,e.selectAll("text.chrLabel").attr("transform",o.scaleSvg).selectAll("tspan").attr("x",o.x).attr("y",h)):(m=t,g=-(v=this.config).chrWidth-2,!0===v.showBandLabels&&(g=v.chrMargin+8),y=v.annotTracksHeight,"overlay"!==v.annotationsLayout&&(y*=2),b=(-(v.chrMargin*m+g)+3+y)/o.scale.x,e.selectAll("text.chrLabel").attr("transform","rotate(-90)"+o.scaleSvg).selectAll("tspan").attr("x",b).attr("y",o.y))}function ow(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oC(e){var t=ow(e).Element;return e instanceof t||e instanceof Element}function oA(e){var t=ow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function o_(e){if("undefined"==typeof ShadowRoot)return!1;var t=ow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var oS=Math.max,oL=Math.min,oT=Math.round;function ok(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oE(){return!/^((?!chrome|android).)*safari/i.test(ok())}function o$(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),o=1,r=1;t&&oA(e)&&(o=e.offsetWidth>0&&oT(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&oT(i.height)/e.offsetHeight||1);var a=(oC(e)?ow(e):window).visualViewport,s=!oE()&&n,l=(i.left+(s&&a?a.offsetLeft:0))/o,c=(i.top+(s&&a?a.offsetTop:0))/r,d=i.width/o,u=i.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function oI(e){var t=ow(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oP(e){return e?(e.nodeName||"").toLowerCase():null}function oM(e){return((oC(e)?e.ownerDocument:e.document)||window.document).documentElement}function oD(e){return o$(oM(e)).left+oI(e).scrollLeft}function oF(e){return ow(e).getComputedStyle(e)}function oB(e){var t=oF(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function oN(e){var t=o$(e),n=e.offsetWidth,i=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-i)&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function oO(e){return"html"===oP(e)?e:e.assignedSlot||e.parentNode||(o_(e)?e.host:null)||oM(e)}function oR(e,t){void 0===t&&(t=[]);var n,i=function e(t){return["html","body","#document"].indexOf(oP(t))>=0?t.ownerDocument.body:oA(t)&&oB(t)?t:e(oO(t))}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=ow(i),a=o?[r].concat(r.visualViewport||[],oB(i)?i:[]):i,s=t.concat(a);return o?s:s.concat(oR(oO(a)))}function oW(e){return oA(e)&&"fixed"!==oF(e).position?e.offsetParent:null}function oH(e){for(var t=ow(e),n=oW(e);n&&["table","td","th"].indexOf(oP(n))>=0&&"static"===oF(n).position;)n=oW(n);return n&&("html"===oP(n)||"body"===oP(n)&&"static"===oF(n).position)?t:n||function(e){var t=/firefox/i.test(ok());if(/Trident/i.test(ok())&&oA(e)&&"fixed"===oF(e).position)return null;var n=oO(e);for(o_(n)&&(n=n.host);oA(n)&&0>["html","body"].indexOf(oP(n));){var i=oF(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var oG="bottom",oj="right",oq="left",oz="auto",oU=["top",oG,oj,oq],oV="start",oY="viewport",oX="popper",oK=oU.reduce(function(e,t){return e.concat([t+"-"+oV,t+"-end"])},[]),oJ=[].concat(oU,[oz]).reduce(function(e,t){return e.concat([t,t+"-"+oV,t+"-end"])},[]),oQ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],oZ={placement:"bottom",modifiers:[],strategy:"absolute"};function o0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var o1={passive:!0};function o2(e){return e.split("-")[0]}function o5(e){return e.split("-")[1]}function o3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function o8(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?o2(o):null,a=o?o5(o):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case"top":t={x:s,y:n.y-i.height};break;case oG:t={x:s,y:n.y+n.height};break;case oj:t={x:n.x+n.width,y:l};break;case oq:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?o3(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case oV:t[c]=t[c]-(n[d]/2-i[d]/2);break;case"end":t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}var o4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o6(e){var t,n,i,o,r,a,s,l=e.popper,c=e.popperRect,d=e.placement,u=e.variation,h=e.offsets,f=e.position,p=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,y=e.isFixed,b=h.x,v=void 0===b?0:b,x=h.y,w=void 0===x?0:x,C="function"==typeof g?g({x:v,y:w}):{x:v,y:w};v=C.x,w=C.y;var A=h.hasOwnProperty("x"),S=h.hasOwnProperty("y"),L=oq,T="top",k=window;if(m){var E=oH(l),$="clientHeight",I="clientWidth";E===ow(l)&&"static"!==oF(E=oM(l)).position&&"absolute"===f&&($="scrollHeight",I="scrollWidth"),("top"===d||(d===oq||d===oj)&&"end"===u)&&(T=oG,w-=(y&&E===k&&k.visualViewport?k.visualViewport.height:E[$])-c.height,w*=p?1:-1),(d===oq||("top"===d||d===oG)&&"end"===u)&&(L=oj,v-=(y&&E===k&&k.visualViewport?k.visualViewport.width:E[I])-c.width,v*=p?1:-1)}var P=Object.assign({position:f},m&&o4),M=!0===g?(t={x:v,y:w},n=ow(l),i=t.x,o=t.y,{x:oT(i*(r=n.devicePixelRatio||1))/r||0,y:oT(o*r)/r||0}):{x:v,y:w};return(v=M.x,w=M.y,p)?Object.assign({},P,((s={})[T]=S?"0":"",s[L]=A?"0":"",s.transform=1>=(k.devicePixelRatio||1)?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",s)):Object.assign({},P,((a={})[T]=S?w+"px":"",a[L]=A?v+"px":"",a.transform="",a))}let o7={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];oA(o)&&oP(o)&&(Object.assign(o.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});oA(i)&&oP(i)&&(Object.assign(i.style,r),Object.keys(o).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};var o9={left:"right",right:"left",bottom:"top",top:"bottom"};function re(e){return e.replace(/left|right|bottom|top/g,function(e){return o9[e]})}var rt={start:"end",end:"start"};function rn(e){return e.replace(/start|end/g,function(e){return rt[e]})}function ri(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o_(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ro(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function rr(e,t,n){var i,o,r,a,s,l,c,d,u,h;return t===oY?ro(function(e,t){var n=ow(e),i=oM(e),o=n.visualViewport,r=i.clientWidth,a=i.clientHeight,s=0,l=0;if(o){r=o.width,a=o.height;var c=oE();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:r,height:a,x:s+oD(e),y:l}}(e,n)):oC(t)?((i=o$(t,!1,"fixed"===n)).top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i):ro((o=oM(e),a=oM(o),s=oI(o),l=null==(r=o.ownerDocument)?void 0:r.body,c=oS(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=oS(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),u=-s.scrollLeft+oD(o),h=-s.scrollTop,"rtl"===oF(l||a).direction&&(u+=oS(a.clientWidth,l?l.clientWidth:0)-c),{width:c,height:d,x:u,y:h}))}function ra(){return{top:0,right:0,bottom:0,left:0}}function rs(e){return Object.assign({},ra(),e)}function rl(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function rc(e,t){void 0===t&&(t={});var n,i,o,r,a,s,l,c,d=t,u=d.placement,h=void 0===u?e.placement:u,f=d.strategy,p=void 0===f?e.strategy:f,m=d.boundary,g=d.rootBoundary,y=d.elementContext,b=void 0===y?oX:y,v=d.altBoundary,x=d.padding,w=void 0===x?0:x,C=rs("number"!=typeof w?w:rl(w,oU)),A=e.rects.popper,S=e.elements[void 0!==v&&v?b===oX?"reference":oX:b],L=(n=oC(S)?S:S.contextElement||oM(e.elements.popper),i=void 0===m?"clippingParents":m,o=void 0===g?oY:g,l=(s=[].concat("clippingParents"===i?(r=oR(oO(n)),oC(a=["absolute","fixed"].indexOf(oF(n).position)>=0&&oA(n)?oH(n):n)?r.filter(function(e){return oC(e)&&ri(e,a)&&"body"!==oP(e)}):[]):[].concat(i),[o]))[0],(c=s.reduce(function(e,t){var i=rr(n,t,p);return e.top=oS(i.top,e.top),e.right=oL(i.right,e.right),e.bottom=oL(i.bottom,e.bottom),e.left=oS(i.left,e.left),e},rr(n,l,p))).width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c),T=o$(e.elements.reference),k=o8({reference:T,element:A,strategy:"absolute",placement:h}),E=ro(Object.assign({},A,k)),$=b===oX?E:T,I={top:L.top-$.top+C.top,bottom:$.bottom-L.bottom+C.bottom,left:L.left-$.left+C.left,right:$.right-L.right+C.right},P=e.modifiersData.offset;if(b===oX&&P){var M=P[h];Object.keys(I).forEach(function(e){var t=[oj,oG].indexOf(e)>=0?1:-1,n=["top",oG].indexOf(e)>=0?"y":"x";I[e]+=M[n]*t})}return I}function rd(e,t,n){return oS(e,oL(t,n))}function ru(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function rh(e){return["top",oj,oG,oq].some(function(t){return e[t]>=0})}var rf=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?oZ:o;return function(e,t,n){void 0===n&&(n=r);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},oZ,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(n){var o,a,c,h,f,p="function"==typeof n?n(s.options):n;u(),s.options=Object.assign({},r,s.options,p),s.scrollParents={reference:oC(e)?oR(e):e.contextElement?oR(e.contextElement):[],popper:oR(t)};var m=(a=Object.keys(o=[].concat(i,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return o[e]}),c=new Map,h=new Set,f=[],a.forEach(function(e){c.set(e.name,e)}),a.forEach(function(e){h.has(e.name)||function e(t){h.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!h.has(t)){var n=c.get(t);n&&e(n)}}),f.push(t)}(e)}),oQ.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=m.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:d,options:void 0===n?{}:n});l.push(o||function(){})}}),d.update()},forceUpdate:function(){if(!c){var e,t,n,i,o,r,a,l,u,h,f,p,m=s.elements,g=m.reference,y=m.popper;if(o0(g,y)){s.rects={reference:(t=oH(y),n="fixed"===s.options.strategy,i=oA(t),l=oA(t)&&(r=oT((o=t.getBoundingClientRect()).width)/t.offsetWidth||1,a=oT(o.height)/t.offsetHeight||1,1!==r||1!==a),u=oM(t),h=o$(g,l,n),f={scrollLeft:0,scrollTop:0},p={x:0,y:0},(i||!i&&!n)&&(("body"!==oP(t)||oB(u))&&(f=(e=t)!==ow(e)&&oA(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:oI(e)),oA(t)?(p=o$(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):u&&(p.x=oD(u))),{x:h.left+f.scrollLeft-p.x,y:h.top+f.scrollTop-p.y,width:h.width,height:h.height}),popper:oN(y)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var b=0;b<s.orderedModifiers.length;b++){if(!0===s.reset){s.reset=!1,b=-1;continue}var v=s.orderedModifiers[b],x=v.fn,w=v.options,C=void 0===w?{}:w,A=v.name;"function"==typeof x&&(s=x({state:s,options:C,name:A,instance:d})||s)}}}},update:(o=function(){return new Promise(function(e){d.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(o())})})),a}),destroy:function(){u(),c=!0}};if(!o0(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,a=i.resize,s=void 0===a||a,l=ow(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(e){e.addEventListener("scroll",n.update,o1)}),s&&l.addEventListener("resize",n.update,o1),function(){r&&c.forEach(function(e){e.removeEventListener("scroll",n.update,o1)}),s&&l.removeEventListener("resize",n.update,o1)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=o8({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=n.adaptive,r=n.roundOffsets,a=void 0===r||r,s={placement:o2(t.placement),variation:o5(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,o6(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===o||o,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,o6(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},o7,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,a=oJ.reduce(function(e,n){var i,o,a,s,l,c;return e[n]=(i=t.rects,a=[oq,"top"].indexOf(o=o2(n))>=0?-1:1,l=(s="function"==typeof r?r(Object.assign({},i,{placement:n})):r)[0],c=s[1],l=l||0,c=(c||0)*a,[oq,oj].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,y=o2(g)===g,b=l||(y||!p?[re(g)]:function(e){if(o2(e)===oz)return[];var t=re(e);return[rn(e),t,rn(t)]}(g)),v=[g].concat(b).reduce(function(e,n){var i,o,r,a,s,l,h,f,g,y,b,v;return e.concat(o2(n)===oz?(o=(i={placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:m}).placement,r=i.boundary,a=i.rootBoundary,s=i.padding,l=i.flipVariations,f=void 0===(h=i.allowedAutoPlacements)?oJ:h,0===(b=(y=(g=o5(o))?l?oK:oK.filter(function(e){return o5(e)===g}):oU).filter(function(e){return f.indexOf(e)>=0})).length&&(b=y),Object.keys(v=b.reduce(function(e,n){return e[n]=rc(t,{placement:n,boundary:r,rootBoundary:a,padding:s})[o2(n)],e},{})).sort(function(e,t){return v[e]-v[t]})):n)},[]),x=t.rects.reference,w=t.rects.popper,C=new Map,A=!0,S=v[0],L=0;L<v.length;L++){var T=v[L],k=o2(T),E=o5(T)===oV,$=["top",oG].indexOf(k)>=0,I=$?"width":"height",P=rc(t,{placement:T,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),M=$?E?oj:oq:E?oG:"top";x[I]>w[I]&&(M=re(M));var D=re(M),F=[];if(r&&F.push(P[k]<=0),s&&F.push(P[M]<=0,P[D]<=0),F.every(function(e){return e})){S=T,A=!1;break}C.set(T,F)}if(A)for(var B=p?3:1,N=function(e){var t=v.find(function(t){var n=C.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},O=B;O>0&&"break"!==N(O);O--);t.placement!==S&&(t.modifiersData[i]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=n.altAxis,a=n.boundary,s=n.rootBoundary,l=n.altBoundary,c=n.padding,d=n.tether,u=void 0===d||d,h=n.tetherOffset,f=void 0===h?0:h,p=rc(t,{boundary:a,rootBoundary:s,padding:c,altBoundary:l}),m=o2(t.placement),g=o5(t.placement),y=!g,b=o3(m),v="x"===b?"y":"x",x=t.modifiersData.popperOffsets,w=t.rects.reference,C=t.rects.popper,A="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,S="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(x){if(void 0===o||o){var k,E="y"===b?"top":oq,$="y"===b?oG:oj,I="y"===b?"height":"width",P=x[b],M=P+p[E],D=P-p[$],F=u?-C[I]/2:0,B=g===oV?w[I]:C[I],N=g===oV?-C[I]:-w[I],O=t.elements.arrow,R=u&&O?oN(O):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ra(),H=W[E],G=W[$],j=rd(0,w[I],R[I]),q=y?w[I]/2-F-j-H-S.mainAxis:B-j-H-S.mainAxis,z=y?-w[I]/2+F+j+G+S.mainAxis:N+j+G+S.mainAxis,U=t.elements.arrow&&oH(t.elements.arrow),V=U?"y"===b?U.clientTop||0:U.clientLeft||0:0,Y=null!=(k=null==L?void 0:L[b])?k:0,X=rd(u?oL(M,P+q-Y-V):M,P,u?oS(D,P+z-Y):D);x[b]=X,T[b]=X-P}if(void 0!==r&&r){var K,J,Q="x"===b?"top":oq,Z="x"===b?oG:oj,ee=x[v],et="y"===v?"height":"width",en=ee+p[Q],ei=ee-p[Z],eo=-1!==["top",oq].indexOf(m),er=null!=(J=null==L?void 0:L[v])?J:0,ea=eo?en:ee-w[et]-C[et]-er+S.altAxis,es=eo?ee+w[et]+C[et]-er-S.altAxis:ei,el=u&&eo?(K=rd(ea,ee,es))>es?es:K:rd(u?ea:en,ee,u?es:ei);x[v]=el,T[v]=el-ee}t.modifiersData[i]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,i=e.state,o=e.name,r=e.options,a=i.elements.arrow,s=i.modifiersData.popperOffsets,l=o2(i.placement),c=o3(l),d=[oq,oj].indexOf(l)>=0?"height":"width";if(a&&s){var u=rs("number"!=typeof(t="function"==typeof(t=r.padding)?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:rl(t,oU)),h=oN(a),f="y"===c?"top":oq,p="y"===c?oG:oj,m=i.rects.reference[d]+i.rects.reference[c]-s[c]-i.rects.popper[d],g=s[c]-i.rects.reference[c],y=oH(a),b=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,v=u[f],x=b-h[d]-u[p],w=b/2-h[d]/2+(m/2-g/2),C=rd(v,w,x);i.modifiersData[o]=((n={})[c]=C,n.centerOffset=C-w,n)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ri(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,a=rc(t,{elementContext:"reference"}),s=rc(t,{altBoundary:!0}),l=ru(a,i),c=ru(s,o,r),d=rh(l),u=rh(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),rp="tippy-content",rm="tippy-arrow",rg="tippy-svg-arrow",ry={passive:!0,capture:!0},rb=function(){return document.body};function rv(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function rx(e,t){var n=({}).toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function rw(e,t){return"function"==typeof e?e.apply(void 0,t):e}function rC(e,t){var n;return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function rA(e){return[].concat(e)}function r_(e,t){-1===e.indexOf(t)&&e.push(t)}function rS(e){return[].slice.call(e)}function rL(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function rT(){return document.createElement("div")}function rk(e){return["Element","Fragment"].some(function(t){return rx(e,t)})}function rE(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function r$(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function rI(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[i](t,n)})}function rP(e,t){for(var n,i=t;i;){if(e.contains(i))return!0;i=null==i.getRootNode?void 0:null==(n=i.getRootNode())?void 0:n.host}return!1}var rM={isTouch:!1},rD=0;function rF(){!rM.isTouch&&(rM.isTouch=!0,window.performance&&document.addEventListener("mousemove",rB))}function rB(){var e=performance.now();e-rD<20&&(rM.isTouch=!1,document.removeEventListener("mousemove",rB)),rD=e}function rN(){var e=document.activeElement;if(e&&e._tippy&&e._tippy.reference===e){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var rO=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,rR=Object.assign({appendTo:rb,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),rW=Object.keys(rR);function rH(e){var t=(e.plugins||[]).reduce(function(t,n){var i,o=n.name,r=n.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(i=rR[o])?i:r),t},{});return Object.assign({},e,t)}function rG(e,t){var n,i=Object.assign({},t,{content:rw(t.content,[e])},t.ignoreAttributes?{}:((n=t.plugins)?Object.keys(rH(Object.assign({},rR,{plugins:n}))):rW).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{}));return i.aria=Object.assign({},rR.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function rj(e,t){e.innerHTML=t}function rq(e){var t=rT();return!0===e?t.className=rm:(t.className=rg,rk(e)?t.appendChild(e):rj(t,e)),t}function rz(e,t){rk(t.content)?(rj(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?rj(e,t.content):e.textContent=t.content)}function rU(e){var t=e.firstElementChild,n=rS(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(rp)}),arrow:n.find(function(e){return e.classList.contains(rm)||e.classList.contains(rg)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function rV(e){var t=rT(),n=rT();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=rT();function o(n,i){var o=rU(t),r=o.box,a=o.content,s=o.arrow;i.theme?r.setAttribute("data-theme",i.theme):r.removeAttribute("data-theme"),"string"==typeof i.animation?r.setAttribute("data-animation",i.animation):r.removeAttribute("data-animation"),i.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?r.setAttribute("role",i.role):r.removeAttribute("role"),(n.content!==i.content||n.allowHTML!==i.allowHTML)&&rz(a,e.props),i.arrow?s?n.arrow!==i.arrow&&(r.removeChild(s),r.appendChild(rq(i.arrow))):r.appendChild(rq(i.arrow)):s&&r.removeChild(s)}return i.className=rp,i.setAttribute("data-state","hidden"),rz(i,e.props),t.appendChild(n),n.appendChild(i),o(e.props,e.props),{popper:t,onUpdate:o}}rV.$$tippy=!0;var rY=1,rX=[],rK=[];function rJ(e,t){void 0===t&&(t={});var n=rR.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",rF,ry),window.addEventListener("blur",rN);var i=Object.assign({},t,{plugins:n}),o=(rk(e)?[e]:rx(e,"NodeList")?rS(e):Array.isArray(e)?e:rS(document.querySelectorAll(e))).reduce(function(e,t){var n=t&&function(e,t){var n,i,o,r,a,s,l,c,d=rG(e,Object.assign({},rR,rH(rL(t)))),u=!1,h=!1,f=!1,p=!1,m=[],g=rC(U,d.interactiveDebounce),y=rY++,b=(n=d.plugins).filter(function(e,t){return n.indexOf(e)===t}),v={id:y,reference:e,popper:rT(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){if(!v.state.isDestroyed){P("onBeforeUpdate",[v,t]),q();var n=v.props,i=rG(e,Object.assign({},n,rL(t),{ignoreAttributes:!0}));v.props=i,j(),n.interactiveDebounce!==i.interactiveDebounce&&(F(),g=rC(U,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?rA(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded"),D(),I(),C&&C(n,i),v.popperInstance&&(K(),Q().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),P("onAfterUpdate",[v,t])}},setContent:function(e){v.setProps({content:e})},show:function(){var t,n,i,o=v.state.isVisible,r=v.state.isDestroyed,a=!v.state.isEnabled,s=rM.isTouch&&!v.props.touch,d=rv(v.props.duration,0,rR.duration);if(!(o||r||a||s||(c||e).hasAttribute("disabled"))&&(P("onShow",[v],!1),!1!==v.props.onShow(v))){if(v.state.isVisible=!0,k()&&(w.style.visibility="visible"),I(),R(),v.state.isMounted||(w.style.transition="none"),k()){var u=rU(w);rE([u.box,u.content],0)}l=function(){var e;if(v.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=v.props.moveTransition,k()&&v.props.animation){var t=rU(w),n=t.box,i=t.content;rE([n,i],d),r$([n,i],"visible")}M(),D(),r_(rK,v),null==(e=v.popperInstance)||e.forceUpdate(),P("onMount",[v]),v.props.animation&&k()&&H(d,function(){v.state.isShown=!0,P("onShown",[v])})}},n=v.props.appendTo,i=c||e,(t=v.props.interactive&&n===rb||"parent"===n?i.parentNode:rw(n,[i])).contains(w)||t.appendChild(w),v.state.isMounted=!0,K()}},hide:function(){var e,t=!v.state.isVisible,n=v.state.isDestroyed,i=!v.state.isEnabled,o=rv(v.props.duration,1,rR.duration);if(!t&&!n&&!i&&(P("onHide",[v],!1),!1!==v.props.onHide(v))){if(v.state.isVisible=!1,v.state.isShown=!1,p=!1,u=!1,k()&&(w.style.visibility="hidden"),F(),W(),I(!0),k()){var r=rU(w),a=r.box,s=r.content;v.props.animation&&(rE([a,s],o),r$([a,s],"hidden"))}(M(),D(),v.props.animation)?k()&&(e=v.unmount,H(o,function(){!v.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()})):v.unmount()}},hideWithInteractivity:function(e){E().addEventListener("mousemove",g),r_(rX,g),g(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide(),v.state.isMounted&&(J(),Q().forEach(function(e){e._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),rK=rK.filter(function(e){return e!==v}),v.state.isMounted=!1,P("onHidden",[v]))},destroy:function(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),q(),delete e._tippy,v.state.isDestroyed=!0,P("onDestroy",[v]))}};if(!d.render)return v;var x=d.render(v),w=x.popper,C=x.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+v.id,v.popper=w,e._tippy=v,w._tippy=v;var A=b.map(function(e){return e.fn(v)}),S=e.hasAttribute("aria-expanded");return j(),D(),I(),P("onCreate",[v]),d.showOnCreate&&Z(),w.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",g)}),v;function L(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===L()[0]}function k(){var e;return!!(null!=(e=v.props.render)&&e.$$tippy)}function E(){var t,n,i=(c||e).parentNode;return i&&null!=(n=rA(i)[0])&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function $(e){return v.state.isMounted&&!v.state.isVisible||rM.isTouch||a&&"focus"===a.type?0:rv(v.props.delay,e?0:1,rR.delay)}function I(e){void 0===e&&(e=!1),w.style.pointerEvents=v.props.interactive&&!e?"":"none",w.style.zIndex=""+v.props.zIndex}function P(e,t,n){if(void 0===n&&(n=!0),A.forEach(function(n){n[e]&&n[e].apply(n,t)}),n){var i;(i=v.props)[e].apply(i,t)}}function M(){var t=v.props.aria;if(t.content){var n="aria-"+t.content,i=w.id;rA(v.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(v.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}})}}function D(){!S&&v.props.aria.expanded&&rA(v.props.triggerTarget||e).forEach(function(t){v.props.interactive?t.setAttribute("aria-expanded",v.state.isVisible&&t===(c||e)?"true":"false"):t.removeAttribute("aria-expanded")})}function F(){E().removeEventListener("mousemove",g),rX=rX.filter(function(e){return e!==g})}function B(t){if(!rM.isTouch||!f&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!(v.props.interactive&&rP(w,n))){if(rA(v.props.triggerTarget||e).some(function(e){return rP(e,n)})){if(rM.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[v,t]);!0!==v.props.hideOnClick||(v.clearDelayTimeouts(),v.hide(),h=!0,setTimeout(function(){h=!1}),v.state.isMounted||W())}}}function N(){f=!0}function O(){f=!1}function R(){var e=E();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,ry),e.addEventListener("touchstart",O,ry),e.addEventListener("touchmove",N,ry)}function W(){var e=E();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,ry),e.removeEventListener("touchstart",O,ry),e.removeEventListener("touchmove",N,ry)}function H(e,t){var n=rU(w).box;function i(e){e.target===n&&(rI(n,"remove",i),t())}if(0===e)return t();rI(n,"remove",s),rI(n,"add",i),s=i}function G(t,n,i){void 0===i&&(i=!1),rA(v.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),m.push({node:e,eventType:t,handler:n,options:i})})}function j(){T()&&(G("touchstart",z,{passive:!0}),G("touchend",V,{passive:!0})),v.props.trigger.split(/\s+/).filter(Boolean).forEach(function(e){if("manual"!==e)switch(G(e,z),e){case"mouseenter":G("mouseleave",V);break;case"focus":G(rO?"focusout":"blur",Y);break;case"focusin":G("focusout",Y)}})}function q(){m.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)}),m=[]}function z(e){var t,n=!1;if(!(!v.state.isEnabled||X(e))&&!h){var i=(null==(t=a)?void 0:t.type)==="focus";a=e,c=e.currentTarget,D(),!v.state.isVisible&&rx(e,"MouseEvent")&&rX.forEach(function(t){return t(e)}),"click"===e.type&&(0>v.props.trigger.indexOf("mouseenter")||u)&&!1!==v.props.hideOnClick&&v.state.isVisible?n=!0:Z(e),"click"===e.type&&(u=!n),n&&!i&&ee(e)}}function U(t){var n,i,o,r=t.target,a=(c||e).contains(r)||w.contains(r);("mousemove"!==t.type||!a)&&(n=Q().concat(w).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null}).filter(Boolean),i=t.clientX,o=t.clientY,n.every(function(e){var t=e.popperRect,n=e.popperState,r=e.props.interactiveBorder,a=n.placement.split("-")[0],s=n.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,d="right"===a?s.left.x:0,u="left"===a?s.right.x:0,h=t.top-o+l>r,f=o-t.bottom-c>r,p=t.left-i+d>r,m=i-t.right-u>r;return h||f||p||m})&&(F(),ee(t)))}function V(e){if(!(X(e)||v.props.trigger.indexOf("click")>=0&&u)){if(v.props.interactive){v.hideWithInteractivity(e);return}ee(e)}}function Y(t){0>v.props.trigger.indexOf("focusin")&&t.target!==(c||e)||v.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||ee(t)}function X(e){return!!rM.isTouch&&T()!==e.type.indexOf("touch")>=0}function K(){J();var t=v.props,n=t.popperOptions,i=t.placement,o=t.offset,r=t.getReferenceClientRect,a=t.moveTransition,s=k()?rU(w).arrow:null,d=r?{getBoundingClientRect:r,contextElement:r.contextElement||c||e}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(k()){var n=rU(w).box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];k()&&s&&u.push({name:"arrow",options:{element:s,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),v.popperInstance=rf(d,w,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:u}))}function J(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Q(){return rS(w.querySelectorAll("[data-tippy-root]"))}function Z(e){v.clearDelayTimeouts(),e&&P("onTrigger",[v,e]),R();var t=$(!0),n=L(),o=n[0],r=n[1];rM.isTouch&&"hold"===o&&r&&(t=r),t?i=setTimeout(function(){v.show()},t):v.show()}function ee(e){if(v.clearDelayTimeouts(),P("onUntrigger",[v,e]),!v.state.isVisible){W();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0)||!u){var t=$(!1);t?o=setTimeout(function(){v.state.isVisible&&v.hide()},t):r=requestAnimationFrame(function(){v.hide()})}}}(t,i);return n&&e.push(n),e},[]);return rk(e)?o[0]:o}rJ.defaultProps=rR,rJ.setDefaultProps=function(e){Object.keys(e).forEach(function(t){rR[t]=e[t]})},rJ.currentInput=rM,Object.assign({},o7,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});rJ.setDefaultProps({render:rV});let rQ='.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}';var rZ={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function r0(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function r1(e){return(e+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let r2="https://cdn.jsdelivr.net/npm/@wikipathways/pvjs@5.0.1/dist/pvjs.vanilla.js",r5="_ideogramPathwayContainer";async function r3(e){let t=`https://raw.githubusercontent.com/wikipathways/wikipathways-assets/main/pathways/${e}/${e}.json`,n=await fetch(t),i=await n.json();return Ideogram.pathwayJson=i,i}async function r8(){let e=document.createElement("script");e.setAttribute("src",r2),document.querySelector("body").appendChild(e)}function r4(e,t){return Object.entries(t.entitiesById).filter(([t,n])=>n.textContent?.split(" ").some(t=>t===e)).map(e=>e[0])}function r6(e,t,n){return r4(e,t).map(e=>[null,e,n])}function r7(e,t){let n=e.entitiesById,i=Object.keys(n).filter(e=>e.startsWith("http://identifiers.org")),o={"Cell Type":"Cell type"},r=["Cell Type","Disease"],a=r;t&&(a=[r.find(e=>e.toLowerCase()===t.toLowerCase())]);let s=a.map(e=>{let t=i.filter(t=>n[t].ontology===e).map(e=>n[e]).map(e=>{let t=e.xrefIdentifier.replace(":","_"),n=`https://purl.obolibrary.org/obo/${t}`;return`<a href="${n}" target="_blank" class="_ideoPathwayOntologyLink">${e.term}</a>`}).join(", "),r=o[e]??e,a=e.replaceAll(" ","_"),s=`class="ideoPathwayOntology__${a}"`;return""===t?"":`<div ${s}>${r}: ${t}</div>`}).join("");return 0===s.length?"":"<div>"+s+"</div>"}async function r9(e,t,n,i="#_ideogramOuterWrap",o={height:440,width:900},r=!0,a,s,l,c,d,u=0){document.querySelector(`script[src="${r2}"]`)||r8();let h=`#${r5}`;if("undefined"==typeof Pvjs){if(u<=40){setTimeout(()=>{r9(e,t,n,i,o,r,a,s,l,u++)},250);return}throw Error("Pvjs is undefined.  Possible causes include unavailable network or CDN.")}let f=await r3(e),p=r4(t,f)[0];r4(n,f)[0];let m=r6(t,f,"red"),g=r6(n,f,"purple"),y=m.concat(g),b=document.querySelector(h),v=document.querySelector(i);b&&b.remove();let x=o.width,w=o.height,C=`height: ${w}px; width: ${x-2}px;`,A=`height: ${w+20}px; width: ${x}px;`,S=`border: 0.5px solid #DDD; border-radius: 3px; position: relative; margin: auto; background-color: #FFF; z-index: 99; ${A} margin: auto;`,L=`<div id="_ideogramPvjsContainer" style="${C}"></div>`,T=`id="${r5}" style="${S}" data-ideo-pathway-searched="${t}" data-ideo-pathway-interacting="${n}"`,k=`<div ${T}>${L}</div>`;v.insertAdjacentHTML("beforeEnd",k);let E=document.querySelector(h),$=new Pvjs(document.querySelector("#_ideogramPvjsContainer"),{theme:"plain",opacities:[],highlights:y,panned:[p],zoomed:[p],pathway:f.pathway,entitiesById:f.entitiesById,detailPanelOpen:!1,selected:null});!function(e,t,n,i=!0){let o;let r=t.pathway.name,a=`https://wikipathways.org/pathways/${e}`,s=`href="${a}" target="_blank" style="margin-left: 4px;"`,l=`<a ${s}>${r}</a>`;o=i?'<button class="_ideoPathwayCloseButton" style="float: right; background-color: #aaa; border: none; color: white; font-weight: bold; font-size: 16px; padding: 0px 4px; border-radius: 3px; cursor: pointer;"}>x</button>':"";let c=`<div class="_ideoPathwayHeader">${l}${o}</div>`;n.insertAdjacentHTML("afterBegin",c),i&&document.querySelector("._ideoPathwayCloseButton").addEventListener("click",function(e){document.querySelector(`#${r5}`).remove()})}(e,f,E,r),l&&function(e,t,n){var i;let o="<div>"+(function e(t,n){var i,o,r,a,s,l=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,c=[],d="",u=n||{},h=0;function f(e){var t=rZ[e[1]||""],n=c[c.length-1]==e;return t?t[1]?(n?c.pop():c.push(e),t[0|n]):t[0]:e}function p(){for(var e="";c.length;)e+=f(c[c.length-1]);return e}for(t=t.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(e,t,n){return u[t.toLowerCase()]=n,""}).replace(/^\n+|\n+$/g,"");r=l.exec(t);)o=t.substring(h,r.index),h=l.lastIndex,i=r[0],o.match(/[^\\](\\\\)*\\$/)||((s=r[3]||r[4])?i='<pre class="code '+(r[4]?"poetry":r[2].toLowerCase())+'"><code'+(r[2]?' class="language-'+r[2].toLowerCase()+'"':"")+">"+r0(r1(s).replace(/^\n+|\n+$/g,""))+"</code></pre>":(s=r[6])?(s.match(/\./)&&(r[5]=r[5].replace(/^\d+/gm,"")),a=e(r0(r[5].replace(/^\s*[>*+.-]/gm,""))),">"==s?s="blockquote":(s=s.match(/\./)?"ol":"ul",a=a.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),i="<"+s+">"+a+"</"+s+">"):r[8]?i='<img src="'+r1(r[8])+'" alt="'+r1(r[7])+'">':r[10]?(d=d.replace("<a>",'<a href="'+r1(r[11]||u[o.toLowerCase()])+'">'),i=p()+"</a>"):r[9]?i="<a>":r[12]||r[14]?i="<"+(s="h"+(r[14]?r[14].length:r[13]>"="?1:2))+">"+e(r[12]||r[15],u)+"</"+s+">":r[16]?i="<code>"+r1(r[16])+"</code>":(r[17]||r[1])&&(i=f(r[17]||"--"))),d+=o,d+=i;return(d+t.substring(h)+p()).replace(/^\n+|\n+$/g,"")})((0,e.pathway.comments.filter(e=>"WikiPathways-description"===e.source)[0].content).replaceAll("\r\n\r\n","\r\n").replaceAll("\r\n","<br/><br/>").replace("Phosphorylation sites were added based on information from PhosphoSitePlus (R), www.phosphosite.org.","").replace(/Proteins on this pathway have targeted assays available via the \[https:\/\/assays\.cancer\.gov\/available_assays\?wp_id=WP\d+\s+CPTAC Assay Portal\]\./g,"").replace(/Proteins on this pathway have targeted assays available via the \[CPTAC Assay Portal\]\(https:\/\/assays\.cancer\.gov\/available_assays\?wp_id=WP\d+\)\./g,"")).replace(/<a href="([^"]+)">/g,'<a href="$1" class="_ideoPathwayDescriptionLink" target="_blank">').trim()+"</div>",r=n?r7(e):"";t.insertAdjacentHTML("beforeEnd",'<br/><div class="_ideoPathwayFooter">'+o+"<br/>"+r+"</div>")}(f,E,c);let I=new CustomEvent("ideogramDrawPathway",{detail:{pathwayViewer:$,pwId:e,sourceGene:t,destGene:n,dimensions:o}});if(document.dispatchEvent(I),E.querySelectorAll("g.GeneProduct").forEach(e=>{let t=e.getAttribute("name"),n=t;e.addEventListener("mouseover",i=>{a&&(n=a(i,t),e.setAttribute("data-tippy-content",n))}),d&&e.setAttribute("data-tippy-content",n)}),d){let e=eN();e.trigger="mouseenter",rJ("g.GeneProduct[data-tippy-content]",e)}s&&(E.querySelectorAll("g.Pathway").forEach(e=>{e.addEventListener("click",t=>{s(t,Array.from(e.classList).find(e=>e.startsWith("WikiPathways_")).split("WikiPathways_")[1])}),d&&e.setAttribute("data-tippy-content","Click to show pathway")}),d&&rJ("g.Pathway[data-tippy-content]",tippyConfig))}function ae(e){return Math.round(performance.now()-e)}function at(){let e=this.annotDescriptions.annots,t=Object.values(e).slice(),n=t.filter(e=>e.type&&e.type.includes("paralogous")),i=t.filter(e=>e.type&&e.type.includes("interacting gene"));return{related:t,paralogous:n,interacting:i,searched:Object.entries(e).filter(e=>e[1].type&&e[1].type.includes("searched gene"))[0][0]}}function an(e){let t=performance.now()-this.time.prevTooltipOff,n=this.time.prevTooltipAnnotDomId;return t<300&&e.domId===n?null:Object.assign({tooltipGene:e.name,tooltipRelatedType:this.annotDescriptions.annots[e.name].type.split(" ")[0]},ai(this))}function ai(e){let t=e.getRelatedGenesByType(),n=t.related.length;return{numRelatedGenes:n,numParalogs:t.paralogous.length,numInteractingGenes:t.interacting.length,searchedGene:t.searched}}let ao="#F55",ar="#A00",aa="#922D5E",as="#D26D9E",al="#CAA",ac="#866",ad="#FFC0CB",au="#CF909B",ah="#99D",af="#22C",ap="#CCF",am="#33D",ag="#66B",ay="#116",ab="#7D7",av="#393",ax="#3A3",aw="#060",aC="#93E9BE",aA="#53AC7E",a_="#880ED4",aS="#5800A4",aL="#B24BF3",aT="#520B83",ak="#D7A1F9",aE="#A771C9",a$="#964B00",aI="#660B00",aP="#DACDBA",aM="#A99A89",aD="#FFA500",aF="#DD8000";function aB(e){return"_"===e[0][0]}let aN={_H:"Helical",_E:"Extracellular",_C:"Cytoplasmic"};function aO(e,t=!1){let n=["criteria provided, multiple submitters, no conflicts","reviewed by expert panel","practice guideline"].indexOf(e)+2,i='<span style="color: #C89306">&#9733;</span>'.repeat(n);t&&(i+='<span style="color: #C89306">&#9734;</span>'.repeat(4-n));let o=e[0].toUpperCase()+e.slice(1),r=`data-tippy-content="${o}"`;return`<span class="_ideoReviewStatus" ${r}>${i}</span>`}function aR(e){return{theme:"light-border",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:e}}]},onShow:function(){document.querySelectorAll("[data-tippy-root]").forEach(e=>e.remove())}}}function aW(){return[document.querySelector("._ideoGeneStructureContainerHead"),document.querySelector("._ideoTissueExpressionPlot"),document.querySelector("._ideoTissuePlotContainer")]}function aH(e,t,n){let[i,o,r]=aW(),a="g"===e.target.tagName,s=a?e.target:e.target.parentElement;document.querySelectorAll("._ideoVariant").forEach(e=>{e.classList.remove("_ideoBackgroundVariant")}),document.querySelectorAll("._ideoVariant").forEach(e=>{e.id!==s.id&&e.classList.add("_ideoBackgroundVariant")}),document.querySelector("._ideoVariantSummary")?.remove();let l=e.target,c=a?l.id:l.parentElement.id,d=function(e,t=!1){let n;let i=t?e.diseases.length:1,o=e.diseases.slice(0,i).map(e=>{let n=e.id.replace(":","_"),i=`https://purl.obolibrary.org/obo/${n}`,o=`<a href="${i}" target=_blank>${e.name}</a>`;void 0===e.name&&(e.name="Not provided");let r=t&&"Not provided"!==e.name?o:e.name;return`<div>-&nbsp;${r}</div>`}).join("");if(!t&&e.diseases.length>1){let t=e.diseases.length-1,n=`- ${t} more condition`;t>1&&(n+="s"),o+=`<div>${n}</div>`}let r=`${e.chromosome}-${e.position}-${e.refAllele}-${e.altAllele}`;e.dbSnpId&&(r+=` ${aq} ${e.dbSnpId}`);let a=e.origin&&"germline"!==e.origin;(0!==e.rawReviewStatus||a)&&(r+=` ${aq} `,0!==e.rawReviewStatus&&(r+=aO(e.reviewStatus)),0!==e.rawReviewStatus&&a&&(r+=" "),a&&(r+=e.origin));let s=aO(e.reviewStatus,!0),l=0;t&&(l+=13*Math.min(e.diseases.length,5),e.origin&&(l+=13),e.afExac&&(l+=13));let c=(t?110:87)+l,d=`height: ${c}px; margin-top: 15px; `;n=t?`<div>Variant type: ${e.variantType}</div><div>Review status: ${s}</div>`+(e.origin?`<div>Origin: ${e.origin}</div>`:"")+(e.afExac?`<div>Allele frequency (ExAC): ${e.afExac}</div>`:"")+`<div>ClinVar Variation ID: ${e.clinvarVariantId}</div>`+"<br/>":"<div><i>Click variant for more details</i></div>";let u="";return t&&e.diseases.length>=5&&(u='<div style="width: 100px; height: 5px; position: relative; top: 6px; box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1); margin: auto;"></div>'),`
    <div class="_ideoVariantSummary" style="${d}">
      <div>${r}</div>
      <br/>
      <div>${e.clinicalSignificance} in:</div>
      <div style="max-height: 70px; overflow-y: scroll; width: 275px; margin: auto;">
      ${o}
      </div>
      ${u}
      <br/>
      ${n}
    </div>`}(n.variants.find(e=>"v"+e.clinvarVariantId===c),t);o.style.display="none",i.style.display="none",r.insertAdjacentHTML("beforeend",d),function(e){let t=aR(["top-start","top"]);e.tippyVariant=rJ("._ideoSpliceToggle[data-tippy-content]",t);let n=rJ("._ideoReviewStatus[data-tippy-content]",aR(["bottom"]));e.tippyVariant=e.tippyVariant.concat(n)}(n)}function aG(){let[e,t,n]=aW();document.querySelectorAll("._ideoVariant").forEach(e=>{e.classList.remove("_ideoBackgroundVariant")}),document.querySelector("._ideoVariantSummary")?.remove(),t.style.display="",n.style.display="",e.style.display=""}async function aj(e,t,n){Date.now();let i=e.name,o=e.startOffset,r=a2(i,n),a=Ideogram.variantCache;if(!a)return null;let s=await a.getVariants(r,n);if(0===s.length)return null;s.length>10&&(s=function(e,t){let n=e.filter(e=>""!==e.dbSnpId&&null!==e.afExac).sort((e,t)=>t.afExac-e.afExac).slice(0,10),i=n.map(e=>"v"+e.clinvarVariantId);if(n.length<10){let o=e.filter(e=>(""!==e.dbSnpId||null!==e.afExac)&&!i.includes("v"+e.clinvarVariantId)).sort((e,t)=>t.rawOrigin-e.rawOrigin).sort((e,t)=>t.rawClinicalSignifiance-e.rawClinicalSignifiance).sort((e,t)=>t.rawReviewStatus-e.rawReviewStatus).sort((e,t)=>t.afExac-e.afExac).slice(0,10-n.length);if(i=i.concat(o.map(e=>"v"+e.clinvarVariantId)),(n=n.concat(o)).length<t){let o=e.filter(e=>!i.includes("v"+e.clinvarVariantId)).sort((e,t)=>t.rawOrigin-e.rawOrigin).sort((e,t)=>t.rawClinicalSignifiance-e.rawClinicalSignifiance).sort((e,t)=>t.rawReviewStatus-e.rawReviewStatus).slice(0,t-n.length);n=n.concat(o)}}return n}(s,10)),console.log("updated rawVariants.length",s.length);let l=(function(e,t){let n=[],i=sd(e);return t=t.map(t=>{for(let o=0;o<e.length;o++){let r=e[o],[a,s,l]=r.slice(-3),c=5===r.length;if(s<=t.positionRelative&&s+a>=t.positionRelative){let e=t.positionRelative-s,o=e/i;c&&(o+=l.x);let r=["",e,1,{type:"",x:o,width:.5}];n.push(r);break}}return t}),n})(t,s=s.map(e=>(e.positionRelative-=o,e))).map((e,t)=>{let n=s[t];return n.x=e.slice(-1)[0].x,n.width=e.slice(-1)[0].width,n}),c={};l.forEach(e=>{e.diseases.map(e=>{e.name in c==!1&&(c[e.name]=0),c[e.name]+=1})});let d="<style>._ideoPathogenic {stroke: #D00; fill: #FBB;} ._ideoPathogenicLikelyPathogenic {stroke: #F55; fill: #FDD;} ._ideoLikelyPathogenic {stroke: #F99500; fill: #FEC;} ._ideoVariant._ideoBackgroundVariant {stroke: #BBB; fill: #EEE; opacity: 0.2;} </style>"+l.reverse().map(e=>{let t="_ideoPathogenic",n=13,i=1;"Pathogenic/Likely pathogenic"===e.clinicalSignificance?(t="_ideoPathogenicLikelyPathogenic",n=16,i=4):"Likely pathogenic"===e.clinicalSignificance&&(t="_ideoLikelyPathogenic",n=19,i=7);let o={bottom:`${e.x},${n}`,topLeft:`${e.x-6.5},${i}`,topRight:`${e.x+6.5},${i}`},r=`${o.bottom} ${o.topLeft} ${o.topRight}`;return`
      <g class="_ideoVariant ${t}" id="v${e.clinvarVariantId}" style="cursor: pointer;">
        <line x1="${e.x}" y1="10" x2="${e.x}" y2="25" />
        <polygon points="${r}" />
      </g>
    `}).join("");return n.variants=l,d}window.getVariantsSvg=aj,window.writeVariantsSvg=function(e,t){aj(e,t).then(e=>{document.querySelector("._ideoGeneStructure").insertAdjacentHTML("beforeend",e)})};let aq="<span style='color: #CCC'>|</span>",az="5'-UTR",aU="3'-UTR",aV={"5'-UTR":20,exon:20,intron:20,"3'-UTR":20},aY={"5'-UTR":"#155069",exon:"#DAA521",intron:"#FFFFFF00","3'-UTR":"#357089"},aX={"5'-UTR":"#70A099",exon:"#BA8501","3'-UTR":"#90C0B9"},aK={"5'-UTR":"five-prime-utr",exon:"exon","3'-UTR":"three-prime-utr",intron:"intron"},aJ=`<style>
  ._ideoGeneStructureContainerName {
    position: relative;
    left: 45px;
    margin-right: 20px;
  }
  ._ideoGeneStructureContainerName.pre-mRNA {
    left: 70px;
    margin-right: 70px;
  }
  ._ideoGeneStructureContainer rect:hover + line {
    visibility: hidden;
  }
  ._ideoGeneStructureContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  ._ideoGeneStructureContainer:hover ._ideoSpliceToggle {
    visibility: visible;
  }
  ._ideoGeneStructureContainer ._ideoSpliceToggle {
    visibility: hidden;
  }
  ._ideoSpliceToggle {
    margin-left: 53px; background-color: #EEE;
  }
  ._ideoSpliceToggle.pre-mRNA {
    margin-left: 43px; background-color: #F8F8F8;
  }
  ._ideoHoveredSubpart {
    stroke: #D0D0DD !important; stroke-width: 3px;
  }
  #_ideoGeneStructureTip {
    font-style: italic;
  }

  ${rQ}

  .tippy-box {
    font-size: 12px;
  }

  .tippy-content {
    padding: 3px 7px;
  }
  </style>`,aQ='<span id="_ideoGeneStructureTip">Hover for details</span>';function aZ(){return document.querySelector("._ideoGeneStructureFooter")}function a0(e){let t=aZ(),n=e.querySelector("svg").getAttribute("data-ideo-footer");t.innerHTML=`&nbsp;<br/>${n}`}async function a1(e,t=0){let[n,i]=a5(e,t);document.querySelector("#_ideoGeneStructureMenu").options[i].selected=!0;let o=(await sf(n,e,Ideogram.spliceExons))[0],r=document.querySelector("._ideoGeneStructureSvgContainer");r.innerHTML=o,ss(Ideogram.spliceExons,0===i),a0(r),e.addedSubpartListeners=!1,sn(e),so(e)}function a2(e){return e.split("-").slice(0,-1).join("-")}function a5(e,t=0){let n,i;let o=document.querySelector("#_ideoGeneStructureMenu");if(o){let e=o.options.length;(n=o.selectedIndex+t)>=e?n=0:n<0&&(n=e-1),i=o.options[n].value}else{let e=document.querySelector("._ideoGeneStructure");if(!e)return null;i=e.getAttribute("data-ideo-gene-structure-name"),n=0}let r=a2(i);return[Ideogram.geneStructureCache[r].find(e=>e.name===i),n]}function a3(e){if("s"===e.key){let e=document.querySelector("._ideoSpliceToggle input");if(!e)return;let t=document.querySelector("#_ideoSubpartText");t&&(t.innerHTML="&nbsp;"),e.dispatchEvent(new MouseEvent("click"))}}function a8(e,t){let n=e.slice(),i=t?aU:az,o=e.some(e=>e[0]===i);return e.forEach((i,r)=>{if(0===r)return;let a=e[r-1],s=a[0]===aU,l=a[0]===az;"exon"===i[0]&&o&&(!t&&s||t&&l)&&i[1]!==a[1]+a[2]-1&&2!==a[2]&&(n[r]=a,n[r-1]=i)}),n}function a4(e,t){return e.classList.contains(t)}function a6(){let e="_ideoHoveredSubpart";document.querySelectorAll(`.${e}`).forEach(t=>t.classList.remove(e))}function a7(e){let t,n;let i=Array.from(document.querySelectorAll("rect.subpart")),o="+"===document.querySelector("._ideoGeneStructure").getAttribute("data-ideo-strand"),r=function(e,t){let n;let i=e.slice(),o=Array.isArray(e[0]);if(o){let i=t?aU:az;n=e.some(e=>e[0]===i)}else{let i=t?"three-prime-utr":"five-prime-utr";n=e.some(e=>a4(e,i))}return e.forEach((r,a)=>{if(a===i.length-1)return;let s=e[a+1];(o?function(e,t,n,i){let o=t[0]===az,r=t[0]===aU,a=e[0]!==aU,s=e[0]!==az;return i&&(!n&&r&&a||n&&o&&s)}:function(e,t,n,i){let o="five-prime-utr",r="three-prime-utr",a=a4(t,o),s=a4(t,r),l=!a4(e,r),c=!a4(e,o);return i&&(!n&&s&&l||n&&a&&c)})(r,s,t,n)&&(i.splice(a,1,s),i.splice(a+1,1,r))}),i}(i,o);if(0===r.length)return;let a="_ideoHoveredSubpart",s=document.querySelector(`.${a}`);if(!s){e.stopPropagation(),e.preventDefault();return}r.forEach((e,n)=>{e.classList.contains(a)&&(t=n)});let l={view:window,bubbles:!1,cancelable:!0},c=new MouseEvent("mouseenter",l),d=new MouseEvent("mouseleave",l),u=o?"ArrowLeft":"ArrowRight",h=o?"ArrowRight":"ArrowLeft";if(e.key===u?n="left":e.key===h&&(n="right"),void 0===n||function(e,t,n){let i="left"===n;return 0===e&&i||e===t.length-1&&!i}(t,r,n)){e.stopPropagation(),e.preventDefault();return}a6();let f=e.altKey,p=e.metaKey;if(e.key===u){s.dispatchEvent(d);let e=t-1;f&&(e=t-10<0?0:t-10),p&&(e=0),r[e].dispatchEvent(c)}else if(e.key===h){s.dispatchEvent(d);let e=r.length-1,n=t+1;f&&(n=t+10>e?e:t+10),p&&(n=e),r[n].dispatchEvent(c)}e.stopPropagation(),e.preventDefault()}function a9(){return document.querySelector("#_ideoGeneStructureMenuContainer")}function se(e,t){aZ().innerHTML=e,so(t)}function st(e,t){e.addEventListener("mouseenter",n=>{a6(),n.target.classList.add("_ideoHoveredSubpart");let i=aZ();t.originalTooltipFooter=i.innerHTML;let o=e.getAttribute("data-subpart"),r=i.innerHTML.replace("&nbsp;","");se(`<div id="_ideoSubpartText" style="margin-bottom: -10px; max-width: 260px;"">${o}</div>${r}`,t);let a=a9();a&&(a.style.marginTop="")}),e.addEventListener("mouseleave",e=>{e.target.classList.remove("_ideoHoveredSubpart"),se(t.originalTooltipFooter,t);let n=a9();n&&(n.style.marginTop="4px")})}function sn(e){let t=document.querySelectorAll("rect.subpart");if(0===t.length)return;e.subparts=t;let n=document.querySelector("._ideoGeneStructureContainer");n.addEventListener("mouseenter",()=>{document.addEventListener("keydown",a7),!e.addedMenuListeners&&(e.addedMenuListeners=!0,a0(n),document.querySelector("._ideogramTooltip").addEventListener("change",async()=>{await a1(e),e.oneTimeDelayTooltipHideMs=2e3}),Ideogram.tissueCache&&(document.querySelector("._ideoTooltipFooter").style.display="none"))}),n.addEventListener("mouseleave",t=>{e.oneTimeDelayTooltipHideMs=2e3,Ideogram.tissueCache&&(document.querySelector("._ideoTooltipFooter").style.display=""),!0===function(e){let t=document.querySelector("._ideogramTooltip").getBoundingClientRect(),n=e.screenX,i=e.screenY;return n>t.left&&n<t.right&&i>t.top&&i<t.bottom}(t)&&se(aQ,e),e.addedMenuListeners=!1,document.removeEventListener("keydown",a7)}),e.addedSubpartListeners||(e.addedSubpartListeners=!0,t.forEach(t=>{st(t,e)}))}function si(e){return{theme:"light-border",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:e}}]},onShow:function(){document.querySelectorAll("[data-tippy-root]").forEach(e=>e.remove())}}}function so(e){let t=si(["top-start","top"]);e.tippy=rJ("._ideoSpliceToggle[data-tippy-content]",t);let n=si(["bottom"]);n.popperOptions.modifiers.push({name:"offset",options:{offset:[-5,20]}});let i=rJ("._ideoMenuArrow[data-tippy-content]",n);e.tippy=e.tippy.concat(i)}function sr(e){return e?"Unsplice exons (s)":"Splice exons (s)"}function sa(e,t=!0){let n="",i=" and protein",o="without";e||(n="pre-",i="",o="with");let r=t?"Canonical":"Alternative";return{title:`${r} transcript per Ensembl, ${o} introns`,name:`${r} ${n}mRNA ${i}`}}function ss(e,t){let n=document.querySelector("._ideoGeneStructureContainerName"),i=document.querySelector("._ideoSpliceToggle");if(n&&i){[n,i].forEach(e=>e.classList.remove("pre-mRNA")),e||[n,i].forEach(e=>e.classList.add("pre-mRNA"));let{title:o,name:r}=sa(e,t);n.textContent=r,n.title=o}}async function sl(e){Ideogram.spliceExons=!Ideogram.spliceExons;let t=Ideogram.spliceExons,[n,i]=a5(e),o=0===i,[,r,a]=await sf(n,e,t),s=document.querySelector("#_ideoProtein");s&&!t&&(s.style.display="none");let l=document.querySelectorAll(".intron").length>0;t||l?document.querySelectorAll(".intron").forEach(e=>e.remove()):function(e,t,n){let i=0,o=document.querySelectorAll(".subpart");e.forEach((e,n)=>{let r=n-i;if(t[r][0]!==e[0]){let t=e.slice(-1)[0].summary,n=`y="5" height="20" fill="#FFFFFF00" ${t}`,a=`<rect class="subpart intron" ${n} />`;o[r].insertAdjacentHTML("beforebegin",a),i+=1}}),document.querySelectorAll(".intron").forEach(e=>{st(e,n)})}(r,a,e),document.querySelectorAll(".subpart-line.rna").forEach(e=>e.remove());let c=t?a:r;console.log("in toggleSplice, subparts",c),ep.select("._ideoGeneStructure").selectAll(".subpart").data(c).transition().duration(750).attr("x",(e,t)=>c[t].slice(-1)[0].x).attr("width",(e,t)=>c[t].slice(-1)[0].width).on("end",async(i,r)=>{if(console.log("in end"),r!==c.length-1)return;s&&t&&(s.style.display=""),document.querySelectorAll(".subpart:not(.domain)").forEach((e,t)=>{let n=sh(c[t]);e.insertAdjacentHTML("afterend",n)}),ss(t,o);let a=document.querySelector("#_ideoTranscriptLengthBp");if(!a)return;let l=sc(c,t).toLocaleString();a.innerText=`${l} bp`;let d=await aj(n,c,e);console.log("toggled variantSvg.length",d.length),document.querySelector(".variantsDiagrams").innerHTML=d,e.tippy[0].show()})}function sc(e,t=!1){let n=e.filter(e=>"exon"===e[0]);t&&(e=n);let i=e.slice(-1)[0],o=i[1];return o+i[2]+(t?n.length-1:0)}function sd(e,t=null){return sc(e)/250/(t?3:1)}function su(e,t=null){let n=sd(e,t),i=t??e;for(let e=0;e<i.length;e++){let t=i[e];if("object"==typeof t.slice(-1)[0])continue;let o=t[2],r=t[1]/n,a=o/n,s=t[0];i[e].push({type:s,x:r,width:a})}return i}function sh(e){let t=e[0],n=e.slice(-1)[0].x,i=aV[t],o=`stroke="${aX[t]}"`,r=`x1="${n}" x2="${n}" y1="5" y2="${5+i}" ${o}`;return`<line class="subpart-line rna" ${r} />`}async function sf(e,t,n=!1){let i;let o=e.strand,r=e.subparts,a=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let o=e[i],[r,a]=o.slice(1);if(r>n){let e=n,i=r-n-1;t.push(["intron",e,i])}n=r+a,t.push(o)}return su(t)}(r),s=function(e){let t=[],n=0,i=0;for(let o=0;o<e.length;o++){let r,a,s;let[l,c,d]=e[o],u=c===i;o>0&&([,r,a]=e[o-1]);let h=o>0&&c===r,f=o>0&&c<=r+a,p=(s=u?c:h?i:f?i+a-d:n)+d,m=[l,s,d+1,c];t.push(m),n=p,i=s}return su(t)}(r);i=n?s:a;let l=document.querySelector("._ideoSpliceToggle");if(l){let e=sr(n);l.setAttribute("data-tippy-placement","right"),l.setAttribute("data-tippy-content",e),so(t)}let c=[],d='<rect fill="black" x="0" width="248" y="15" height="1"/>';c.push(d);let u={"5'-UTR":0,exon:0,intron:0,"3'-UTR":0},h={"5'-UTR":0,exon:0,intron:0,"3'-UTR":0},f="+"===o;i=a8(i,f),a=a8(a,f),s=a8(s,f);for(let e=0;e<i.length;e++){let t=i[e][0];t in h&&(h[t]+=1)}let p=e.name,m=a2(p);for(let e=0;e<i.length;e++){let t=i[e],r=t[0],l="black";r in aY&&(l=aY[r]);let d=aV[r],f=t[2],p=t.slice(-1)[0].x,m=t.slice(-1)[0].width,g=`x="${p}" width="${m}" y="5" height="${d}"`,y=`class="subpart ${aK[r]}" `,b=h[r];u[r]+=1;let v=u[r],x=function(e,t,n,i,o){"-"===i&&(n=t-n+1);let r=t>1?`${n} of ${t} `:"",a=e[0].toUpperCase()+e.slice(1),s=o.toLocaleString(),l=`${a} ${r}${aq} ${s} bp`;return`data-subpart="${l}"`}(r,b,v,o,f);n?"intron"!==r&&(s[e].slice(-1)[0].summary=x):a[e].slice(-1)[0].summary=x;let w=`<rect ${y} rx="1.5" fill="${l}" ${g} ${x}/>`+sh(t);c.push(w)}let g="position: relative; width: 274px; margin: auto;",y=`style="${g} left: 10px;"`;"-"===o&&(y=`transform="scale(-1 1)" style="${g} left: -10px;"`);let b=(function(e,t,n){let i="_ideoGeneStructureMenuContainer",o="margin-bottom: 4px; margin-top: 4px; clear: both;",r=Ideogram.geneStructureCache[e];if(1===r.length){let e=r[0].name;return`<div id="${i}" style="${o}">Transcript: ${e}</div>`}let a=r.map(e=>{let t=e.name,i="";return n&&n===e.name&&(i=" selected"),`<option value="${t}" ${i}>${t}</option>`}).join(""),s="_ideoGeneStructureMenu";return`<div id="${i}" style="${o}"><label for="${s}">Transcript:</label> <select id="${s}" name="${s}">${a}</select>`+function(){let e="width: 12px; height: 12px; cursor: pointer;user-select: none;",t=`style="${e}; margin-left: 5px;"`,n=`style="${e}; margin-left: 2px;"`,i='class="_ideoMenuArrow"',o='data-tippy-placement="bottom-start"',r=`data-tippy-content="Next transcript" ${o}`,a=`data-tippy-content="Previous transcript" ${o}`,s=`${t} ${i} data-dir="down" ${r}`,l=`${n} ${i} data-dir="up" ${a}`,c=nz({shape:"triangle",color:"#888"},{config:{orientation:"down"}}),d=nz({shape:"triangle",color:"#888"},{config:""});return`<svg ${s}>${c}</svg><svg ${l}>${d}</svg>`}()+"</div>"})(m,0,p).replaceAll('"',"'"),v=Ideogram.proteinCache[m]?.some(e=>e.protein.some(e=>aB(e))),[x,w]=function(e,t,n,i,o){let r=[],a=a2(e,o);if(!o.config.showProteinInTooltip||"proteinCache"in Ideogram==!1||a in Ideogram.proteinCache==!1||"spliceExons"in Ideogram==!1||!1===Ideogram.spliceExons)return["<br/>",null];let s=Ideogram.proteinCache[a].find(t=>t.transcriptName===e);if(!s)return["<br/>",null];let l=s.protein,c=function(e,t){let n,i,o,r;t||(e=e.slice().reverse());let a=t?"5'-UTR":"3'-UTR",s=e.filter(e=>e[0]===a).slice(-1)[0];s?(n=s.slice(-1)[0].x+s.slice(-1)[0].width,i=s[1]+s[2]):(n=0,i=0);let l=t?"3'-UTR":"5'-UTR",c=e.filter(e=>e[0]===l).slice(-1)[0];if(c)o=c.slice(-1)[0].x,r=c[1];else{let t=e.slice(-1)[0];o=t.slice(-1)[0].x+t.slice(-1)[0].width,r=t[1]+t[2]}let d=r-i,u=o-n;return{px:{start:n,length:u},bp:{start:i,length:d}}}(t,n),d=su(t,l),u=[];for(let e=0;e<d.length;e++){let t=d[e],o=aB(t),a=function(e,t,n,i){let o=e[0],r=e.slice(-1)[0],a=t.px.start+r.x,s=r.width;n||(a=t.px.length+t.px.start-(r.x+r.width));let l=30,c=14,d=aB(e),u="S"===e[0],h="";if(i&&(l=38,d)){var f;o=(f=e[0])in aN?aN[f]:f.slice(1),l=30,c=30;let i=`${e[0]} ${e[1]} ${e[2]}`;if((n&&r.x+r.width>t.px.length+3||!n&&r.x+r.width>t.px.length+3)&&(console.debug(`Truncate protein topology feature: ${i}`),s-=r.x+r.width-t.px.length,n||(a+=s)),h='data-topology="true"',s<0)return console.debug(`Width < 0, omit protein topology feature: ${i}`),""}let[p,m]=function(e){if("S"===e)return["#FF2","#F99"];if("Extracellular"===e)return["#EEF","#AAF"];if("Cytoplasmic"===e)return["#FFFBCC","#CCC89A"];if("Helical"===e||e.startsWith("Helical ---"))return[aP,aM];if("Lumenal"===e)return["#FFEA66","#FFB466"];if("Lumenal, melanosome"===e)return["#EEBB00","#A99A89"];if("Mitochondrial matrix"===e)return["#DFD","#CDC"];else if("Mitochondrial intermembrane"===e)return["#BCB","#9A9"];else if("Perinuclear space"===e)return["#EEDDFF","#A771C9"];else if("Nuclear"===e)return[ak,aE];else if("Beta stranded"===e)return[ah,af];else if(e.includes("conserved site")||e.includes("conserved domain")||"WGR domain"===e||"R3H domain"===e||e.includes("QLQ")||"Sema domain"===e||"Proteasome component (PCI) domain"===e||"Sterol-sensing domain"===e||"Erythropoietin/thrombopoietin"===e||"SPRY domain"===e||"Anaphylatoxin/fibulin"===e||"Tetratricopeptide repeat"===e||"Doublecortin domain"===e||e.includes("Glycosyl transferase")||e.toLowerCase().includes("lethal")&&e.toLowerCase().includes("c-terminal")||e.includes("PUB")||e.includes("Myogenic determination")||"Globin"===e||"GPS motif"===e||e.includes("D-like")||e.toLowerCase().includes("insertion domain")||"Macro domain"===e)return[aa,as];else if(e.includes("active site")||e.includes("hydroxylation site")||e.includes("catalytic domain")||e.includes("Lipid transport")||"BRCA1, serine-rich domain"===e||"Tower domain"===e||e.endsWith("attachment site")||e.endsWith("amyloid-beta peptide")||"Reverse transcriptase domain"===e||"Membrane attack complex component/perforin (MACPF) domain"===e||"Alpha-2-macroglobulin"===e||"Kinesin motor domain"===e||"Adenomatous polyposis coli tumour suppressor protein"===e||e.includes("endostatin"))return[ao,ar];else if("Cyclin, C-terminal domain"===e||e.includes("OB C-terminal domain")||"Cationic amino acid transporter, C-terminal"===e||"High mobility group box domain"===e||"HMG-box domain"===e||e.includes("CUB domain")||"C-5 cytosine methyltransferase"===e||e.includes("(G-protein), alpha subunit")||"SCAN domain"===e||"Apolipoprotein A/E"===e||e.includes("Clusterin")||e.includes("SMAD domain")||"PLAC"===e||e.endsWith("tripeptidyl peptidase II")||"Prohormone convertase enzyme"===e||e.includes("rod domain")||"Osteopontin"===e||"SPRY-associated"===e||"C1q domain"===e||"OAR domain"===e||e.includes("FTO, C-terminal")||e.includes("ATPase, C-terminal")||e.includes("Hint domain")||"Laminin IV"===e||"NACHT-associated domain"===e||e.includes("FANCD2")||e.startsWith("Acyl-CoA")&&e.endsWith("C-terminal")||"Kinesin-like"===e||"GUCT"===e||e.includes("(APC) repeat")||e.includes("IP3R"))return[al,ac];else if(e.includes("trypsin domain")||e.includes("scaffold dimerization")||e.includes("eIF-4 gamma, MA3")||"Troponin"===e||"SKI/SNO/DAC domain"===e||e.toLowerCase().includes("large ribosom")||e.includes("KA1")||"V(D)J recombination-activating protein 1"===e||e.toLowerCase().includes("opiod")||"Corticotropin-releasing factor"===e||e.includes("2Fe-2S ferredoxin")||e.includes("acidic domain"))return["#E88","#A55"];else if("EGF-like calcium-binding domain"===e||e.includes("PTX/LNS")||"HSR domain"===e||e.includes("MutS, clamp")||e.includes("S5 domain 2-like")||e.endsWith("CC1/2")||e.includes("MUN")||e.includes("second molybdopterin"))return[ax,aw];else if(e.includes("binding site")||"EF-hand domain"===e||e.includes("EF hand-like")||"Zinc finger, nuclear hormone receptor-type"===e||e.includes("Serpin domain")||"Peptidase C14,  p20 domain"===e||"PWWP domain"===e||"Peptidoglycan binding-like"===e||"MAD homology 1, Dwarfin-type"===e||"F-actin binding"===e||e.includes("Glycoside hydrolase")&&e.endsWith("domain")||"p53 tumour suppressor family"===e||"Menin"===e||e.includes("von Hippel")&&e.includes("beta")||"Pointed domain"===e||e.includes("DNA binding")||"Helix-hairpin-helix domain"===e||"Helix-hairpin-helix motif"===e||"MIR motif"===e||"Rad52 family"===e||"Oxidoreductase FAD/NAD(P)-binding"===e||e.endsWith("NAD-binding")||e.endsWith("NAD binding")||e.includes("Bromo adjacent")||"HARP domain"===e||"FATC domain"===e||e.startsWith("XRN2-binding")||"SRCR-like domain"===e||e.includes("SRCR")||"Gamma-carboxyglutamic acid-rich (GLA) domain"===e||"Pterin-binding domain"===e||"Receptor, ligand binding region"===e||e.includes("DHEX domain")||"SANT/Myb domain"===e||e.includes("Forkhead-associated")||"Rap/Ran-GAP domain"===e||e.endsWith("C2 domain")||e.includes("tri-helix bundle domain")||e.includes("Cx50")||e.includes("tyrosine-rich")||"Filaggrin"===e)return[ah,af];else if(e.includes("dehydrogenase, molybdopterin binding")||"Zinc finger CCHC HIVEP-type"===e||"Cyclin, N-terminal"===e||"MAD homology, MH1"===e||"Sodium ion transport-associated"===e||"Sodium ion transport-associated domain"===e||e.endsWith("head")||e.includes("Pleckstrin homology domain")||"PH domain"===e||e.endsWith("pleckstrin homology-like domain")||"DEP domain"===e||"Post-SET domain"===e||e.includes("Glycoside hydrolase")||"Pyridoxal phosphate-dependent decarboxylase"===e||e.includes("OB1")||e.includes("OB3")||e.includes("OB domain")||"Fork head domain"===e||"Histone deacetylase domain"===e||e.includes("MG1")||"Homocysteine-binding domain"===e||e.startsWith("Acyl-CoA")&&e.endsWith("N-terminal")||"Clathrin light chain"===e||"Hexokinase, N-terminal"===e)return[ap,am];else if(e.includes("zinc-binding")||e.includes("DNA-binding")||"RUNT domain"===e||"G protein-coupled receptor, rhodopsin-like"===e||e.includes("CXC domain")||e.includes("Homeobox domain")||e.includes("BRCT domain")||e.includes("EF-hand")||"Laminin G domain"===e||"Peptidase C14, caspase non-catalytic subunit p10"===e||"ADD domain"===e||"PDZ domain"===e||"Krueppel-associated box"===e||"Ets domain"===e||"P domain"===e||e.includes("bHLH")||"Ras-associating (RA) domain"===e||"Ras-associating domain"===e||"Calcium/calmodulin-dependent protein kinase II, association-domain"===e||"Bromodomain"===e||"Bromodomain associated domain"===e||"SLIDE domain"===e||"Peptidase M24"===e||"Pentraxin-related"===e||e.includes("Notch ligand")||"Anti-proliferative protein"===e||e.includes("transpeptidase")||"Tuberin-type domain"===e||"Ras-like guanine nucleotide exchange factor, N-terminal"===e||e.includes("factor-binding protein")||e.includes("GPD")||"ELM2 domain"===e)return[ag,ay];else if("SH2 domain"===e||e.includes("SH2-like domain")||e.includes("Furin-like")||e.includes("heparin-binding")||"SRCR domain"===e||"EGF-like domain"===e||"Basic leucine zipper domain, Maf-type"===e||e.startsWith("Leucine zipper")||e.includes("Interleukin")&&e.includes("propeptide")||"Sirtuin family"===e||"Amino acid/polyamine transporter I"===e||"Peptidase M10, metallopeptidase"===e||"Metallothionein"===e||"DDHD domain"===e||"Zinc finger C2H2-type"===e||"Zinc finger, PARP-type"===e||e.endsWith("tail domain")||"SET domain"===e||"Hamartin"===e||e.includes("von Hippel")&&e.includes("alpha")||e.includes("transactivation domain 2")||"Phosphopantetheine binding ACP domain"===e||"Multicopper oxidase, second cupredoxin domain"===e||"Helicase, C-terminal"===e||e.includes("Carboxylesterase")||e.includes("presequence")||e.endsWith("CC3"))return[ab,av];else if("Insulin-like"===e||"Fibroblast growth factor family"===e||"Nerve growth factor-related"===e||"Transforming growth factor-beta, C-terminal"===e||"Telomere-length maintenance and DNA damage repair"===e||"PDGF/VEGF domain"===e||e.includes("SH3-RhoGEF")||e.includes("MG4")||e.includes("RING domain")||e.includes("RING-type")||e.startsWith("DEAD/DEAH")||"Laminin alpha, domain I"===e||e.toLowerCase().includes("nuclear/hormone receptor")||"P-type trefoil domain"===e||e.includes("KHDRBS"))return[ax,aw];else if("SH3 domain"===e||"Variant SH3 domain"===e||e.endsWith("SH3 domain")||e.includes("copper-binding")||"Sushi/SCR/CCP domain"===e||e.includes("Coagulation factor 5/8")||"Basic-leucine zipper domain"===e||"Basic region leucine zipper"===e||"Sirtuin family, catalytic core domain"===e||"Amine oxidase"===e||e.includes("peroxidase")||e.includes("lid domain")||e.includes("prodomain")||"Pre-SET domain"===e||e.includes("transactivation domain")||e.includes(" activation domain")||e.includes("activating region")||"Thioesterase"===e||e.toLowerCase().includes("thiored")||e.includes("esterase")||e.endsWith("Claudin superfamily")||"Retinoblastoma-associated protein, A-box"===e||e.includes("Between PH and SH2")||e.includes("inter-SH2")||"Chromogranin A/B/C"===e||e.toLowerCase().includes("helicase")||e.endsWith("pro-domain")||"Brix domain"===e||"Coagulation Factor Xa inhibitory site"===e||"Trypsin Inhibitor-like, cysteine rich domain"===e||"WIF domain"===e||e.toLowerCase().includes("cystatin")||"EGF domain"===e||"Axin beta-catenin binding"===e||"Peptidase M2, peptidyl-dipeptidase A"===e||e.endsWith("phosphatase domain")||"PIGA, GPI anchor biosynthesis"===e||e.startsWith("Acyl-CoA")&&e.endsWith("middle domain")||e.includes("(COR)")||"K Homology domain, type 2"===e||e.includes("Phox")||e.includes("PB1")||e.includes("multifunctional domain")||e.includes("MutS, core")||"RAP domain"===e||e.endsWith("CC5")||e.includes("first molybdopterin"))return[aC,aA];else if("Immunoglobulin-like domain"===e||e.toLowerCase().endsWith("immunoglobulin-like domain")||e.endsWith("Ig domain")||e.endsWith("Ig-like domain")||"Major facilitator superfamily domain"===e||e.includes("interface")||"Class I myosin tail homology domain"===e||"Myosin tail"===e||"Acyl transferase"===e||e.endsWith("transferase")||e.startsWith("Acyl-CoA")||"JAK, FERM F2 lobe domain"===e||"Sodium/solute symporter"===e||e.includes("foci domain")||e.includes("Receptor L-domain")||"Wnt"===e||"R-spondin, Fu-CRD domain"===e||e.endsWith("merisation domain")||e.endsWith("merization domain")||e.endsWith("merisation motif")||e.endsWith("merization motif")||e.endsWith("BTB/POZ domain")||e.includes("CBS domain")||"DZF domain"===e||"GS domain"===e||e.includes("kinase domain")||e.includes("FAT")||e.startsWith("von Willebrand factor, type A")||e.includes("VWA")||"Reeler domain"===e||"BMP/retinoic acid-inducible neural-specific protein"===e||"Low-density lipoprotein (LDL) receptor class A repeat"===e||"TILa domain"===e||e.includes("chromosome condensation")||"Immunoglobulin I-set"===e||"Kinesin-associated"===e||"SMCs flexible hinge"===e||e.includes("Cys-His rich domain"))return[ad,au];else if("Immunoglobulin"===e||"Immunoglobulin domain"===e||"CD20-like family"===e||"Calponin homology domain"===e||e.endsWith("Calponin-homology domain")||e.includes("ATPase")||e.includes("ATP coupling domain")||e.includes("globular domain")||"Mitochondrial substrate/solute carrier"===e||"Major facilitator,  sugar transporter-like"===e||"Major facilitator, sugar transporter-like"===e||"Sodium:neurotransmitter symporter"===e||e.toLowerCase().includes("methyltransferase")||"Rhodanese-like domain"===e||e.startsWith("Thyroglobulin")||"Retinoblastoma-associated protein, B-box"===e||"C-type lectin-like"===e||"Galectin, carbohydrate recognition domain"===e||"VWFC domain"===e||e.includes("CFC domain")||"POLO box domain"===e||e.endsWith("domain 1")||e.endsWith("domain II")||"Fibronectin, type I"===e||"Cadherin-like"===e||"G-protein gamma-like domain"===e||"GoLoco motif"===e||"MyTH4 domain"===e||e.endsWith("isomerase")||"BTB/Kelch-associated"===e||"Stathmin family"===e)return[ak,aE];else if("Immunoglobulin C1-set"===e||e.includes("GTPase")||"RGS domain"===e||"Major facilitator superfamily"===e||"Fibronectin type II domain"===e||e.includes("ectodomain")||e.endsWith("receptor domain")||e.endsWith("receptor domain 4")||"MAM domain"===e||"IPT domain"===e||e.endsWith("extracellular")||"Link domain"===e||e.includes("connector domain")||"WW domain"===e||"WHIM1 domain"===e||"TNFR/NGFR cysteine-rich region"===e||"Frizzled domain"===e||"Netrin module, non-TIMP type"===e||"CFTR regulator domain"===e||e.endsWith("domain 2")||"GNAT domain"===e||"NIDO domain"===e||"Myosin head, motor domain"===e||"von Willebrand domain, type D domain"===e||"Kinesin-like KIF1-type"===e||e.includes("Paxillin")||"Clathrin, heavy chain/VPS, 7-fold repeat"===e||"Collagen IV, non-collagenous"===e)return[aL,aT];else if("Fibronectin type III"===e||"Tissue factor"===e||"Immunoglobulin C2-set"===e||e.includes("immunoglobulin C2-set")||e.includes("protein interaction")||"SWIRM domain"===e||e.includes("(DSL) protein")||"Dishevelled protein domain"===e||e.endsWith("domain 3")||"DnaJ domain"===e||e.toLowerCase().includes("nuclear receptor")||"Gonadal family"===e)return[a_,aS];else if("Immunoglobulin V-set domain"===e||e.includes("V-set domain")||e.includes("V-like")||"Frizzled/Smoothened, 7TM"===e||e.endsWith("domain 4")||"Integrin alpha-2"===e||"Calcium-activated potassium channel BK, alpha subunit"===e||e.includes("Dbl homology (DH) domain")||e.includes("Glycine rich")||e.toLowerCase().includes("exonuclease")||"WHIM2 domain"===e||e.includes("Coactivator CBP")||e.includes("cryptic polo"))return["#51087E","#8138AE"];else if("Desmoplakin, spectrin-like domain"===e||"Spectrin repeat"===e||e.endsWith("TED domain")||"Polyadenylate-binding protein/Hyperplastic disc protein"===e||e.includes(" cap domain")||e.toLowerCase().includes("agenet")||e.includes("TATA")||e.includes("Citron")||"RIH domain"===e||e.toLowerCase().includes("sclerostin")||"ZU5 domain"===e||"Piezo domain"===e||"Histone H2A/H2B/H3"===e)return["#FF3","#AA0"];else if("Armadillo"===e||e.includes("Apple domain")||"Protocadherin"===e||"DIX domain"===e||"Ferritin-like diiron domain"===e||"4Fe-4S dicluster domain"===e||"Transferrin-like domain"===e||"PAS domain"===e||"PAS fold"===e||"Polyketide synthase, dehydratase domain"===e||"Flavodoxin/nitric oxide synthase"===e||"Flavodoxin-like fold"===e||"G-patch domain"===e||"Chromo domain"===e||e.toLowerCase().includes("tudor")||"Cytochrome P450"===e||"Potassium channel domain"===e||"G2 nidogen/fibulin G2F"===e||e.includes("bait region")||"WWE domain"===e||e.endsWith("deiodinase")||"Cobalamin (vitamin B12)-binding domain"===e||"Laminin domain II"===e||"Troponin I residues 1-32"===e||"KI67R"===e||e.includes("FAD-binding")||e.includes("Glucagon"))return[aD,aF];else if(e.includes("Kringle")||e.includes("Peptidase M12A")||"TGF-beta, propeptide"===e||e.includes("autopeptidase")||e.includes("GAIN")||"PIK-related kinase"===e||e.includes("(PIK) domain")||"LDLR class B repeat"===e||"Actin family"===e||"Ferritin/DPS protein domain"===e||"PAS fold-3"===e||"Polyketide synthase, ketoreductase domain"===e||e.startsWith("Heat shock protein")&&e.endsWith("family")||"BAG domain"===e||"MCM domain"===e||e.endsWith("reductase-like")||"Lipase"===e||"Phospholipase A2 domain"===e||"Notch domain"===e||e.includes("LCCL domain")||e.includes("SANT-like")||"VWF/SSPO/Zonadhesin-like, cysteine-rich domain"===e||"Kappa casein"===e||"Casein, alpha/beta"===e||"Natriuretic peptide"===e||"EMI domain"===e||"Neurohypophysial hormone"===e||"Synuclein"===e||e.includes("Hydroxymethylglutaryl-CoA reductase")||e.includes("Perilipin")||e.includes("lipase")||e.includes("CRAL")||e.includes("SAND")||e.toLowerCase().includes("hsp")||e.toLowerCase().includes("bombesin"))return[aP,aM];else if("Notch, NOD domain"===e||"Cadherin, Y-type LIR-motif"===e||"Protein patched/dispatched"===e||e.includes("membrane-proximal")||"LicD family"===e||e.includes("MoaB/Mog"))return["#C87D32","#722810"];else if(e.includes("transmembrane domain")||e.includes("trans-membrane domain")||e.includes("Transmembrane protein")||e.includes("7TM")||"Major intrinsic protein"===e||e.includes("Triadin")||e.includes("Collectrin")||e.includes("membrane glycoprotein")||"SEA domain"===e||"CD36 family"===e||e.includes("CD34")||"Hypoxia-inducible factor, alpha subunit"===e||"Hypoxia-inducible factor, alpha subunit-like"===e||"PKD domain"===e||e.includes("regulatory domain")||e.endsWith("E2 domain")||"PLAT/LH2 domain"===e||"Notch, NODP domain"===e||"Syndecan/Neurexin domain"===e||"Zona pellucida domain"===e||e.includes("Ion transport domain")||e.endsWith("Membrane transport protein MMPL domain")||e.includes("Caveolin")||"Band 7 domain"===e||e.includes("Shisa")||"ABC-2 family transporter protein"===e||"Anoctamin"===e||"Sodium-dependent phosphate transport protein"===e||e.includes("MHC II-interacting"))return[a$,aI];else if("DAPIN domain"===e||"Death effector domain"===e||"Death domain"===e||e.includes("death protein")||e.toLowerCase().includes("lethal")||e.includes("UBA domain")||e.includes("HECT domain")||e.toLowerCase().includes("ubiquitin")||e.includes("necrosis")||e.toLowerCase().includes("death")||e.includes("Bcl-2")||e.includes("CIDE-N")||"Disintegrin domain"===e||e.includes("TRAF")||e.includes("TIR")||e.toLowerCase().includes("caspase")||"Pellino family"===e)return["#888","#333"];else if(e.includes("unknown function")||e.toLowerCase().includes("unstructured")||e.startsWith("Uncharacterised"))return["#AAA","#555"];else if(e.toLowerCase().includes("leucine rich repeat")||e.includes("HIN")||e.includes("calcium")||e.toLowerCase().includes("calreticulin")||e.includes("cytokine receptor")||e.includes("pore forming")||e.includes("RHIM")||e.includes("SWIB")||"Ryanodine receptor Ryr"===e||e.includes("Armadillo")||"UME domain"===e||e.includes("WD40 domain")||"WSTF/Acf1/Cbp146"===e||"BCL7"===e||e.endsWith("repeat ring region")||e.includes("PANDER")||"GPCR, rhodopsin-like, 7TM"===e||"GPCR, family 2, secretin-like"===e||"GPCR, family 3, nine cysteines domain"===e||"G-protein coupled receptor"===e||e.toLowerCase().includes("orexin")||"[2Fe-2S]-binding"===e)return["#DD8300","#883000"];else if(e.includes("repeat")||"Vitellinogen, open beta-sheet"===e||e.includes("Interleukin")&&e.includes("family")||/Interleukin-\d+$/.test(e)||"Chemokine interleukin-8-like domain"===e||e.includes("beta-ribbon")||e.includes("cytoplasmic domain")||e.toLowerCase().includes("interleukin")||"Citrate transporter-like domain"===e||e.toLowerCase().includes("calsequestrin"))return[aD,aF];else if(e.includes("inhibit")||e.includes("central")||e.endsWith("tail")||e.endsWith("helical domain")||e.endsWith("helical domain HD2")||e.endsWith("coiled-coil domain")||e.endsWith("coiled-coil region")||e.includes("zinc ribbon fold")||e.includes("zinc-ribbon")||e.toLowerCase().includes("anhydrase")||"Macroglobulin domain"===e||e.includes("KH0")||e.includes("EGF")||e.toLowerCase().includes("olfact")||e.toLowerCase().includes("mucin"))return[aC,aA];else if(e.includes("Peptidase")||e.includes("Ras-binding")||e.includes("CRIB domain"))return[ah,af];else if(e.toLowerCase().includes("zinc finger")||e.toLowerCase().includes("zinc-finger")||e.includes("RING finger")||e.toLowerCase().includes("transcription factor")||"Paired domain"===e||"JmjC domain"===e||"BRK domain"===e||e.includes("MG3")||e.toLowerCase().includes("polycomb")||e.toLowerCase().includes("metallopeptidase")||e.toLowerCase().includes("metallo-peptidase")||e.toLowerCase().includes("metalloenzyme")||"K Homology domain, type 1"===e||e.includes("winged helix")||e.toLowerCase().includes("dehydrogenase")||e.includes("BAR")||e.includes("metal")||e.includes("redoxin"))return[ab,av];else if(e.startsWith("Tyrosine-protein kinase receptor")||"PTB/PI domain"===e||e.endsWith("receptor")||e.includes("cysteine rich")||e.includes("cysteine-rich")||"AWS domain"===e||e.toLowerCase().includes("somatomedin b")||e.includes("MHC class II")&&!e.includes("C-terminal"))return[aL,aT];else if(e.toLowerCase().includes("golgi")||"GOLD domain"===e||e.includes("deaminase")||e.includes("C-terminal core")||e.includes("nucleoside triphosphatase")||e.includes("globin")||e.includes("IspD/TarI")||"Telethonin"===e||e.includes("Sarcoglycan")||e.includes("toxin")||e.includes("ShKT")||e.includes("SAM")||e.includes("Sterile alpha motif")||e.includes("Unconventional myosin-X")||"CARD domain"===e||e.includes("endonuclease")||e.toLowerCase().includes("splicing factor")||e.toLowerCase().includes("interferon")||"Tropomyosin"===e||e.includes("R1 domain"))return[aa,as];else if(e.includes("TM")||e.toLowerCase().includes("transmembrane")||e.toLowerCase().includes("trans-membrane"))return[a$,aI];else if(e.includes("binding domain")||e.includes("binding protein"))return[ag,ay];else if(e.includes("Ribosomal protein")||e.toLowerCase().includes("ribosomal subunit")||e.toLowerCase().includes("ribosom")||e.toLowerCase().includes("ribonuclease"))return[ax,aw];else if(e.includes("lectin")||e.includes("recognition")||e.toLowerCase().includes("solute carrier")||e.includes("isomerase")||"Clathrin-H-link"===e)return[ak,aE];else if(e.startsWith("von Willebrand factor")||e.endsWith("receptor-binding")||e.toLowerCase().includes("link")||e.includes("basic domain")||e.includes("interacting")||e.includes("domain IV")||e.toLowerCase().includes("immunoglobulin domain"))return[a_,aS];else if(e.includes("transferase")||e.includes("merisation"))return[ad,au];else if(e.includes("oxygenase"))return[ao,ar];else if(e.includes("phosphatase")||e.includes("RNA polymerase")||e.includes("catenin"))return[aC,aA];else if(e.includes("bind")||e.includes("EF"))return[ah,af];else if(e.includes("C-termin")||e.includes("C termin")||e.includes("kinase"))return[al,ac];else if(e.includes("N-termin")||e.includes("N-teminal")||e.includes("N termin")||e.toLowerCase().includes("decarboxylase")||e.toLowerCase().includes("hydrolase")||e.includes("PH domain")||e.includes("cytosolic")||e.toLowerCase().includes("homeobox"))return[ap,am];return["#D8D8D8","#888"]}(o);u&&(o="Signal peptide",c=8,l+=3),d&&("Helical"===o?o="Transmembrane":o.startsWith("Helical --- Name=")&&(o=o.replace("Helical --- Name=","Transmembrane: ")));let g=`${e[2]}&nbsp;aa`,y=`data-subpart="${o} ${aq} ${g}"`,b=`x="${a}" width="${s}" y="${l}" height="${c}"`,v=`class="subpart domain${d?" topology":""}" `;return`<rect ${v} rx="1.5" fill="${p}" ${b} ${y} ${h}/>`+function(e,t,n,i,o,r=!1){let a=t+i,s=`stroke="${o}"`,l=`x1="${e}" x2="${e}" y1="${t}" y2="${a}" ${s}`,c=e+n,d=`x1="${c}" x2="${c}" y1="${t}" y2="${a}" ${s}`,u=`<line class="subpart-line" ${l} />`,h=`<line class="subpart-line" ${d} />`,f="",p="";if(r){let n=`x1="${e}" x2="${c}" y1="${t}" y2="${t}" ${s}`,i=`x1="${e}" x2="${c}" y1="${a}" y2="${a}" ${s}`;f=`<line class="subpart-line" ${n} />`,p=`<line class="subpart-line" ${i} />`}return u+h+f+p}(a,l,s,c,m,!d)}(t,c,n,i);o?u.push(a):r.push(a)}let h=`<rect class="_ideoProteinLine"x="${c.px.start}" width="${c.px.length}" y="${i?"43":"35"}" height="4" fill="#${i?"BBB":"DDD"}" stroke="#${i?"555":"777"}" />`;return u.push(h),r=u.concat(r),[`<g id="_ideoProtein">${r.join("")}</g>`,null]}(p,i,f,v,t),C=await aj(e,i,t),A=sc(i,n).toLocaleString(),S=[`${h.exon} exons`,`<span id='_ideoTranscriptLengthBp'>${A} bp</span> `];if(w){let e=w.toLocaleString();S.push(`<span id='_ideoProteinLengthAa'>${e} aa</span> `)}let L=e.biotype.replace(/_/g," ");"protein coding"!==L&&S.push(L);let T=b+S.join(` ${aq} `),k=""===x?30:50;v&&(k=60);let E="";return C&&(k+=18,E='transform="translate(0, 18)"'),[`<svg class="_ideoGeneStructure" data-ideo-gene-structure-name="${p}" data-ideo-strand="${o}" data-ideo-footer="${T}" width="268" height="${k}" ${y}><g class="rnaProteinDiagrams" ${E}>`+c.join("")+x+'</g><g class="variantsDiagrams">'+C+"</g></svg>",a,s]}async function sp(e,t,n){let i="",o=e.name;if(t.config.showGeneStructureInTooltip&&!n&&!("geneStructureCache"in Ideogram==!1||o in Ideogram.geneStructureCache==!1)){t.addedSubpartListeners=!1,"spliceExons"in Ideogram==!1&&(Ideogram.spliceExons=!0);let e=Ideogram.spliceExons,n=Ideogram.geneStructureCache[o][0],r=(await sf(n,t,e))[0],a=function(e){let t=Ideogram.spliceExons,n=t?"":"pre-",i=`class="_ideoSpliceToggle ${n}mRNA"`,o=t?"checked":"",r=sr(t),a=`data-tippy-content="${r}" data-tippy-placement="right"`,s=`type="checkbox" ${o} style="display: none;"`,l=`${i} style="position: relative; top: -10px; user-select: none; float: right; cursor: pointer; font-size: 16px; padding: 2px 4px; border: 1px solid #CCC; border-radius: 3px;" ${a}`;return`<label ${l}><input ${s} />&#x2702;</label>`}(0),s=e?"":" pre-mRNA",l=`class="_ideoGeneStructureContainerName${s}"`,{name:c,title:d}=sa(e),u=`${l} title="${d}"`;i=aJ+'<div class="_ideoGeneStructureContainer">'+`<div class="_ideoGeneStructureContainerHead"><span ${u}>${c}</span>${a}</div>`+'<span class="_ideoGeneStructureSvgContainer" >'+r+'</span><div class="_ideoGeneStructureFooter">'+aQ+"</div></div>"}return i}window.swapUTRsForward=a8;let sm={Arrow:["acts on","acted on by"],TBar:["inhibits","inhibited by"],"mim-binding":["binds","binds"],"mim-catalysis":["catalyzes","catalyzed by"],"mim-cleavage":["cleaves","cleaved by"],"mim-conversion":["converts","converted by"],"mim-gap":["interacts with","interacts with"],"mim-inhibition":["inhibits","inhibited by"],"mim-modification":["modifies","modified by"],"mim-necessary-stimulation":["necessarily stimulates","necessarily stimulated by"],"mim-stimulation":["stimulates","stimulated by"],"mim-transcription-translation":["transcribes / translates","transcribed / translated by"]};function sg(e){return Object.values(e).find(e=>e.length>0&&"ixnType"in e[0])[0].ixnType.toLowerCase()}function sy(e,t){if(void 0===e||""===e)return[[],[]];let n=Array.from(e.querySelectorAll(`DataNode[TextLabel="${t}"]`)).map(e=>({type:"node",matchedLabel:t,textLabel:e.getAttribute("TextLabel"),graphId:e.getAttribute("GraphId"),groupRef:e.getAttribute("GroupRef")})),i=n.map(e=>e.graphId),o=n.map(e=>e.groupRef).map(e=>`Group[GroupId="${e}"]`).join(","),r=[];""!==o&&(r=Array.from(e.querySelectorAll(o)).map(e=>({type:"group",matchedLabel:t,graphId:e.getAttribute("GraphId"),groupId:e.getAttribute("GroupId")})));let a=r.map(e=>e.graphId);return[i.concat(a),n.concat(r)]}async function sb(e){if(!navigator.onLine)return"";let t=`${e}.xml.gz`,n=`https://cdn.jsdelivr.net/npm/ixn2/${t}`,i=await fetch(n);if(!i.ok)return console.log(`Gracefully degrading as request failed for: ${n}`),"";let o=await i.blob(),r=tN(tD(new Uint8Array(await o.arrayBuffer())));return new DOMParser().parseFromString(r,"text/xml")}function sv(e,t){return null==e?t:"function"==typeof e?e:t=>t[e]}function sx(e,t=!1){let n=new Float64Array(5),i=new Float64Array(4);!function(e,t,n){let i,o;let r=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),a=Math.exp(-1.783/n),s=Math.exp(-1.723/n),l=.6318/n,c=1.997/n,d=Float64Array.of(-a*Math.cos(l),a*Math.sin(l),-a*Math.cos(-l),a*Math.sin(-l),-s*Math.cos(c),s*Math.sin(c),-s*Math.cos(-c),s*Math.sin(-c)),u=2.5066282746310007*n,h=Float64Array.of(r[0],r[1],0,0,0,0,0,0),f=Float64Array.of(1,0,d[0],d[1],0,0,0,0,0,0);for(o=2;o<8;o+=2){for(h[o]=d[o]*h[o-2]-d[o+1]*h[o-1],h[o+1]=d[o]*h[o-1]+d[o+1]*h[o-2],i=o-2;i>0;i-=2)h[i]+=d[o]*h[i-2]-d[o+1]*h[i-1],h[i+1]+=d[o]*h[i-1]+d[o+1]*h[i-2];for(i=0;i<=o;i+=2)h[i]+=r[o]*f[i]-r[o+1]*f[i+1],h[i+1]+=r[o]*f[i+1]+r[o+1]*f[i];for(f[o+2]=d[o]*f[o]-d[o+1]*f[o+1],f[o+3]=d[o]*f[o+1]+d[o+1]*f[o],i=o;i>0;i-=2)f[i]+=d[o]*f[i-2]-d[o+1]*f[i-1],f[i+1]+=d[o]*f[i-1]+d[o+1]*f[i-2]}for(o=0;o<4;++o)i=o<<1,t[o]=h[i]/u,e[o+1]=f[i+2]}(n,i,e);let o=Float64Array.of(0,i[1]-n[1]*i[0],i[2]-n[2]*i[0],i[3]-n[3]*i[0],-n[4]*i[0]),r=1+n[1]+n[2]+n[3]+n[4],a=(i[0]+i[1]+i[2]+i[3])/r,s=(o[1]+o[2]+o[3]+o[4])/r;return{sigma:e,negative:t,a:n,b_causal:i,b_anticausal:o,sum_causal:a,sum_anticausal:s}}function sw(e,t){let n=e.length;if(!n)return NaN;if((t=+t)<=0||n<2)return e[0];if(t>=1)return e[n-1];let i=(n-1)*t,o=Math.floor(i),r=e[o];return r+(e[o+1]-r)*(i-o)}function sC(e,t,n=!0,i=0,o=null){let r=function(e,t){let n=0;for(let i=0;i<e.length;i++){let o=e[i],r=o.expression.max;if(t){if(o.tissue===t){n=r;break}}else r>n&&(n=r)}return n}(e,o),a=0;o&&(a=e.find(e=>e.tissue===o).expression.min);let s=["max","q3","median","q1","min"];return e.map(e=>{if(e.px={},n)for(let n=0;n<s.length;n++){let o=s[n],l=t*(e.expression[o]-a)/(r-a)+i;Math.round(l)>t&&(e.px[o+"Raw"]=l,l+=t-l),l+=i,e.px[o]=l}else{let n=e.expression.min,o=e.expression.max;for(let r=0;r<s.length;r++){let a=s[r],l=t*(e.expression[a]-n)/(o-n)+i;e.px[a]=l}}return e}),e}function sA(e,t,n,i,o=!1){let r=e[t],a=!1;o&&r>48&&(r=49,a=!0);let s=a?12:e[t+"Height"];isNaN(s)&&(s=12);let l=i-s,c=l+n+s,d=e.max-e.min<=8,u="median"===t,h=d&&u;return{x:r,y1:l+n+.5,y2:c,style:h?"display: none":"",endStyle:a&&u||h?"display: none;":""}}function s_(e,t,n,i,o,r=!1){let a=e[0].toUpperCase()+e.slice(1),{x:s,y1:l,y2:c,style:d}=sA(t,e,i,o),u=""===d?"":`style="${d}"`,h=eD(eB(n,.55),n),f=`x1="${s}" y1="${l}" x2="${s}" y2="${c}" ${u} `+(r?'stroke-dasharray="3" ':"")+`class="_ideoExpression${a}" `;return`<line stroke="${h}" ${f} />`}function sS(e,t,n,i){return[s_("median",e,i,t,n,!1),s_("q1",e,i,t,n,!0),s_("q3",e,i,t,n,!0)]}function sL(e,t,n,i=64,o=!1){let r=e.expression.quantiles,a=e.px,s=e.samples,l=[];r.map((e,t)=>{for(let n=0;n<e;n++)l.push(t)});let c=Array.from(function(e,t={}){let n;let{adjust:i=1,pad:o=3,bins:r=512}=t,a=sv(t.x,e=>e),s=sv(t.weight,()=>1/e.length),l=t.bandwidth??i*function(e,t){let n=e.map(t).filter(e=>null!=e&&e>=e);n.sort((e,t)=>e-t);let i=function(e){let t;let n=e.length,i=0,o=0,r=0;for(let a=0;a<n;++a){let n=e[a];t=n-o,o+=t/++i,r+=t*(n-o)}return i>1?Math.sqrt(r/(i-1)):NaN}(n),o=sw(n,.25);return 1.06*(Math.min(i,(sw(n,.75)-o)/1.34)||i||Math.abs(o)||1)*Math.pow(n.length,-.2)}(e,a),[c,d]=t.extent??function(e,t,n=0){let i,o;let r=e.length;for(let n=0;n<r;++n){let r=t(e[n],n,e);null!=r&&(void 0===i?r>=r&&(i=o=r):(r<i&&(i=r),r>o&&(o=r)))}return[i-n,o+n]}(e,a,o*l),u=function(e,t,n,i,o,r){let a=new Float64Array(r),s=(r-1)/(o-i);for(let o=0;o<e.length;++o){let l=e[o],c=t(l,o,e),d=n(l,o,e);if(!(Number.isFinite(c)&&Number.isFinite(d)))continue;let u=(c-i)*s,h=Math.floor(u),f=h+1;0<=h&&f<r?(a[h]+=(f-u)*d,a[f]+=(u-h)*d):-1===h?a[f]+=(u-h)*d:f===r&&(a[h]+=(f-u)*d)}return a}(e,a,s,c,d,r),h=(d-c)/(r-1),f=u.some(e=>e<0),p=sx(l/h,f);function*m(e="x",t="y"){let n=g.grid(),i=1/h;for(let o=0;o<r;++o)yield{[e]:c+o*h,[t]:n[o]*i}}let g={[Symbol.iterator]:m,points:m,grid:()=>n||(n=function(e,t,n,i=1,o=new Float64Array(n),r=new Float64Array(n),a=new Float64Array(5),s=o,l=function(e,t,n,i,o,r,a,s,l,c){let d,u,h;let f=Math.abs(i)*n,p=i<0?f+i:0;for(u=0;u<s;++u)for(h=1,c[u]=u<=r?o[u]:0;h<=s&&h<=u;++h)c[u]-=a[h]*c[u-h];for(h=0;h<s;++h)for(e[h]=0,u=1;u<=h;++u)(d=p+i*u)>=0&&d<f&&(e[h]+=c[h-u]*t[d]);let m=t[p];if(m>0)for(h=0;h<s;++h)e[h]+=c[h]*m}){let c,d;let u=2*i,h=3*i,f=4*i,p=i*n;for(l(o,t,n,i,e.b_causal,3,e.a,4,e.sum_causal,a,e.sigma),d=4,c=f;d<n;++d,c+=i)o[d]=e.b_causal[0]*t[c]+e.b_causal[1]*t[c-i]+e.b_causal[2]*t[c-u]+e.b_causal[3]*t[c-h]-e.a[1]*o[d-1]-e.a[2]*o[d-2]-e.a[3]*o[d-3]-e.a[4]*o[d-4];for(l(r,t,n,-i,e.b_anticausal,4,e.a,4,e.sum_anticausal,a,e.sigma),d=4,c=p-5*i;d<n;++d,c-=i)r[d]=e.b_anticausal[1]*t[c+i]+e.b_anticausal[2]*t[c+u]+e.b_anticausal[3]*t[c+h]+e.b_anticausal[4]*t[c+f]-e.a[1]*r[d-1]-e.a[2]*r[d-2]-e.a[3]*r[d-3]-e.a[4]*r[d-4];if(e.negative)for(d=0,c=0;d<n;++d,c+=i)s[c]=o[d]+r[n-d-1];else for(d=0,c=0;d<n;++d,c+=i)s[c]=Math.max(0,o[d]+r[n-d-1]);return s}(p,u,r)),extent:()=>[c,d],bandwidth(e){return arguments.length?(e!==l&&(n=null,p=sx((l=e)/h,f)),g):l}};return g}(l,{bins:i,bandwidth:s>=70?.7:1.5})).filter(e=>0<=e.x&&e.x<=10);if(0===c.length)return"";let d=Math.max(...c.map(e=>e.y)),u=c[0].x,h=c.slice(-1)[0].x,f=(("maxRaw"in a?a.maxRaw:a.max)-a.min)/(h-u),p=n+t,m=0,g=c.map((e,t)=>{let i=(e.x-u)*f+a.min;o&&i>48&&(i=48);let r=n*(e.y/d);return t>0&&["q1","median","q3"].forEach(e=>{let t=a[e];m<t&&t<=i&&(a[e+"Height"]=r)}),m=i,`${i},${p-r}`}),y=a.max,b=a.min;o&&(a.max>48&&(y=48),a.min>48&&(b=48)),g.push(y+","+p),g.push(b+","+p);let v=g[0];return g.push(v),[g.join(" "),a]}function sT(e,t,n,i,o,r=64){let[a,s]=sL(e,t,n,r),l=`fill="${i}" stroke="${o}" points="${a}" class="tissue-curve" data-tissue-curve="${e.tissue}"`;return[`<polyline ${l} />`,s]}function sk(e,t,n){let i;let o=function(e,t,n,i){let o=function(e){let t=`https://www.gtexportal.org/home/gene/${e}`,n=`<a href="${t}" class="_ideoGtexLink" target="_blank">GTEx</a>`;return`<i>Full detail: ${n}</i>`}(e);if(n.length<=3)return`<br/>${o}<br/><br/>`;let r=`<span style="margin: 0 6px; color: #CCC;">|</span>${o}`,a=i.showTissuesMore?"More...":"Less...",s=`left: ${i.showTissuesMore?-50:1}px;`,l=`style="position: relative; ${s} top: -1px; font-size: 12px"`;return`<div ${l}><a class="_ideoMoreOrLessTissue" style="cursor: pointer;px;">${a}</a>${i.showTissuesMore?"":r}</div>`}(e,0,t=sC(t,48,!0,0),n),r=n.showTissuesMore?3:10,a=t.slice(0,r).map((t,n)=>{let o;i=1+14*n;let r=(o=t.tissue.replace(/_/g," ").toLowerCase(),["ba24","ba9","basal ganglia","omentum","suprapubic","lower leg","cervical c-1"].forEach(e=>o=o.replace(e,"("+e+")")),["ba24","ba9","ebv"].forEach(e=>{o=o.replace(e,e.toUpperCase())}),["adipose","artery","brain","breast","cells","cervix","colon","heart","kidney","muscle","nerve","skin","small intestine"].forEach(e=>{o=o.replace(e,e+" -")}),o=(o=o.replace("basal ganglia","BG"))[0].toUpperCase()+o.slice(1)),a=`#${t.color}`,s=eB(a,.85),[l,c]=sT(t,i,12,a,s),[d]=sS(c,i,12,a),u=`data-tissue="${t.tissue}"`,h=`height="14" width="48px" fill="#FFF" opacity="0" x="0" y="${i}" data-gene="${e}" `+u,f=`y="${i+12}" style="font-size: 12px;" x="58" `+u;return`<g data-group-tissue="${t.tissue}"><text ${f}>${r}</text>`+l+d+`<rect ${h} class="_ideoExpressionTrace" />`+"</g>"}).join(""),s='style="margin-bottom: 30px;"';return e in Ideogram.geneStructureCache||(s='style="margin-bottom: 10px;"'),`<div class="_ideoTissuePlotContainer" ${s}><div class="_ideoTissueExpressionPlot" style="margin-top: 15px; margin-bottom: -15px;">
        <div class="_ideoTissuePlotTitle" style="margin-bottom: 4px;">Reference expression by tissue</div>
        <svg width="275" height="${i+12+2}" style="position: relative; left: 10px">${a}</svg>
        ${o}
      </div></div>`}function sE(e,t){let n=e.getAttribute("data-tissue");document.querySelector(`text[data-tissue="${n}"]`).setAttribute("fill",t)}function s$(e,t,n=!1){let i=e.getAttribute("data-gene"),o=n?null:e.getAttribute("data-tissue"),r=t.showTissuesMore?3:10,a=Ideogram.tissueExpressionsByGene[i];(a=sC(a,48,!0,0,o).slice(0,r)).forEach((e,t)=>{let i=e.tissue,o=a.find(e=>e.tissue===i),r=1+14*t,s=!n,[l,c]=sL(o,r,12,64,s);a[t].points=l;let d=sA(c,"median",r,12,s);a[t].medianLine=d}),ep.select("._ideoTissueExpressionPlot").selectAll("polyline").data(a).transition().duration(500).attr("points",(e,t)=>a[t].points),ep.select("._ideoTissueExpressionPlot").selectAll("._ideoExpressionMedian").data(a).attr("style",(e,t)=>a[t].medianLine.style).transition().duration(500).attr("x1",(e,t)=>a[t].medianLine.x).attr("x2",(e,t)=>a[t].medianLine.x).attr("y1",(e,t)=>a[t].medianLine.y1).attr("y2",(e,t)=>a[t].medianLine.y2).attr("style",(e,t)=>a[t].medianLine.endStyle)}async function sI(e,t){let n={},i={},o=t.config.organism.replace(/-/g," "),r=e.name.toUpperCase(),a={result:[]};if(Ideogram.interactionCache)r in Ideogram.interactionCache&&(a=Ideogram.interactionCache[r]);else{let e=`https://cdn.jsdelivr.net/npm/ixn2/${r}.json.gz`,t=await fetch(e);if(t.ok){let e=await t.blob();a=JSON.parse(tN(tD(new Uint8Array(await e.arrayBuffer()))))}}a.result.forEach(r=>{if(r.species.toLowerCase()===o){var a;let o=r.fields.right.values,s=r.fields.left.values,l=o.concat(s),c=r.name,d=r.id;(a=l.map(e=>({name:e,color:""})),t&&(a=io(a,t)),a.sort((e,t)=>e.rank-t.rank)).map(e=>e.name).forEach(t=>{var o,r,a,s,l;let u,h=t.toLowerCase();if(h.includes(e.name.toLowerCase()))return;let f=c+d+h;if(o=h,r=e,a=f,s=i,l=0,"geneCache"in Ideogram&&r.name?u=o.toLowerCase()in Ideogram.geneCache.nameCaseMap:u=""!==o&&!o.includes(" ")&&!o.includes("/")&&o.toLowerCase()!==r.name.toLowerCase(),u&&!(a in s)){i[f]=1;let e={name:c,pathwayId:d};h in n?n[h].push(e):n[h]=[e]}})}});let s=Object.entries(n).length,l={};if(s>20){let e=Ideogram.geneCache.interestingNames.map(e=>e.toLowerCase());Object.keys(n).map(t=>{let n=1e10;return e.includes(t)&&(n=e.indexOf(t)+1),[t,n]}).filter(([e,t])=>e in n).sort((e,t)=>e[1]-t[1]).slice(0,20).forEach(([e,t])=>l[e]=n[e])}else l=n;return l}async function sP(e){let t=await fetch("https://mygene.info/v3/query"+e+"&size=400");return await t.json()}function sM(e){let t=e.name,n=e.genomic_pos.ensemblgene,i=n;return void 0===n&&(i=e.genomic_pos.filter(e=>!e.chr.includes("_"))[0].ensemblgene),{name:t,ensemblId:i}}function sD(e,t){let n=t.organismScientificName;throw Error(`"${e}" is not a known gene in ${n}`)}function sF(e,t){if(!Ideogram.synonymCache)return null;let n=e.toLowerCase();if(!Ideogram.synonymCache?.nameCaseMap){let e={};for(let t in Ideogram.synonymCache.byGene){let n=Ideogram.synonymCache.byGene[t];e[t.toLowerCase()]=n.map(e=>e.toLowerCase())}Ideogram.synonymCache.nameCaseMap=e}let i=Ideogram.synonymCache.nameCaseMap;for(let e in i)if(i[e].includes(n))return Ideogram.geneCache.nameCaseMap[e];return null}async function sB(e,t,n,i){let o=sN[e];if(o>t)throw TypeError("Failed to fetch from Ideogram third-party service for: "+e);sN[e]+=1;let r=Math.round(500+10*Math.random())*o**2;return console.log(`Failed fetch for ${e} ${o} times, retrying in ${r} ms`),await new Promise(e=>setTimeout(e,r)),await n(...i)}let sN={genes:0};async function sO(e,t,n){let i;"string"==typeof e&&(e=[e]);let o=e.map(e=>`${t}:${e.trim()}`).join(" OR "),r=n.config.taxid,a=`?q=${o}&species=${r}&fields=`;if(Ideogram.geneCache){let o=function(e,t,n){let i=Ideogram.geneCache,o="symbol"===t,r=o?i.lociByName:i.lociById,a=o?i.idsByName:i.namesById,s=/ENS[A-Z]{0,3}G\d{11}/;return e.map(e=>{let t=!1,l=null;s.test(e)&&(e=e.split(".")[0]);let c=e in i.namesById;if(c&&o)e=i.namesById[e];else{let a=e.toLowerCase();if(!r[e]&&!i.nameCaseMap[a]&&!sF(e,n)){if(!o)return;sD(e,n)}o&&!r[e]&&(i.nameCaseMap[a]?e=i.nameCaseMap[a]:(e=sF(l=e,n),t=!0))}let d=r[e],u=o?e:a[e],h=o?a[e]:e;return{symbol:u,name:i.fullNamesById[h],source:"cache",genomic_pos:{chr:d[0],start:d[1],end:d[2],ensemblgene:h},isSynonym:t,isIdentifier:c,synonym:l}}).filter(e=>void 0!==e)}(e,t,n);o.forEach(e=>{let t=e.symbol,i=e.name,o=e.isSynonym,r=e.synonym;t in n.annotDescriptions.annots?(n.annotDescriptions.annots[t].name=i,n.annotDescriptions.annots[t].isSynonym=e.isSynonym,n.annotDescriptions.annots[t].synonym=e.synonym):n.annotDescriptions.annots[t]={name:i,isSynonym:o,synonym:r}}),i={hits:o,fromGeneCache:!0}}else{let o=`${a}symbol,genomic_pos,name`;try{i=await sP(o)}catch(o){"Failed to fetch"===o.message&&navigator.onLine&&(i=await sB("genes",3,sO,[e,t,n]))}}return i}async function sR(e,t,n){let i=[],o=Object.keys(e);return 0===o.length||((await sO(o,"symbol",n)).hits.forEach(o=>{if("genomic_pos"in o==!1||o.symbol===t.name)return;let r=sz(o,n,"purple");i.push(r);let a=e[o.symbol.toLowerCase()];sK(r,function(e,t,n){let i=[],o=[],r="";if(void 0!==t){let e=t.map(e=>{e.pathwayId,i.push(e.pathwayId),o.push(e.name);let t=`class="ideo-pathway-link" style="cursor: pointer" title="View pathway diagram from WikiPathways" data-pathway-id="${e.pathwayId}"`;return`<a ${t}>${e.name}</a>`});e=e.join("<br/>"),r=`Interacts with ${n.name} in:<br/>${e}`}let{name:a,ensemblId:s}=sM(e);return{description:r,ixnsDescription:r,ensemblId:s,name:a,type:"interacting gene",pathwayIds:i,pathwayNames:o}}(o,a,t),n)}),function(e){let t={};Object.entries(e.annotDescriptions.annots).forEach(([e,n])=>{"type"in n&&n.type.includes("interacting gene")&&(t[e]=n.pathwayIds)});let n={};Object.entries(t).forEach(([e,t])=>{n[e]={},t.map(async t=>{let i=await sb(t);n[e][t]=i})}),e.gpmlsByInteractingGene=n}(n)),i}async function sW(e,t,n){let i=[],o=e.length&&"string"==typeof e[0];console.log("cached",o);let r=o?e:e.map(e=>e.id);return(await sO(r,"ensemblgene",n)).hits.forEach(e=>{if("genomic_pos"in e==!1||"name"in e==!1)return;let o=sz(e,n,"pink");i.push(o);let r=Ideogram.tissueCache?"":`Paralog of ${t.name}`,{name:a,ensemblId:s}=sM(e);sK(o,{description:r,ensemblId:s,name:a,type:"paralogous gene"},n)}),i}function sH(e,t){e=sY(e,t),t.drawAnnots(e,"overlay",!0,!0),sV(t)}function sG(e,t){if(!t.config.showParalogNeighborhoods)return;if(t.neighborhoodAnnots?.length>0){t.neighborhoodAnnots.forEach(e=>{t.annotDescriptions.annots[e.name]=e}),sH(t.neighborhoodAnnots,t);return}let n=t.relatedAnnots[0];if((e=sY(e,t)).unshift(n),e.length<2)return;let i={};i[e[0].chr]={},i[e[0].chr][e[0].start]=[e[0]];for(let t=1;t<e.length;t++){let n=e[t],o=n.chr,r=n.start;if(o in i){let e=Object.keys(i[o]);for(let t=0;t<e.length;t++){let a=parseInt(e[t]);2e6>Math.abs(r-a)?i[o][a].push(n):i[o][r]=[n]}}else i[o]={},i[o][r]=[n]}let o=n.name,r=Object.entries(i).map(([e,i],r)=>{let a=parseInt(Object.keys(i)[0]),s=Object.values(i)[0];if(s.length<2)return{paralogs:s};let l=!1;s[0].name===n.name&&(s=s.slice(1),l=!0);let c="paralog"+(s.length>1?"s":""),d=`${s.length} nearby ${c} of ${o}`,u=t.chromosomes[t.config.taxid][e].bpLength,h=a-75e5,f=a+75e5;f>u?(h=a-15e6,f=u):h<1&&(h=1,f=15e6),"geneCache"in Ideogram&&(s=s.map(e=>{e.fullName=Ideogram.geneCache.fullNamesById[e.id];let t=Ideogram.geneCache.interestingNames;return t.includes(e.name)?e.rank=t.indexOf(e.name)+1:e.rank=1e10,e}));let p=a.toLocaleString(),m=`chr${e}:${p} \xb1 2 Mbp`,g={name:"paralogNeighborhood-"+r,chr:e,start:h,stop:f,color:"pink",description:d,paralogs:s,type:"paralog neighborhood",displayCoordinates:m,includesSearched:l};return t.annotDescriptions.annots[g.name]=g,g}).filter(e=>e.paralogs.length>1||e.includesSearched);t.neighborhoodAnnots=r,r.length>0&&sH(r,t)}async function sj(e,t){let n;let i=t.config.taxid;if(Ideogram.paralogCache){let t=Ideogram.paralogCache.paralogsByName,i=e.name.toUpperCase();n=i in t?t[i]:[]}else{let o=`&format=condensed&type=paralogues&target_taxon=${i}`,r=t.config.organism.replace("-","_"),a=`/homology/id/${r}/${e.id}?${o}`;n=(await Ideogram.fetchEnsembl(a)).data[0].homologies}return(await sW(n,e,t)).filter(e=>!e.name.match(/^AC[0-9.]+$/))}function sq(e,t){return Array.isArray(e.genomic_pos)?e.genomic_pos.filter(e=>e.chr in t.chromosomes[t.config.taxid])[0]:e.genomic_pos}function sz(e,t,n="red"){let i=sq(e,t);return{name:e.symbol,chr:i.chr,start:i.start,stop:i.end,id:i.ensemblgene,color:n}}function sU(e){let t;let n=e.innerText.toLowerCase();return n.includes("interacting")&&(t="interacting"),n.includes("paralogous")&&(t="paralogous"),n.includes("searched")&&(t="searched"),t}function sV(e,t=0){let n=document.querySelector("#_ideogramInnerWrap"),i=s9({}).legendPad,o=`position: absolute; top: 15px; left: ${i+20+t}px`,r=document.querySelector("#_ideogramLegend");n.prepend(r),r.style=o,function(e){function t(t){(function(e,t){e.classList+=" active";let n={interacting:"purple",paralogous:"pink",searched:"red"}[sU(e)];if(t.config.showAnnotLabels){t.clearAnnotLabels(),t.flattenAnnots().forEach(e=>{e.color!==n&&(document.getElementById(e.domId).style.display="none")});let e=t.flattenAnnots().sort((e,n)=>t.annotSortFunction(e,n)).filter(e=>e.color===n),i=Math.min(e.length,20);t.fillAnnotLabels(e,i)}})(t.target,e),e.onHoverLegendCallback&&e.onHoverLegendCallback()}function n(){!function(e){if(document.querySelectorAll("#_ideogramLegend li").forEach(e=>{e.classList.remove("active")}),e.flattenAnnots().forEach(e=>{document.getElementById(e.domId).style.display=null}),e.config.showAnnotLabels){let t=e.flattenAnnots().sort((t,n)=>e.annotSortFunction(t,n));e.fillAnnotLabels(t)}}(e)}document.querySelectorAll("#_ideogramLegend li._ideoLegendEntry").forEach(e=>{e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n);let i=sU(e),o=`data-tippy-content="${{interacting:"Adjacent to searched gene in a biochemical pathway, per WikiPathways",paralogous:"Evolutionarily related to searched gene by a duplication event, per Ensembl"}[i]}" `,r=`class="_ideoLegendEntry" style="position: inherit; left: inherit" ${o}`;"paralogous"===i?e.innerHTML=`<span ${r}>Paralogous genes</span>`:"interacting"===i&&(e.innerHTML=`<span ${r}>Interacting genes</span>`)});let i=`<style>
    ${rQ}

    .tippy-box {
      font-size: 12px;
    }

    .tippy-content {
      padding: 3px 7px;
    }

    #_ideogramLegend li {
      padding-left: 5px;
      border-radius: 2px;
    }

    #_ideogramLegend li.active {
      color: #00C;
      background-color: #EEF;
    }
    </style>`;document.querySelector("#_ideogramLegend").insertAdjacentHTML("afterBegin",i);let o=eN();o.maxWidth=180,o.offset=[-30,10],e.legendTippy=rJ("._ideoLegendEntry[data-tippy-content]",o)}(e)}function sY(e,t){if("all"===t.config.annotsInList)return e;let n=[];return e.forEach(e=>{t.config.annotsInList.includes(e.name.toLowerCase())&&n.push(e)}),n}function sX(e,t){var n,i,o,r;if("name"in e?(e.name,t.name,o=e.color,r=t.color):([n,o]=[e[0],e[3]],[i,r]=[t[0],t[3]]),"initRank"in e==!1){if("red"===o)return -1;if("red"===r)return 1;if("purple"===o&&"pink"===r)return -1;if("purple"===r&&"pink"===o)return 1}return e.rank-t.rank}function sK(e,t,n){let i;let o=n.annotDescriptions.annots;if(e.name in o){let n=o[e.name];if(i=t,t.type===n.type)return;Object.keys(n).forEach(function(e){e in i==!1&&(i[e]=n[e])}),"type"in n&&!Ideogram.tissueCache&&(i.type+=", "+n.type,i.description+=`<br/><br/>${n.description}`)}else i=t;n.annotDescriptions.annots[e.name]=i}function sJ(){return Ideogram.tissueCache&&Object.keys(Ideogram.tissueCache).length>0}async function sQ(e,t){if(!sJ()){!function e(t,n,i){setTimeout(()=>{i<40&&(sJ()?sQ(t,n):e(t,n,i+1))},50)}(e,t,0);return}let n={},i=Ideogram.tissueCache,o=[];e.forEach(async e=>{let r=new Promise(async o=>{let r=await i.getTissueExpressions(e,t);n[e]=r,o()});o.push(r)}),await Promise.all(o),Ideogram.tissueExpressionsByGene=n}function sZ(e,t){var n;let i=t.relatedAnnots;if(i.length>1&&t.onFindGenesCallback&&t.onFindGenesCallback(),n=sY(n=i=function(e){let t={},n=[];return e.forEach(e=>{e.name in t==!1?(n.push(e),t[e.name]=1):"purple"===e.color&&(n=n.map(t=>e.name===t.name?e:t))}),n}(i),t),t.drawAnnots(n),t.config.showAnnotLabels){let e=t.flattenAnnots().sort((e,n)=>t.annotSortFunction(e,n));t.fillAnnotLabels(e)}sV(t),function(e,t){if("pathway"===e)return;let n=t.getRelatedGenesByType(),i={paralogous:"interacting",interacting:"paralogous"}[e],o=n[e].length,r=n[i]?n[i].length:0;if(t._didRelatedGenesFirstPlot){if(o>0&&r>0){let e=t.time.rg.timestampFirstPlot;t.time.rg.totalLastPlotDiff=ae(e)}else o>0&&0===r?(t.time.rg.timestampFirstPlot=performance.now(),t.time.rg.totalFirstPlot=ae(t.time.rg.t0),t._relatedGenesFirstPlotType=e):0===o&&r>0||(t._relatedGenesFirstPlotType="searched"),t.time.rg.totalLastPlotDiff=0}else t._didRelatedGenesFirstPlot=!0,t.time.rg.totalFirstPlot=ae(t.time.rg.t0),o>0&&(t.time.rg.timestampFirstPlot=performance.now(),t._relatedGenesFirstPlotType=e)}(e,t)}async function s0(e,t){let n=performance.now(),i=await sO(e,"symbol",t);if(0===i.hits.length)return;let o=i.hits.find(e=>{let n=sq(e,t);return n&&n.ensemblgene}),r={description:"",ensemblId:o.genomic_pos.ensemblgene,type:"searched gene"};o.symbol in t.annotDescriptions.annots?r=Object.assign(t.annotDescriptions.annots[o.symbol],r):r.name=o.name,t.annotDescriptions.annots[o.symbol]=r;let a=sz(o,t);return t.relatedAnnots.push(a),t.time.rg.searchedGene=ae(n),a}function s1(e){var t=document.querySelector(e.config.container);t.style.visibility="",t.style.position="absolute",t.style.width="100%";var n=document.querySelector("#_ideogramInnerWrap");n.style.position="relative",n.style.marginLeft="auto",n.style.marginRight="auto",n.style.overflowY="hidden",document.querySelector("#_ideogramMiddleWrap").style.overflowY="hidden";let i=e.config.legendPad;if(void 0===e.didAdjustIdeogramLegend){var o=document.querySelector("#_ideogram");n.style.maxWidth=parseInt(n.style.maxWidth)+160+i+"px",o.style.minWidth=parseInt(o.style.minWidth)+i+"px",o.style.maxWidth=parseInt(o.style.minWidth)+i+"px",o.style.position="relative",o.style.left="160px",e.didAdjustIdeogramLegend=!0}}async function s2(e=null){var t,n;if(!e)return lt(this);this.clearAnnotLabels();let i=document.querySelector("#_ideogramLegend");i&&i.remove(),this.config=s9(this.config),function(e,t){let n=e.getScientificName(e.config.taxid),i=Ideogram.version,o=`# ${t}
# Organism: ${n}
# Generated by Ideogram.js version ${i}, https://github.com/eweitz/ideogram
# Generated at ${window.location.href}`;delete e.annotDescriptions,e.annotDescriptions={headers:o,annots:{}}}(this,`Related genes for ${e}`);let o=this.selector;document.querySelectorAll(o+" .annot").forEach(e=>e.remove()),this.startHideAnnotTooltipTimeout(),document.querySelectorAll(".chromosome").forEach(e=>{e.style.cursor=""}),s1(this),this.relatedAnnots=[],this.neighborhoodAnnots=[];let r=await s0(e,this);void 0===r&&sD(e,this),this.config.legend=s6,nV(this),sV(this),await Promise.all([(t=this,new Promise(async e=>{let n=performance.now(),i=await sI(r,t),o=await sR(i,r,t);t.relatedAnnots.push(...o),sZ("interacting",t),t.time.rg.interactions=ae(n),sG(o,t),e()})),(n=this,new Promise(async e=>{let t=performance.now(),i=await sj(r,n);n.relatedAnnots.push(...i),sZ("paralogous",n),sG(i,n),n.time.rg.paralogs=ae(t),e()}))]),this.time.rg.total=ae(this.time.rg.t0),function(e){let t=ai(e),n=e.time.rg.total,i=e.time.rg.totalFirstPlot,o=e.time.rg.totalLastPlotDiff,r=e.time.rg.paralogs,a=e.time.rg.interactions,s=e.time.rg.searchedGene,l=Object.assign({firstPlotType:e._relatedGenesFirstPlotType,timeTotal:n,timeTotalFirstPlot:i,timeTotalLastPlotDiff:o,timeSearchedGene:s,timeInteractingGenes:a,timeParalogs:r},t);e.relatedGenesAnalytics=l}(this),this.onPlotFoundGenesCallback&&this.onPlotFoundGenesCallback()}function s5(e){return Object.entries(e.annotDescriptions.annots).find(([e,t])=>"searched gene"===t.type)[0]}async function s3(e){if(e.name===this.prevClickedAnnot?.name&&e.name===this.prevShownAnnot?.name&&!this.hasShownAnnotSinceClick&&this.isTooltipCooling)return this.prevShownAnnot=e,null;this.prevShownAnnot=e,this.hasShownAnnotSinceClick=!0;let t=this.annotDescriptions.annots[e.name];"related"===this.config.relatedGenesMode&&(t=function(e,t,n){if("type"in t&&t.type.includes("interacting gene")){let i=t.pathwayIds,o=s5(n),r=n.gpmlsByInteractingGene[e.name],a=function(e,t,n,i){let o=null;if(!navigator.onLine)return"Interacts with";let r=function(e,t,n,i){let o={};return n.map(n=>{let r=function(e,t,n){if(void 0===n||""===n)return[];let[i,o]=sy(n,t),[r,a]=sy(n,e),s={searchedGene:o,interactingGene:a},l=i.concat(r),c={searchedGeneGraphIds:i,matchingGraphIds:l},d=[];return Array.from(n.querySelectorAll("Interaction Graphics")).forEach(e=>{let t=function(e,t){let n=null,{searchedGeneGraphIds:i,matchingGraphIds:o}=t,r=[],a=0,s=!1,l=null,c=null;return Array.from(e.children).forEach(e=>{if("Point"!==e.nodeName)return;let t=e.getAttribute("GraphRef");if(null!==t&&o.includes(t)&&(a+=1,r.push(t),i.includes(t)&&(s=!0),e.getAttribute("ArrowHead"))){let n=e.getAttribute("ArrowHead"),o=i.includes(t);null===c&&(c=o?0:1);try{l=sm[n][o?0:1]}catch(e){}}}),a>=2&&s&&((null===c||null===l)&&(l="interacts with"),l=l[0].toUpperCase()+l.slice(1),n={interactionId:e.parentNode.getAttribute("GraphId"),endIds:r,ixnType:l}),n}(e,c);null!==t&&(t.elements=s,d.push(t))}),d}(e,t,i[n]);o[n]=r}),o}(e,t,n,i),a=r[n[0]];if(a.length>0){let e={ixnsByPwid:r,isSameByPwid:{},isSame:null,isDirectionSameByPwid:{},isDirectionSame:null,directionsByPwid:{}};o=(e=function(e){let t=!0,n=e.ixnsByPwid,i=sg(n);return Object.entries(n).map(([n,o])=>{let{isRefMatch:r,thisIsSame:a}=function(e,t){let n=!0,i=!0;if(0===e.length)return{isRefMatch:n,thisIsSame:i};let o=e[0].ixnType.toLowerCase();return e.forEach(e=>{let r=e.ixnType.toLowerCase();r!==t&&(n=!1),r!==o&&(i=!1)}),{isRefMatch:n,thisIsSame:i}}(o,i);a&&r||(t=!1),e.isSameByPwid[n]=a}),e.isSame=t,e}(e)).isSame?a[0].ixnType:(e=function(e){let t=!0,n=[],i=[];Object.values(sm).forEach(e=>{i.push(e[0]),n.push(e[1])});let o="Acts on",r="Acted on by",a=e.ixnsByPwid,s=sg(a),l=i.includes(s)?o:r;return Object.entries(a).map(([n,a])=>{let s=!0;if(a.length>0){let c=a[0].ixnType.toLowerCase(),d=i.includes(c)?o:r;a.forEach(a=>{let c=a.ixnType.toLowerCase(),u=i.includes(c)?o:r;e.directionsByPwid[n]=u,u!==l&&(t=!1),u!==d&&(s=!1)})}e.isDirectionSameByPwid[n]=s}),e.isDirectionSame=t,!0===t&&(e.direction=l),e}(e)).isDirectionSame?e.direction:"Interacts with"}return o}(e.name,o,i,r);null!==a&&(t.description=t.description.replace("Interacts with",a))}return t}(e,t,this));let n=t.description.length>0?`<br/>${t.description}`:"",i=t.name,o="color: #0366d6; cursor: pointer;",r=i;if("rank"in e){let t="Ranked "+e.rank+" in general or scholarly interest";r=`<span title="${t}">${i}</span>`}let a="";if(t?.isSynonym){let e=t.synonym;a=`<div style="font-style: italic">Synonym: ${e}</div>`}let s=e.name.includes("paralogNeighborhood"),l=await sp(e,this,s),c=function(e,t){if(!Ideogram.tissueCache||!(e.name in Ideogram.tissueCache.byteRangesByName))return"<br/>";void 0===t.showTissuesMore&&(t.showTissuesMore=!0);let n=e.name,i=Ideogram.tissueExpressionsByGene[n];if(i)return sk(n,i,t)}(e,this),d=`<span id="_ideoGeneSymbolAndFullName">
      <span id="ideo-related-gene" style="${o}">${e.name}</span><br/>${r}<br/>
    </span>`+a+n+c+l;return s&&([e,d]=function(e,t,n){let i=t.paralogs.sort((e,t)=>e.rank-t.rank),o="Paralog neighborhood<br/><br/>"+t.description+":<br/>"+`${i.map(e=>{let t="";if(e.fullName&&(t=e.fullName),e.rank){let n=e.rank;t+=` &#013;Ranked ${n} in general or scholarly interest`}return""!==t&&(t=`title="${t}"`),`<span class="ideo-paralog-neighbor" ${t} style="${n}"'>${e.name}</span>`}).join("<br/>")}`+"<br/>";return e.displayCoordinates=t.displayCoordinates,[e,o]}(e,t,o)),e.displayName=d,e}let s8="triangle";function s4(e,t=null){let n=`<div style="font-size: 14px; font-weight: bold; font-color: #333;">${e}</div>`;return t&&(n=t),`
    <div style="position: relative; left: 30px;">
      ${n}
      <i>Click gene to search</i>
    </div>
  `}let s6=[{name:s4("Related genes"),nameHeight:50,rows:[{name:"Interacting gene",color:"purple",shape:s8},{name:"Paralogous gene",color:"pink",shape:s8},{name:"Searched gene",color:"red",shape:s8}]}];s4("Related genes");let s7=[{name:s4("Highly cited genes"),nameHeight:30,rows:[]}];function s9(e){return e.legendPad=e.showAnnotLabels?70:30,e}let le={chrWidth:9,chrHeight:100,chrLabelSize:12,annotationHeight:7,showFullyBanded:!1,rotatable:!1,legend:s6,chrBorderColor:"#333",chrLabelColor:"#333",onBeforeDrawAnnots:function(){!function(e){let t=[],n=e.chromosomesArray.map(e=>e.name);if("relatedAnnots"in e){e.relatedAnnots=sY(e.relatedAnnots,e);let t={};e.relatedAnnots=e.relatedAnnots.filter(e=>!(e.name in t)&&(t[e.name]=1,!0))}let i={};e.annots.forEach(t=>{let n=t.annots.sort((t,n)=>-e.annotSortFunction(t,n));i[t.chr]=n});let o={};Object.entries(i).forEach(([e,i])=>{o[e]={chr:e,annots:[]},i.forEach((t,i)=>{let r=n.indexOf(e);t.domId=n3(r,i),o[e].annots.push(t)}),t.push(o[e])}),e.annots=t}(this);let e=[],t=this.annots;for(let n=0;n<t.length;n++){let i=t[n].annots;for(let t=0;t<i.length;t++){let o=i[t];if(e.push(o.name),this.config.colorMap&&o.differentialExpression?.length){let e=this.config.colorMap,i=o.differentialExpression[0].group;o.color=e[i],this.annots[n].annots[t]=o}}}sQ(e,this.config)},onWillShowAnnotTooltip:s3,onDidShowAnnotTooltip:function(){var e,t;Ideogram.tissueCache&&function(){let e=document.querySelector("._ideogramTooltip"),t=e.getBoundingClientRect().top,n=document.querySelector("#_ideogram").getBoundingClientRect().top;t>n&&(e.style.top=n+"px")}(),function(e){let t=document.querySelector("._ideogramTooltip");e.addedTooltipClickHandler||(t.addEventListener("click",t=>{var n,i;if(["input","label"].includes(t.target.localName))return;let o=document.querySelector("#ideo-related-gene");o||(o=t.target);let r=(n=o.textContent,e.annots.forEach(e=>{e.annots.forEach(e=>{n===e.name&&(i=e)})}),null===i&&(i=e.annotDescriptions.annots[n]),i);e.onClickAnnot(r)}),e.addedTooltipClickHandler=!0)}(this),t=this,null!==a5(t)&&(function(e){document.addEventListener("keydown",a3);let t=document.querySelector("._ideoGeneStructureContainer"),n=document.querySelector("._ideoSpliceToggle");t&&n.addEventListener("change",async t=>{sl(e),sn(e),t.stopPropagation()})}(t),sn(t),document.querySelector("._ideoGeneStructureContainer").addEventListener("click",async e=>{"_ideoGeneStructureMenu"===e.target.id&&e.stopPropagation();let n=e.target;if("svg"===n.parentElement.tagName&&(n=n.parentElement),Array.from(n.classList).includes("_ideoMenuArrow")){let i=n.getAttribute("data-dir");await a1(t,"down"===i?1:-1),e.stopPropagation()}}),function(e){let t=a5(e)[0].strand;if("+"===t)return;let n=document.querySelector("._ideoTooltipFooter");n.innerText=n.innerText.replace(")",`, ${t})`)}(t),so(t)),function e(t){let n=document.querySelector("._ideoMoreOrLessTissue");n&&n.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),t.showTissuesMore=!t.showTissuesMore,function(t){let n=document.querySelector("._ideoTissueExpressionPlot").parentElement,i=document.querySelector("#ideo-related-gene").innerText,o=Ideogram.tissueExpressionsByGene[i],r=sk(i,o,t);n.innerHTML=r,e(t)}(t)});let i=document.querySelectorAll("._ideoExpressionTrace");i.forEach(e=>{e.addEventListener("mouseenter",()=>{sE(e,"#338"),s$(e,t),function(e,t){let n;let i=e.getAttribute("data-gene"),o=e.getAttribute("data-tissue"),r=Ideogram.tissueExpressionsByGene[i].find(e=>e.tissue===o);r=sC([r],225,!1,35)[0];let a=`#${r.color}`,s=eB(a,.85),[l,c]=sT(r,1,50,a,s,256),[d,u,h]=sS(c,0,50,a),f=function(e,t){let n=e.px.min,i=e.expression.min,o=e.px.max,r=e.expression.max,a=e.px.median,s=e.expression.median,l=o/2,c='stroke="#CCC" stroke-width="1px"',d={config:{weight:400,annotLabelSize:12}},u=eI("Max",d).width,h=eI(r,d).width,f=`x1="${o}" x2="${o}" y1="52" y2="60" ${c}`,p=`<line ${f} /><text x="${o-u/2}" y="71">Max.</text><text x="${o-h/2}" y="82">${r}</text>`,m=eI("Min",d).width,g=eI(i,d).width,y=n-m/2,b=n-g/2,v=n+m,x=`x1="${n}" x2="${n}" y1="52" y2="60" ${c}`,w=eI("Median",d).width,C=eI(s,d).width,A=`x1="${a}" x2="${a}" y1="52" y2="60" ${c}`,S=a-w/2,L=a-C/2;v>=S&&(S=a,L=a),v>=S&&(S+=1.5,L+=1.5,y=n-m-1.5,b=n-g-1.5);let T=`x="${l-40}" y="101"`,k=`x="${l-70}" y="114"`;return`<g><line ${x} /><text x="${y}" y="71" >Min.</text><text x="${b}" y="82" >${i}</text>`+p+`<line ${A} /><text x="${S}" y="71">Median</text><text x="${L}" y="82">${s}</text>`+`<text ${T}>Expression (TPM)</text>`+`<text ${k}>Samples: ${e.samples} | Source: GTEx</text>`+"</g>"}(r,0),p=document.querySelector("._ideoGeneStructureContainer"),m=document.querySelector("._ideoTooltipFooter");p?(n=p,p.style.display="none",m.style.display="none"):(n=m,document.querySelector("._ideoTissuePlotContainer").setAttribute("style","margin-bottom: 20px"));n.insertAdjacentHTML("beforebegin",'<div class="_ideoDistributionContainer" style="position: relative; height: 119.5px"<svg width="280px" height="119.5px" style="position: absolute; top: 2px; left: -5px;">'+f+l+d+u+h+"</svg></div>")}(e,0)}),e.addEventListener("mouseleave",()=>{sE(e,"#000"),s$(i[0],t,!0),function(){let e=document.querySelector("._ideoDistributionContainer");if(!e)return;e.remove();let t=document.querySelector("._ideoGeneStructureContainer");t&&(t.style.display=""),document.querySelector("._ideoTooltipFooter").style.display=""}(e,t)})})}(this),function(e){let t=document.querySelectorAll(".ideo-pathway-link");t.length>0&&!e.addedPathwayClickHandler&&t.forEach(t=>{t.addEventListener("click",function(t){let n=t.target.getAttribute("data-pathway-id");r9(n,s5(e),document.querySelector("#ideo-related-gene").textContent,void 0,void 0,void 0,function(e,t){return console.log("in geneNodeHoverFn"),"<div>ok "+t+"</div><div>1234</div>"},function(e,t){console.log("in pathwayNodeClickFn, pathwayNode",e.target),console.log("in pathwayNodeClickFn, pathwayId",t)}),t.stopPropagation()})})}(this),e=this,document.querySelectorAll("._ideoVariant").forEach(t=>{t.addEventListener("mouseover",t=>{aH(t,!1,e)}),t.addEventListener("click",n=>{aH(n,!0,e),n.stopPropagation(),t.removeEventListener("mouseout",aG)}),t.addEventListener("mouseout",aG)}),this.tissueTippy=rJ("._ideoGeneTissues[data-tippy-content]",eN())},showTools:!0,showAnnotLabels:!0,showGeneStructureInTooltip:!0,showProteinInTooltip:!0,showVariantInTooltip:!1,chrFillColor:{centromere:"#DAAAAA"}};function lt(){let e=this;if(!e||"annotDescriptions"in e)return;e.annotDescriptions={annots:{}},e.flattenAnnots().map(t=>{let n=[];"significance"in t&&"n/a"!==t.significance&&n.push(t.significance),"citations"in t&&void 0!==t.citations&&n.push(t.citations),n=n.join("<br/><br/>"),e.annotDescriptions.annots[t.name]={description:n,name:decodeURIComponent(t.fullName)}}),s1(e),sV(e,-60);let t=e.config.container;if(document.querySelector(t).style.visibility="",e.config.showAnnotLabels){let t=e.flattenAnnots().sort((t,n)=>e.annotSortFunction(t,n));e.fillAnnotLabels(t)}}function ln(e,t,n){if("all"!==n&&(n=n.map(e=>e.toLowerCase())),t.annotsInList=n,e.legendPad=e.showAnnotLabels?80:30,"onWillShowAnnotTooltip"in t){let n="onWillShowAnnotTooltip",i=t[n],o=e[n];e[n]=function(e){return e=o.bind(this)(e),e=i.bind(this)(e)},delete t[n]}if("onDidShowAnnotTooltip"in t){let n="onDidShowAnnotTooltip",i=t[n],o=e[n];e[n]=function(e){return e=o.bind(this)(e),e=i.bind(this)(e)},delete t[n]}if("onBeforeDrawAnnots"in t){let n="onBeforeDrawAnnots",i=t[n],o=e[n];e[n]=function(){o&&o.bind(this)(),i.bind(this)()},delete t[n]}if("onDrawAnnots"in t){let n="onDrawAnnots",i=t[n],o=e[n];e[n]=function(){o&&o.bind(this)(),i.bind(this)()},delete t[n]}let i=new Ideogram(Object.assign(e,t));return t.onFindGenes&&(i.onFindGenesCallback=t.onFindGenes),t.onPlotFoundGenes&&(i.onPlotFoundGenesCallback=t.onPlotFoundGenes),t.onHoverLegend&&(i.onHoverLegendCallback=t.onHoverLegend),i.getTooltipAnalytics=an,i.annotSortFunction=sX,i.time={rg:{t0:performance.now()}},"_didRelatedGenesFirstPlot"in i&&delete i._didRelatedGenesFirstPlot,i}class li{constructor(e){this.configure=eR,this.initDrawChromosomes=nl,this.onLoad=nd,this.handleRotateOnClick=nc,this.init=function e(t){var n,i=(t=t||this).config.container;nf[i]?(nh[i]=!0,nu[i]=t):(nf[i]=!0,(n=t,new Promise(function(e){var t=n.config.organism;"number"==typeof t?n.getOrganismFromEutils(t,function(){n.getTaxids(e)}):n.getTaxids(e)})).then(function(n){var o=n[0];t.config.taxid=o,t.config.taxids=n,t.organismScientificName=t.getScientificName(t.config.taxid),function(e,t,n){var i,o,r,a=[];for(r in i={},ef)i[r]="";for(o=0;o<e.length;o++)i=function(e,t,n){var i,o,r,a,s,l,c,d,u=n.config;s=n.organisms[e],u.assembly||(n.config.assembly="default"),l=s.assemblies,c=n.assemblyIsAccession()?u.assembly:l[u.assembly],o=[eT((i=n.organisms[e]).scientificName)],r=i.assemblies,a=n.config.resolution,c!==r.default&&o.push(c),"9606"===e&&""!==a&&850!==a&&o.push(a),o=o.join("-"),["9606","10090","10116"].includes(e)&&!n.config.showFullyBanded&&(o+="-no-bands"),d=o+=".json";var h="-1"===e;return(e in n.organismsWithBands||h)&&(t[e]=d),t}(r=String(e[o]),i,n),a.push(function(e,t,n,i){var o,r,a;return(o=ns(t,e,i),(void 0===window.chrBands||""!==na||na!==o)&&"assembly"in(r=i).config&&!1===/(GCA_)/.test(r.config.assembly)&&e in t)?(a=ns(t,e,i),i.numBandDataResponses||(i.numBandDataResponses=0),ey(a).then(function(e){return e.json().then(function(n){na=a,delete window.chrBands,window.chrBands=n.chrBands,function(e,t,n,i){var o,r,a;for(o in t)a=t[o],e.includes(a)&&""!==a&&(r=o);i.bandData[r]=n}(e.url,t,chrBands,i)})})).then(function(){return i.processBandData(e)}):new Promise(function(t){i.processBandData(e),t([e,void 0])})}(r,i,0,n));Promise.all(a).then(function(e){var i,r,a;for(o=0;o<e.length;o++)r=(i=e[o])[0],a=i[1],"bandsArray"in n==!1&&(n.bandsArray={}),n.bandsArray[r]=a;n.writeContainer(t)})}(n,new Date().getTime(),t),nf[i]=!1,nh[i]&&(nh[i]=!1,e(nu[i]))}))},this.finishInit=t8,this.writeContainer=nr,this.onLoadAnnots=nS,this.onDrawAnnots=nL,this.processAnnotData=n8,this.restoreDefaultTracks=n0,this.updateDisplayedTracks=n1,this.initAnnotSettings=n7,this.fetchAnnots=it,this.drawAnnots=nY,this.getHistogramBars=nj,this.drawHeatmaps=nA,this.deserializeAnnotsForHeatmap=n_,this.fillAnnots=ii,this.drawProcessedAnnots=nX,this.drawSynteny=nZ,this.startHideAnnotTooltipTimeout=nk,this.showAnnotTooltip=nP,this.onWillShowAnnotTooltip=nE,this.onDidShowAnnotTooltip=n$,this.onClickAnnot=nI,this.setOriginalTrackIndexes=n2,this.afterRawAnnots=n9,this.downloadAnnotations=n6,this.addAnnotLabel=nR,this.removeAnnotLabel=nH,this.fillAnnotLabels=nW,this.clearAnnotLabels=nG,this.flattenAnnots=ie,this.highlight=ir,this.unhighlight=ia,this.esearch=ic,this.esummary=id,this.elink=iu,this.getOrganismFromEutils=ih,this.getTaxids=ip,this.getAssemblyAndChromosomesFromEutils=im,this.drawBandLabels=iw,this.getBandColorGradients=iC,this.processBandData=iA,this.setBandsToShow=ib,this.hideUnshownBandLabels=ig,this.drawBandLabelText=iv,this.drawBandLabelStalk=ix,this.onBrushMove=i_,this.onBrushEnd=iS,this.createBrush=iL,this.createClickCursor=ik,this.onCursorMove=iT,this.drawSexChromosomes=iE,this.setSexChromosomes=i$,this.convertBpToPx=iI,this.convertPxToBp=iP,this.unpackAnnots=i7,this.packAnnots=i9,this.initCrossFilter=oe,this.filterAnnots=ot,this.assemblyIsAccession=em,this.getDataDir=eb,this.round=ev,this.onDidRotate=ex,this.getSvg=ew,this.fetch=eC,this.getTaxid=eA,this.getCommonName=e_,this.getScientificName=eS,this.getChromosomeModel=oi,this.getChromosomePixels=on,this.drawChromosomeLabels=ov,this.rotateChromosomeLabels=ox,this.appendHomolog=om,this.drawChromosome=og,this.rotateAndToggleDisplay=oy,this.setOverflowScroll=ob,this.plotRelatedGenes=s2,this.getRelatedGenesByType=at,this.configure(e)}static get version(){return f}static get d3(){return ep}static async fetchEnsembl(e,t=null,n="GET"){let i={method:n};if(null!==t&&(i.body=JSON.stringify(t)),"GET"===n){let t=e.includes("&")?"&":"?";e+=t+"content-type=application/json"}else i.headers={"Content-Type":"application/json"};let o=await fetch(`https://rest.ensembl.org${e}`,i);return await o.json()}static getChrSortNamesAndTypes(e,t){var n,i,o,r,a,s,l,c,d,u;return"string"==typeof e||"chr"in e&&"annots"in e?(n="string"==typeof e?e:e.chr,i="string"==typeof t?t:t.chr,o="CP"===n,r="CP"===i,a="MT"===n,s="MT"===i,l="AP"===n,c="AP"===i,d=!o&&!a&&!l,u=!r&&!s&&!c):(n=e.name,i=t.name,o="chloroplast"===e.type,r="chloroplast"===t.type,a="mitochondrion"===e.type,s="mitochondrion"===t.type,l="apicoplast"===e.type,c="apicoplast"===t.type,d="nuclear"===e.type,u="nuclear"===t.type),[n,i,{aIsNuclear:d,bIsNuclear:u,aIsCP:o,bIsCP:r,aIsMT:a,bIsMT:s,aIsAP:l,bIsAP:c}]}static sortChromosomes(e,t){let[n,i,o]=li.getChrSortNamesAndTypes(e,t),{aIsNuclear:r,bIsNuclear:a,aIsCP:s,bIsCP:l,aIsMT:c,bIsMT:d,aIsAP:u,bIsAP:h}=o;return r&&a?(ek(n)&&ek(i)&&(n=eE(n).toString(),i=eE(i).toString()),n.localeCompare(i,"en",{numeric:!0})):!r&&a||c&&l?1:s&&d||!u&&!c&&!s&&(d||l||h)?-1:void 0}static initRelatedGenes(e,t="all"){return"leads"===e.relatedGenesMode&&(delete e.onDrawAnnots,delete e.relatedGenesMode),ln(Object.assign({showParalogNeighborhoods:!0,isLegendInteractive:!0,relatedGenesMode:"related",useCache:!0,awaitCache:!0},le),e,t)}static initGeneLeads(e,t="all"){return function(e,t){let n,i;if(delete e.onPlotFoundGenes,e.legendName){if(e.legendContent)s7[0].name=s4(e.legendName,e.legendContent);else if(e.geneLeadsDE){let t=`<span style="font-size: 14px; font-weight: bold; left: 0">Gene leads</span> from<br/><div style="margin-top: 10px; padding: 3px 6px; font-size: 14px; font-weight: bold; color: #3D629A;">${fileIcon} <span style="margin-left: 20px; position: relative; top: -1px;">Publication</span></div><div style="margin-top: 3px; margin-bottom: -10px; font-size: 14px; padding: 3px 6px;">${deltaIcon} <span style="margin-left: 20px;">Differential expression</span></div><br/>`;s7[0].name=s4(e.legendName,t)}else s7[0].name=s4(e.legendName)}return e.legend=s7,e.geneLeadsDE?(i="leads",n="annotations/gene_leads.tsv"):(i="hints",n="cache/homo-sapiens-top-genes.tsv"),ln(Object.assign({relatedGenesMode:i,chrMargin:-4,annotationsPath:eg(n),onDrawAnnots:lt,useCache:!0},le),e,t)}(e,t)}static drawPathway(e,t,n,i,o={height:440,width:900},r=!0,a,s,l=!0,c=!0,d=!0){r9(e,t,n,i,o,r,a,s,l,c,d)}static initCaches(e={organism:"homo-sapiens",useCache:!0,awaitCache:!0,showGeneStructureInTooltip:!0}){t1(e)}static getPathwayGenes(){return Array.from(new Set(Object.values(Ideogram.pathwayJson.entitiesById).filter(e=>["GeneProduct","RNA","Protein"].includes(e.wpType)).map(e=>e.textContent)))}static getPathwayOntologies(e,t){return r7(e,t)}}window.Ideogram=li;let lo=li},7158:()=>{try{self["workbox:core:7.0.0"]&&_()}catch(e){}},9449:()=>{try{self["workbox:range-requests:7.0.0"]&&_()}catch(e){}}}]);
//# sourceMappingURL=3943.62bf6a70a734c9ba.js.map