"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7239],{37239:(e,t,l)=>{l.r(t),l.d(t,{default:()=>F});var n=l(12115),r=l(31448),i=l(80770),a=l.n(i),o=l(20109),s=l(67072),d=l(97717),c=l.n(d),u=l(54262),m=l(79201),f=l(17386),v=l(9561),p=l(27742),h=l(33803);function E({rows:e,columns:t}){let[l,r]=(0,n.useState)(!1),i=t.map(t=>(0,u.measureGridWidth)(e.map(e=>e[t.field])));return e.length?n.createElement("div",null,n.createElement(m.A,{control:n.createElement(f.A,{checked:l,onChange:e=>{r(e.target.checked)}}),label:n.createElement(v.A,{variant:"body2"},"Show options")}),n.createElement(p.z,{rowHeight:25,rows:e,columns:t.map((e,t)=>({...e,width:i[t]})),slots:{toolbar:l?h.O:null}})):null}function g({data:e,fields:t,title:l}){return e.length?n.createElement(c(),{title:l},n.createElement(E,{rows:e.map((e,l)=>({id:l,...Object.fromEntries(e.split("|").map((e,l)=>[t[l],e]))})),columns:t.map(e=>({field:e}))})):null}var b=l(19293);function N({columns:e,filter:t,setFilter:l}){return n.createElement(n.Fragment,null,n.createElement(v.A,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),e.map(({field:e})=>n.createElement(b.A,{key:`filter-${e}`,placeholder:`Filter ${e}`,value:t[e]||"",onChange:n=>{l({...t,[e]:n.target.value})}})))}function A(e){var t;let l;let{feature:r,descriptions:i={}}=e,[a,o]=(0,n.useState)({}),s=Object.entries(r.samples||{}),d=[],E=Object.keys(a);try{d=s.map(e=>({...Object.fromEntries(Object.entries(e[1]).map(e=>[e[0],`${e[1]}`])),sample:e[0],id:e[0]})).filter(e=>!E.length||E.every(t=>{let l=a[t];return!l||RegExp(l,"i").exec(e[t])}))}catch(e){l=e}let[g,b]=(0,n.useState)(!1),A=["sample",...Object.keys((null===(t=s[0])||void 0===t?void 0:t[1])||{})],O=A.map(e=>(0,u.measureGridWidth)(d.map(t=>t[e]))),S=A.map((e,t)=>{var l,n;return{field:e,description:null===(n=null===(l=null==i?void 0:i.FORMAT)||void 0===l?void 0:l[e])||void 0===n?void 0:n.Description,width:O[t]}});return s.length?n.createElement(c(),{...e,title:"Samples"},l?n.createElement(v.A,{color:"error"},`${l}`):null,n.createElement(m.A,{control:n.createElement(f.A,{checked:g,onChange:e=>{b(e.target.checked)}}),label:n.createElement(v.A,{variant:"body2"},"Show options")}),g?n.createElement(N,{setFilter:o,columns:S,filter:a}):null,n.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.createElement(p.z,{rows:d,hideFooter:d.length<100,columns:S,disableRowSelectionOnClick:!0,rowHeight:25,columnHeaderHeight:35,disableColumnMenu:!0,slots:{toolbar:g?h.O:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}}}))):null}let O={CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"},S=(0,n.lazy)(()=>l.e(8991).then(l.bind(l,48991)));function y({descriptions:e,feature:t}){var l,r,i,a,o;let s=null===(r=null===(l=null==e?void 0:e.INFO)||void 0===l?void 0:l.ANN)||void 0===r?void 0:r.Description,d=(null===(a=null===(i=null==s?void 0:s.match(/.*Functional annotations:'(.*)'$/))||void 0===i?void 0:i[1])||void 0===a?void 0:a.split("|"))||[],c=(null===(o=t.INFO)||void 0===o?void 0:o.ANN)||[];return n.createElement(g,{fields:d,data:c,title:"Variant ANN field"})}function w({descriptions:e,feature:t}){var l,r,i,a,o;let s=null===(r=null===(l=null==e?void 0:e.INFO)||void 0===l?void 0:l.CSQ)||void 0===r?void 0:r.Description,d=(null===(a=null===(i=null==s?void 0:s.match(/.*Format: (.*)/))||void 0===i?void 0:i[1])||void 0===a?void 0:a.split("|"))||[],c=(null===(o=t.INFO)||void 0===o?void 0:o.CSQ)||[];return n.createElement(g,{fields:d,data:c,title:"Variant CSQ field"})}let F=(0,s.observer)(function(e){let{model:t}=e,{featureData:l,descriptions:i}=t,s=JSON.parse(JSON.stringify(l)),{samples:d,ALT:c,type:u="",...m}=s;return n.createElement(o.A,{"data-testid":"variant-side-drawer"},n.createElement(a(),{feature:m,descriptions:{...O,...i},...e}),n.createElement(w,{feature:m,descriptions:i}),n.createElement(y,{feature:m,descriptions:i}),n.createElement(n.Suspense,{fallback:null},"breakend"===u?n.createElement(S,{feature:s,locStrings:s.ALT.map(e=>{var t;return(null===(t=(0,r.h)(e))||void 0===t?void 0:t.MatePosition)||""}),model:t}):null,"translocation"===u?n.createElement(S,{feature:s,model:t,locStrings:[`${s.INFO.CHR2[0]}:${s.INFO.END}`]}):null,"paired_feature"===u?n.createElement(S,{feature:s,model:t,locStrings:[`${s.mate.refName}:${s.mate.start}`]}):null,u.includes("inversion")||u.includes("deletion")||u.includes("duplication")||u.includes("cnv")||u.includes("sv")?n.createElement(S,{feature:{uniqueId:"random",refName:s.refName,start:s.start,end:s.start+1,mate:{refName:s.refName,start:s.end,end:s.end+1}},model:t,locStrings:[`${s.refName}:${s.end}`]}):null),n.createElement(A,{feature:s,...e,descriptions:i}))})}}]);
//# sourceMappingURL=7239.37bdc92ed6cd8c1b.js.map