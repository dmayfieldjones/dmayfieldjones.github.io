"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5759],{95759:(e,t,a)=>{a.d(t,{convertTrackConfig:()=>o});var i=a(15715);a(64446);var r=a(70473);function o(e,t,a){var o,n,c,p,l,u,d;let T={trackId:(0,i.objectHash)(e),name:e.key||e.label},y=e.metadata&&(e.metadata.description||e.metadata.Description);y&&(T.description=y);let s=e.category||(null===(o=e.metadata)||void 0===o?void 0:o.category);T.category=s?s.split(/\s*\/\s*/):[];let{storeClass:U}=e;if(!e.urlTemplate){;if(!(null==U?void 0:U.endsWith("FromConfig"))){let t=e.key||e.label;return console.warn(`Could not import JBrowse1 track "${t}" because it does not have a "urlTemplate" or is not a "FromConfig" track`),(0,r.generateUnsupportedTrackConf)(T.name,t,T.category)}return u=e,(d=T).adapter={type:"FromConfigAdapter",features:(u.features||[]).map(e=>{let t=JSON.parse(JSON.stringify(e));return t.refName=e.seq_id,t.uniqueId=`${e.seq_id}:${e.start}-${e.end}:${e.name||""}`,t})},d.type="FeatureTrack",d}let f=e=>new URL(e,`${t}/`).href.replaceAll(/%7B/gi,"{").replaceAll(/%7D/gi,"}"),m=f(e.urlTemplate);if(U){if("JBrowse/Store/SeqFeature/BAM"===U){let t={type:"BamAdapter",bamLocation:{uri:m,locationType:"UriLocation"}};return e.baiUrlTemplate?t.index={location:{uri:f(e.baiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:f(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${m}.bai`,locationType:"UriLocation"}},{...T,type:"AlignmentsTrack",adapter:t}}if("JBrowse/Store/SeqFeature/CRAM"===U){let t={type:"CramAdapter",cramLocation:{uri:m,locationType:"UriLocation"},sequenceAdapter:a};return t.craiLocation=e.craiUrlTemplate?{uri:f(e.craiUrlTemplate),locationType:"UriLocation"}:{uri:`${m}.crai`,locationType:"UriLocation"},{...T,type:"AlignmentsTrack",adapter:t}}if("JBrowse/Store/SeqFeature/NCList"===U)return{...T,type:"FeatureTrack",adapter:{type:"NCListAdapter",rootUrlTemplate:{uri:m,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/BigWig"===U||"JBrowse/Store/BigWig"===U)return(null===(n=e.type)||void 0===n?void 0:n.endsWith("XYPlot"))?T.defaultRendering="xyplot":(null===(c=e.type)||void 0===c?void 0:c.endsWith("Density"))&&(T.defaultRendering="density"),{...T,type:"QuantitativeTrack",adapter:{type:"BigWigAdapter",bigWigLocation:{uri:m,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/VCFTabix"===U){let t={type:"VcfTabixAdapter",vcfGzLocation:{uri:m,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:f(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:f(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${m}.tbi`,locationType:"UriLocation"}},{...T,type:"VariantTrack",adapter:t}}if("JBrowse/Store/SeqFeature/VCFTribble"===U)return(0,r.generateUnsupportedTrackConf)(T.name,`VCFTribble (${m})`,T.category);if("JBrowse/Store/SeqFeature/GFF3"===U)return{...T,type:"FeatureTrack",adapter:{type:"Gff3Adapter",gffLocation:{uri:m,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/BigBed"===U)return{...T,type:"FeatureTrack",adapter:{type:"BigBedAdapter",bigBedLocation:{uri:m,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/GFF3Tabix"===U){let t={type:"Gff3TabixAdapter",gffGzLocation:{uri:m,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:f(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:f(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${m}.tbi`,locationType:"UriLocation"}},{...T,type:"FeatureTrack",adapter:t}}if("JBrowse/Store/SeqFeature/BED"===U)return(0,r.generateUnsupportedTrackConf)(T.name,`BED (${m})`,T.category);if("JBrowse/Store/SeqFeature/BEDTabix"===U){let t={type:"BedTabixAdapter",bedGzLocation:{uri:m,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:f(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:f(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${m}.tbi`,locationType:"UriLocation"}},{...T,type:"FeatureTrack",adapter:t}}if("JBrowse/Store/SeqFeature/GTF"===U)return{...T,type:"FeatureTrack",adapter:{type:"GtfAdapter",gtfLocation:{uri:m,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/StaticChunked"===U||"JBrowse/Store/Sequence/StaticChunked"===U)return(0,r.generateUnsupportedTrackConf)(T.name,`StaticChunked (${m})`,T.category);if("JBrowse/Store/SeqFeature/UnindexedFasta"===U)return(0,r.generateUnsupportedTrackConf)(T.name,`UnindexedFasta (${m})`,T.category);if("JBrowse/Store/SeqFeature/IndexedFasta"===U){let t={type:"IndexedFastaAdapter",fastaLocation:{uri:m,locationType:"UriLocation"}};return t.faiLocation=e.faiUrlTemplate?{uri:f(e.faiUrlTemplate),locationType:"UriLocation"}:{uri:`${m}.fai`,locationType:"UriLocation"},{...T,type:"SequenceTrack",adapter:t}}if("JBrowse/Store/SeqFeature/BgzipIndexedFasta"===U){let t={type:"BgzipFastaAdapter",fastaLocation:{uri:m,locationType:"UriLocation"}};return t.faiLocation=e.faiUrlTemplate?{uri:f(e.faiUrlTemplate),locationType:"UriLocation"}:{uri:`${m}.fai`,locationType:"UriLocation"},t.gziLocation=e.gziUrlTemplate?{uri:f(e.gziUrlTemplate),locationType:"UriLocation"}:{uri:`${m}.gzi`,locationType:"UriLocation"},{...T,type:"ReferenceSequenceTrack",adapter:t}}if("JBrowse/Store/SeqFeature/TwoBit"===U)return{...T,type:"ReferenceSequenceTrack",adapter:{type:"TwoBitAdapter",twoBitLocation:{uri:m,locationType:"UriLocation"}}}}return(T.adapter=(0,r.guessAdapter)({uri:m,locationType:"UriLocation"},void 0,m),T.adapter.type===r.UNSUPPORTED)?(0,r.generateUnsupportedTrackConf)(T.name,m,T.category):T.adapter.type===r.UNKNOWN?(0,r.generateUnknownTrackConf)(T.name,m,T.category):(T.type=(0,r.guessTrackType)(T.adapter.type),"QuantitativeTrack"===T.type&&((null===(p=e.type)||void 0===p?void 0:p.endsWith("XYPlot"))?T.defaultRendering="xyplot":(null===(l=e.type)||void 0===l?void 0:l.endsWith("Density"))&&(T.defaultRendering="density")),T)}}}]);
//# sourceMappingURL=5759.03b18feb432ce42f.js.map