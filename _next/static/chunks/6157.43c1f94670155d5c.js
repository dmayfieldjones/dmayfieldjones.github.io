"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6157],{15508:(r,o,e)=>{e.d(o,{DW:()=>c,L9:()=>i,pf:()=>n,sY:()=>_,w7:()=>l});var t=e(9273);let n={color_fwd_strand_not_proper:"#ECC8C8",color_rev_strand_not_proper:"#BEBED8",color_fwd_strand:"#EC8B8B",color_rev_strand:"#8F8FD8",color_fwd_missing_mate:"#D11919",color_rev_missing_mate:"#1919D1",color_fwd_diff_chr:"#000",color_rev_diff_chr:"#969696",color_pair_lr:"#c8c8c8",color_pair_rr:"navy",color_pair_rl:"teal",color_pair_ll:"green",color_nostrand:"#c8c8c8",color_interchrom:"purple",color_longinsert:"red",color_shortinsert:"pink",color_unknown:"grey"},l={color_fwd_strand_not_proper:"#CA6767",color_rev_strand_not_proper:"#7272AA",color_fwd_strand:"#DC2A2A",color_rev_strand:"#4141BA",color_fwd_missing_mate:"#921111",color_rev_missing_mate:"#111192",color_fwd_diff_chr:"#000000",color_rev_diff_chr:"#696969",color_pair_lr:"#8C8C8C",color_pair_rr:"#00005A",color_pair_rl:"#005A5A",color_pair_ll:"#005A00",color_nostrand:"#8C8C8C",color_interchrom:"#5A005A",color_longinsert:"#B30000",color_shortinsert:"#FF3A5C",color_unknown:"grey"};function i(r,o,e){let t=r.refName===o.refName,i=Math.abs(r.tlen||0);return t&&i>((null==e?void 0:e.upper)||0)?[n.color_longinsert,l.color_longinsert]:t&&i<((null==e?void 0:e.lower)||0)?[n.color_shortinsert,l.color_shortinsert]:t?void 0:[n.color_interchrom,l.color_interchrom]}let s=[n.color_unknown,n.color_unknown];function _(r,o,e){return a(r)||i(r,o,e)||s}function a(r){let o=t.il.fr[r.pair_orientation||""],e=t.rr[o];return"LR"===o?void 0:[n[e],l[e]]}function c(r){return a(r)||s}},46157:(r,o,e)=>{e.d(o,{drawFeats:()=>a});var t=e(15715),n=e(86847),l=e(15508),i=e(68821);function s(r){return 2*Math.random()*r-r}function _(r,o,e,t){r.strokeStyle=t,r.beginPath(),r.moveTo(o,0),r.lineTo(o,e),r.stroke()}function a(r,o,e,a){let{chainData:c,colorBy:f,drawInter:d,drawLongRange:p,lineWidthSetting:g,jitterVal:u}=r;if(!c)return;let v=(0,t.getContainingView)(r),{assemblyManager:h}=(0,t.getSession)(r),{chains:m,stats:k}=c,C=(0,i.dv)(c),w=h.get(v.assemblyNames[0]),y=(null==f?void 0:f.type)||"insertSizeAndOrientation";if(w)for(let r of(o.lineWidth=g,m))if(1===r.length&&p){let o=r[0];if(C&&!(8&o.flags)){let r={refName:o.next_ref||"",start:o.next_pos||0,end:o.next_pos||0,strand:o.strand};A(o,r,w,!0)}else{let r=[o,...(0,n.Cu)(o.SA,o.id,o.strand,o.name)].sort((r,o)=>r.clipPos-o.clipPos);for(let o=0;o<r.length-1;o++)A(r[o],r[o+1],w,!0)}}else{let o=C?r.filter(r=>!(2048&r.flags)&&!(8&r.flags)):r.sort((r,o)=>r.clipPos-o.clipPos).filter(r=>!(256&r.flags));for(let r=0;r<o.length-1;r++)A(o[r],o[r+1],w,!1)}function A(r,e,t,n){var i,c,f;let p=r.strand,g=e.strand,h=-1===g,m=-1===p?r.start:r.end,w=C?h?e.start:e.end:h?e.end:e.start,A=t.getCanonicalRefName(r.refName)||r.refName,S=t.getCanonicalRefName(e.refName)||e.refName,P=null===(i=v.bpToPx({refName:A,coord:m}))||void 0===i?void 0:i.offsetPx,N=null===(c=v.bpToPx({refName:S,coord:w}))||void 0===c?void 0:c.offsetPx;if(void 0!==P&&void 0!==N){let t=(N-P)/2,i=Math.abs(t),c=P-v.offsetPx,d=N-v.offsetPx,h=i>1e4;n&&h?(o.moveTo(c,0),o.beginPath()):(o.beginPath(),o.moveTo(c,0)),n&&h?o.strokeStyle="red":C?"insertSizeAndOrientation"===y?o.strokeStyle=(0,l.sY)(r,e,k)[0]:"orientation"===y?o.strokeStyle=(0,l.DW)(r)[0]:"insertSize"===y?o.strokeStyle=(null===(f=(0,l.L9)(r,e,k))||void 0===f?void 0:f[0])||"grey":"gradient"===y&&(o.strokeStyle=`hsl(${10*Math.log10(i)},50%,50%)`):"orientation"===y||"insertSizeAndOrientation"===y?-1===p&&1===g?o.strokeStyle="navy":1===p&&-1===g?o.strokeStyle="green":o.strokeStyle="grey":"gradient"===y&&(o.strokeStyle=`hsl(${10*Math.log10(i)},50%,50%)`);let m=c+2*t,w=Math.min(a+s(u),i);n?i>1e5?(_(o,c+s(u),a,"red"),_(o,d+s(u),a,"red")):(h?o.arc(c+t+s(u),0,i,0,Math.PI):o.bezierCurveTo(c+s(u),w,m,w,m+s(u),0),o.stroke()):(o.bezierCurveTo(c+s(u),w,m,w,m+s(u),0),o.stroke())}else P&&d&&_(o,P-v.offsetPx,a,"purple")}}}}]);
//# sourceMappingURL=6157.43c1f94670155d5c.js.map