{"version":3,"file":"static/chunks/4719.0bbffd35841a0b42.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@mui/icons-material/esm/InfoOutlined.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPlugin.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPluginsList.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Check.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Person.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginCard.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/util.js","webpack://_N_E/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginStoreWidget.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Clear.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/ExpandMore.js","webpack://_N_E/./node_modules/@mui/icons-material/esm/Lock.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');","import React, { lazy } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LockIcon from '@mui/icons-material/Lock';\nimport { IconButton, ListItem, Tooltip, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst DeletePluginDialog = lazy(() => import('./DeletePluginDialog'));\nconst useStyles = makeStyles()(() => ({\n    lockedPluginTooltip: {\n        marginRight: '0.5rem',\n    },\n}));\nfunction LockedPlugin() {\n    const { classes } = useStyles();\n    return (React.createElement(Tooltip, { className: classes.lockedPluginTooltip, title: \"This plugin was installed by an administrator, you cannot remove it.\" },\n        React.createElement(LockIcon, null)));\n}\nconst InstalledPlugin = observer(function ({ plugin, model, }) {\n    const { pluginManager } = getEnv(model);\n    const session = getSession(model);\n    const { jbrowse, adminMode } = session;\n    const isSessionPlugin = isSessionWithSessionPlugins(session)\n        ? session.sessionPlugins.some(p => { var _a; return ((_a = pluginManager.pluginMetadata[plugin.name]) === null || _a === void 0 ? void 0 : _a.url) === p.url; })\n        : false;\n    return (React.createElement(ListItem, { key: plugin.name },\n        adminMode || isSessionPlugin ? (React.createElement(IconButton, { \"data-testid\": `removePlugin-${plugin.name}`, onClick: () => {\n                session.queueDialog(onClose => [\n                    DeletePluginDialog,\n                    {\n                        plugin: plugin.name,\n                        onClose: (name) => {\n                            if (name) {\n                                const pluginMetadata = pluginManager.pluginMetadata[plugin.name];\n                                if (adminMode) {\n                                    jbrowse.removePlugin(pluginMetadata);\n                                }\n                                else if (isSessionWithSessionPlugins(session)) {\n                                    session.removeSessionPlugin(pluginMetadata);\n                                }\n                            }\n                            onClose();\n                        },\n                    },\n                ]);\n            } },\n            React.createElement(CloseIcon, null))) : (React.createElement(LockedPlugin, null)),\n        React.createElement(Typography, null, plugin.name)));\n});\nexport default InstalledPlugin;\n","import React from 'react';\nimport { List, Typography } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport InstalledPlugin from './InstalledPlugin';\nconst InstalledPluginsList = observer(function InstalledPluginsList({ pluginManager, model, }) {\n    const { plugins } = pluginManager;\n    const { filterText } = model;\n    const externalPlugins = plugins.filter(p => { var _a; return !((_a = pluginManager.pluginMetadata[p.name]) === null || _a === void 0 ? void 0 : _a.isCore); });\n    return (React.createElement(List, null, externalPlugins.length > 0 ? (externalPlugins\n        .filter(p => p.name.toLowerCase().includes(filterText.toLowerCase()))\n        .map(p => React.createElement(InstalledPlugin, { key: p.name, plugin: p, model: model }))) : (React.createElement(Typography, null, \"No plugins currently installed\"))));\n});\nexport default InstalledPluginsList;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'Person');","import React, { useState } from 'react';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins } from '@jbrowse/core/util/types';\nimport AddIcon from '@mui/icons-material/Add';\nimport CheckIcon from '@mui/icons-material/Check';\nimport PersonIcon from '@mui/icons-material/Person';\nimport { Button, Card, CardActions, CardContent, Link, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    card: {\n        margin: '0.5em',\n    },\n    icon: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    bold: {\n        fontWeight: 600,\n    },\n    dataField: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    mr: {\n        marginRight: '0.5em',\n    },\n});\nconst PluginCard = observer(function PluginCard({ plugin, model, }) {\n    const { classes } = useStyles();\n    const session = getSession(model);\n    const { pluginManager } = getEnv(model);\n    const { runtimePluginDefinitions } = pluginManager;\n    const isInstalled = runtimePluginDefinitions.some(d => 'url' in d && d.url === plugin.url);\n    const [tempDisabled, setTempDisabled] = useState(false);\n    const { adminMode, jbrowse } = session;\n    const { name, authors, description } = plugin;\n    return (React.createElement(Card, { variant: \"outlined\", key: name, className: classes.card },\n        React.createElement(CardContent, null,\n            React.createElement(Typography, { variant: \"h5\" },\n                React.createElement(Link, { href: `${plugin.location}#readme`, target: \"_blank\", rel: \"noopener\" }, plugin.name)),\n            React.createElement(\"div\", { className: classes.dataField },\n                React.createElement(PersonIcon, { className: classes.mr }),\n                React.createElement(Typography, null, authors.join(', '))),\n            React.createElement(Typography, { className: classes.bold }, \"Description:\"),\n            React.createElement(Typography, null, description)),\n        React.createElement(CardActions, null,\n            React.createElement(Button, { variant: \"contained\", disabled: isInstalled || tempDisabled, startIcon: isInstalled ? React.createElement(CheckIcon, null) : React.createElement(AddIcon, null), onClick: () => {\n                    if (adminMode) {\n                        jbrowse.addPlugin(plugin);\n                    }\n                    else if (isSessionWithSessionPlugins(session)) {\n                        session.addSessionPlugin(plugin);\n                    }\n                    else {\n                        session.notify('No way to install plugin');\n                    }\n                    setTempDisabled(true);\n                } }, isInstalled ? 'Installed' : 'Install'))));\n});\nexport default PluginCard;\n","import { useEffect, useState } from 'react';\nexport function useFetchPlugins() {\n    const [plugins, setPlugins] = useState();\n    const [error, setError] = useState();\n    useEffect(() => {\n        ;\n        (async () => {\n            try {\n                const res = await fetch('https://jbrowse.org/plugin-store/plugins.json');\n                if (!res.ok) {\n                    const err = await res.text();\n                    throw new Error(`HTTP ${res.status} fetching plugins: ${err}`);\n                }\n                const array = await res.json();\n                setPlugins(array.plugins);\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, []);\n    return { plugins, error };\n}\n","import React, { lazy } from 'react';\nimport { LoadingEllipses } from '@jbrowse/core/ui';\nimport { getSession, isElectron } from '@jbrowse/core/util';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { Accordion, AccordionSummary, Button, IconButton, InputAdornment, TextField, Typography, } from '@mui/material';\nimport { observer } from 'mobx-react';\nimport { getEnv } from 'mobx-state-tree';\nimport { makeStyles } from 'tss-react/mui';\nimport InstalledPluginsList from './InstalledPluginsList';\nimport PluginCard from './PluginCard';\nimport { useFetchPlugins } from './util';\nconst AddCustomPluginDialog = lazy(() => import('./AddCustomPluginDialog'));\nconst useStyles = makeStyles()(theme => ({\n    expandIcon: {\n        color: theme.palette.tertiary.contrastText,\n    },\n    adminBadge: {\n        borderRadius: 3,\n        backgroundColor: theme.palette.quaternary.main,\n        padding: '1em',\n        display: 'flex',\n        alignContent: 'center',\n    },\n    customPluginButton: {\n        margin: '1em auto',\n        display: 'flex',\n    },\n    mr: {\n        marginRight: '0.3em',\n    },\n    m: {\n        margin: '1em',\n    },\n}));\nconst PluginStoreWidget = observer(function ({ model, }) {\n    const { classes } = useStyles();\n    const { plugins, error } = useFetchPlugins();\n    const session = getSession(model);\n    const { adminMode } = session;\n    const { pluginManager } = getEnv(model);\n    return (React.createElement(\"div\", null,\n        adminMode && (React.createElement(React.Fragment, null,\n            !isElectron && (React.createElement(\"div\", { className: classes.adminBadge },\n                React.createElement(InfoOutlinedIcon, { className: classes.mr }),\n                React.createElement(Typography, null,\n                    \"You are using the \",\n                    React.createElement(\"code\", null, \"admin-server\"),\n                    \". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.\"))),\n            React.createElement(Button, { className: classes.customPluginButton, variant: \"contained\", onClick: () => {\n                    session.queueDialog(onClose => [\n                        AddCustomPluginDialog,\n                        {\n                            model,\n                            onClose,\n                        },\n                    ]);\n                } }, \"Add custom plugin\"))),\n        React.createElement(TextField, { label: \"Filter plugins\", value: model.filterText, onChange: event => {\n                model.setFilterText(event.target.value);\n            }, fullWidth: true, slotProps: {\n                input: {\n                    endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(IconButton, { onClick: () => {\n                                model.clearFilterText();\n                            } },\n                            React.createElement(ClearIcon, null)))),\n                },\n            } }),\n        React.createElement(Accordion, { defaultExpanded: true },\n            React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, { className: classes.expandIcon }) },\n                React.createElement(Typography, { variant: \"h5\" }, \"Installed plugins\")),\n            React.createElement(\"div\", { className: classes.m },\n                React.createElement(InstalledPluginsList, { pluginManager: pluginManager, model: model }))),\n        React.createElement(Accordion, { defaultExpanded: true },\n            React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, { className: classes.expandIcon }) },\n                React.createElement(Typography, { variant: \"h5\" }, \"Available plugins\")),\n            error ? (React.createElement(Typography, { color: \"error\" }, `${error}`)) : plugins ? (plugins\n                .filter(plugin => {\n                return (!(isElectron && plugin.cjsUrl) &&\n                    plugin.name\n                        .toLowerCase()\n                        .includes(model.filterText.toLowerCase()));\n            })\n                .map(plugin => (React.createElement(PluginCard, { key: plugin.name, plugin: plugin, model: model })))) : (React.createElement(LoadingEllipses, null)))));\n});\nexport default PluginStoreWidget;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z\"\n}), 'Lock');"],"names":["createSvgIcon","_jsx","d"],"sourceRoot":"","ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}