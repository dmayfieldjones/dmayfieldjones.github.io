"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1990],{91990:(e,t,a)=>{a.d(t,{convertTrackConfig:()=>o});var i=a(54262);a(31177);var r=a(23806);function o(e,t,a){var o,n,c,p,l;let u={trackId:(0,i.objectHash)(e),name:e.key||e.label},d=e.metadata&&(e.metadata.description||e.metadata.Description);d&&(u.description=d);let T=e.category||(null===(o=e.metadata)||void 0===o?void 0:o.category);u.category=T?T.split(/\s*\/\s*/):[];let{storeClass:y}=e;if(!e.urlTemplate){if(!(null==y?void 0:y.endsWith("FromConfig"))){let t=e.key||e.label;return console.warn(`Could not import JBrowse1 track "${t}" because it does not have a "urlTemplate" or is not a "FromConfig" track`),(0,r.generateUnsupportedTrackConf)(u.name,t,u.category)}return function(e,t){let a=(e.features||[]).map(e=>{let t=JSON.parse(JSON.stringify(e));return t.refName=e.seq_id,t.uniqueId=`${e.seq_id}:${e.start}-${e.end}:${e.name||""}`,t});return t.adapter={type:"FromConfigAdapter",features:a},t.type="FeatureTrack",t}(e,u)}let s=e=>new URL(e,`${t}/`).href.replaceAll(/%7B/gi,"{").replaceAll(/%7D/gi,"}"),U=s(e.urlTemplate);if(y){if("JBrowse/Store/SeqFeature/BAM"===y){let t={type:"BamAdapter",bamLocation:{uri:U,locationType:"UriLocation"}};return e.baiUrlTemplate?t.index={location:{uri:s(e.baiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:s(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${U}.bai`,locationType:"UriLocation"}},{...u,type:"AlignmentsTrack",adapter:t}}if("JBrowse/Store/SeqFeature/CRAM"===y){let t={type:"CramAdapter",cramLocation:{uri:U,locationType:"UriLocation"},sequenceAdapter:a};return t.craiLocation=e.craiUrlTemplate?{uri:s(e.craiUrlTemplate),locationType:"UriLocation"}:{uri:`${U}.crai`,locationType:"UriLocation"},{...u,type:"AlignmentsTrack",adapter:t}}if("JBrowse/Store/SeqFeature/NCList"===y)return{...u,type:"FeatureTrack",adapter:{type:"NCListAdapter",rootUrlTemplate:{uri:U,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/BigWig"===y||"JBrowse/Store/BigWig"===y)return(null===(n=e.type)||void 0===n?void 0:n.endsWith("XYPlot"))?u.defaultRendering="xyplot":(null===(c=e.type)||void 0===c?void 0:c.endsWith("Density"))&&(u.defaultRendering="density"),{...u,type:"QuantitativeTrack",adapter:{type:"BigWigAdapter",bigWigLocation:{uri:U,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/VCFTabix"===y){let t={type:"VcfTabixAdapter",vcfGzLocation:{uri:U,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:s(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:s(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${U}.tbi`,locationType:"UriLocation"}},{...u,type:"VariantTrack",adapter:t}}if("JBrowse/Store/SeqFeature/VCFTribble"===y)return(0,r.generateUnsupportedTrackConf)(u.name,`VCFTribble (${U})`,u.category);if("JBrowse/Store/SeqFeature/GFF3"===y)return{...u,type:"FeatureTrack",adapter:{type:"Gff3Adapter",gffLocation:{uri:U,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/BigBed"===y)return{...u,type:"FeatureTrack",adapter:{type:"BigBedAdapter",bigBedLocation:{uri:U,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/GFF3Tabix"===y){let t={type:"Gff3TabixAdapter",gffGzLocation:{uri:U,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:s(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:s(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${U}.tbi`,locationType:"UriLocation"}},{...u,type:"FeatureTrack",adapter:t}}if("JBrowse/Store/SeqFeature/BED"===y)return(0,r.generateUnsupportedTrackConf)(u.name,`BED (${U})`,u.category);if("JBrowse/Store/SeqFeature/BEDTabix"===y){let t={type:"BedTabixAdapter",bedGzLocation:{uri:U,locationType:"UriLocation"}};return e.tbiUrlTemplate?t.index={location:{uri:s(e.tbiUrlTemplate),locationType:"UriLocation"}}:e.csiUrlTemplate?t.index={location:{uri:s(e.csiUrlTemplate),locationType:"UriLocation"},indexType:"CSI"}:t.index={location:{uri:`${U}.tbi`,locationType:"UriLocation"}},{...u,type:"FeatureTrack",adapter:t}}if("JBrowse/Store/SeqFeature/GTF"===y)return{...u,type:"FeatureTrack",adapter:{type:"GtfAdapter",gtfLocation:{uri:U,locationType:"UriLocation"}}};if("JBrowse/Store/SeqFeature/StaticChunked"===y||"JBrowse/Store/Sequence/StaticChunked"===y)return(0,r.generateUnsupportedTrackConf)(u.name,`StaticChunked (${U})`,u.category);if("JBrowse/Store/SeqFeature/UnindexedFasta"===y)return(0,r.generateUnsupportedTrackConf)(u.name,`UnindexedFasta (${U})`,u.category);if("JBrowse/Store/SeqFeature/IndexedFasta"===y){let t={type:"IndexedFastaAdapter",fastaLocation:{uri:U,locationType:"UriLocation"}};return t.faiLocation=e.faiUrlTemplate?{uri:s(e.faiUrlTemplate),locationType:"UriLocation"}:{uri:`${U}.fai`,locationType:"UriLocation"},{...u,type:"SequenceTrack",adapter:t}}if("JBrowse/Store/SeqFeature/BgzipIndexedFasta"===y){let t={type:"BgzipFastaAdapter",fastaLocation:{uri:U,locationType:"UriLocation"}};return t.faiLocation=e.faiUrlTemplate?{uri:s(e.faiUrlTemplate),locationType:"UriLocation"}:{uri:`${U}.fai`,locationType:"UriLocation"},t.gziLocation=e.gziUrlTemplate?{uri:s(e.gziUrlTemplate),locationType:"UriLocation"}:{uri:`${U}.gzi`,locationType:"UriLocation"},{...u,type:"ReferenceSequenceTrack",adapter:t}}if("JBrowse/Store/SeqFeature/TwoBit"===y)return{...u,type:"ReferenceSequenceTrack",adapter:{type:"TwoBitAdapter",twoBitLocation:{uri:U,locationType:"UriLocation"}}}}return(u.adapter=(0,r.guessAdapter)({uri:U,locationType:"UriLocation"},void 0,U),u.adapter.type===r.UNSUPPORTED)?(0,r.generateUnsupportedTrackConf)(u.name,U,u.category):u.adapter.type===r.UNKNOWN?(0,r.generateUnknownTrackConf)(u.name,U,u.category):(u.type=(0,r.guessTrackType)(u.adapter.type),"QuantitativeTrack"===u.type&&((null===(p=e.type)||void 0===p?void 0:p.endsWith("XYPlot"))?u.defaultRendering="xyplot":(null===(l=e.type)||void 0===l?void 0:l.endsWith("Density"))&&(u.defaultRendering="density")),u)}}}]);
//# sourceMappingURL=1990.00a9112c33e33ff7.js.map