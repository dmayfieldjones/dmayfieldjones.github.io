"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7662],{20209:(e,l,t)=>{function f(e){let l=0;for(let t=0;t<e.length;t++)l+=e.charCodeAt(t);return n(10*l)}function n(e){return`hsl(${e%255}, 50%, 50%)`}t.d(l,{XL:()=>f,qH:()=>n})},21349:(e,l,t)=>{t.d(l,{E:()=>c});var f=t(4671),n=t(56086),i=t(20209);function c(e,l,t,c,o,r,a,s){l.fillStyle=void 0!==s?+e[a]?(0,i.qH)(+s)||"black":"#ccc":function(e,l){let t=+e[l];return t?f.set1[t-1]||"black":"#ccc"}(e,a),l.fillRect(t-n.f2,c-n.f2,o+n.f2,r+n.f2)}},56086:(e,l,t)=>{t.d(l,{f2:()=>f});let f=.3},57662:(e,l,t)=>{t.d(l,{makeImageData:()=>a});var f=t(15715),n=t(64294),i=t(56086),c=t(89581),o=t(21349),r=t(95764);async function a({ctx:e,canvasWidth:l,canvasHeight:t,renderArgs:a}){let{renderingMode:s,minorAlleleFrequencyFilter:u,sources:d,features:h,stopToken:p}=a,{statusCallback:g=()=>{}}=a,k=t/d.length;(0,n.checkStopToken)(p);let v=(0,r.Cg)(h.values(),u);(0,n.checkStopToken)(p);let S=[],m=v.length,b=l/m;return await (0,f.updateStatus)("Drawing variant matrix",g,()=>{var f,r,a;let u=performance.now();for(let h=0;h<m;h++){performance.now()-u>400&&((0,n.checkStopToken)(p),u=performance.now());let g=[],{feature:m,mostFrequentAlt:w}=v[h];if(null===(f=m.get("FORMAT"))||void 0===f?void 0:f.includes("PS")){let f=m.get("samples"),n=h/v.length*l,u=d.length;for(let l=0;l<u;l++){let h=l/u*t,{name:p,HP:v}=d[l],S=f[p];if(S){let l=null===(r=S.GT)||void 0===r?void 0:r[0];if(l){g.push(l);let t=l.includes("|");if("phased"===s){if(t){let t=null===(a=S.PS)||void 0===a?void 0:a[0],f=l.split("|");(0,o.E)(f,e,n,h,b,k,v,t)}else e.fillStyle="black",e.fillRect(n-i.f2,h-i.f2,b+i.f2,k+i.f2)}else{let t=l.split(/[/|]/);(0,c.K)(t,e,n,h,b,k,w)}}}}}else{let f=m.get("genotypes"),n=h/v.length*l,r=d.length;for(let l=0;l<r;l++){let a=l/r*t,{name:u,HP:h}=d[l],p=f[u];if(p){g.push(p);let l=p.includes("|");if("phased"===s){if(l){let l=p.split("|");(0,o.E)(l,e,n,a,b,k,h)}else e.fillStyle="black",e.fillRect(n-i.f2,a-i.f2,b+i.f2,k+i.f2)}else{let l=p.split(/[/|]/);(0,c.K)(l,e,n,a,b,k,w)}}}}S.push(g)}}),{mafs:v,arr:S}}},89581:(e,l,t)=>{t.d(l,{K:()=>i});var f=t(18532),n=t(56086);function i(e,l,t,i,c,o,r){l.fillStyle=function(e,l){let t=e.length,n=0,i=0,c=0,o=0;for(let t of e)t===l?n++:"0"===t?o++:"."===t?i++:c++;if(o===t)return"#ccc";{let e;if(n&&(e=(0,f.colord)(`hsl(200,50%,${80-n/t*50}%)`)),c){let l=`hsla(0,100%,20%,${c/t})`;e=e?e.mix(l):(0,f.colord)(l)}if(i){let l=`hsl(50,50%,50%,${i/t})`;e=e?e.mix(l):(0,f.colord)(l)}return(null==e?void 0:e.toHex())||"black"}}(e,r),l.fillRect(t-n.f2,i-n.f2,c+n.f2,o+n.f2)}}}]);
//# sourceMappingURL=7662.431e2468b2dfdd23.js.map