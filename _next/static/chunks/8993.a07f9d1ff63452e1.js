"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8993],{38993:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var l=n(12115),a=n(47204),r=n(54262),s=n(6327),o=n(9552),i=n(88552),c=n(70625),m=n(77311),u=n(78443),d=n(67072),g=n(97771),E=n(24097),v=n(1884);let p=(0,d.observer)(function({model:e,selectedAsm:t,value:n,setValue:a,setOption:s}){let{assemblyManager:o,textSearchManager:i}=(0,r.getSession)(e),{rankSearchResults:c}=e,m=e.searchScope(t),u=o.get(t);return l.createElement(E.A,{fetchResults:e=>(0,v.Jf)({queryString:e,assembly:u,textSearchManager:i,rankSearchResults:c,searchScope:m}),model:e,assemblyName:t,value:n,minWidth:270,onChange:e=>{a(e)},onSelect:e=>{s(e)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})});var y=n(23740);let b=(0,g.makeStyles)()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),A=(0,d.observer)(function({model:e}){var t;let{classes:n}=b(),d=(0,r.getSession)(e),{assemblyNames:g,assemblyManager:E}=d,{error:v}=e,[A,f]=(0,l.useState)(g[0]),[h,S]=(0,l.useState)(),N=E.get(A),C=g.length?null==N?void 0:N.error:"No configured assemblies",k=C||v,[w,_]=(0,l.useState)(""),F=null==N?void 0:N.regions,R=!!F,x=F&&(null===(t=F[0])||void 0===t?void 0:t.refName)||"";return(0,l.useEffect)(()=>{_(x)},[x,A]),l.createElement("div",{className:n.container},k?l.createElement(a.ErrorMessage,{error:k}):null,l.createElement(o.A,{className:n.importFormContainer},l.createElement("form",{onSubmit:async t=>{var n;if(t.preventDefault(),e.setError(void 0),w)try{(null==h?void 0:h.getDisplayString())===w&&h.hasLocation()?await (0,y.Kd)({option:h,model:e,assemblyName:A}):(null===(n=null==h?void 0:h.results)||void 0===n?void 0:n.length)?e.setSearchResults(h.results,h.getLabel(),A):N&&await (0,y.cm)({input:w,assembly:N,model:e})}catch(e){console.error(e),d.notify(`${e}`,"warning")}}},l.createElement(i.Ay,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},l.createElement(i.Ay,{item:!0},l.createElement(c.A,null,l.createElement(a.AssemblySelector,{onChange:e=>{f(e)},localStorageKey:"lgv",session:d,selected:A}))),l.createElement(i.Ay,{item:!0},A?C?l.createElement(s.A,{style:{color:"red"}}):R?l.createElement(c.A,null,l.createElement(p,{value:w,setValue:_,selectedAsm:A,setOption:S,model:e})):l.createElement(m.A,{size:20,disableShrink:!0}):null),l.createElement(i.Ay,{item:!0},l.createElement(c.A,null,l.createElement(u.A,{type:"submit",disabled:!w,className:n.button,variant:"contained",color:"primary"},"Open")),l.createElement(c.A,null,l.createElement(u.A,{disabled:!w,className:n.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(A)},variant:"contained",color:"secondary"},"Show all regions in assembly")))))))})}}]);
//# sourceMappingURL=8993.a07f9d1ff63452e1.js.map