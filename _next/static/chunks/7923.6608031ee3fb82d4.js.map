{"version":3,"file":"static/chunks/7923.6608031ee3fb82d4.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@jbrowse/product-core/esm/ui/FileInfoPanel.js","webpack://_N_E/./node_modules/@jbrowse/product-core/esm/ui/RefNameInfoDialog.js","webpack://_N_E/./node_modules/@jbrowse/product-core/esm/ui/AboutDialogContents.js","webpack://_N_E/./node_modules/@jbrowse/product-core/esm/ui/AboutDialog.js","webpack://_N_E/./node_modules/@jbrowse/react-linear-genome-view/esm/createModel/AboutDialog.js"],"sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport Attributes from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/Attributes';\nimport BaseCard from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard';\nimport { readConfObject } from '@jbrowse/core/configuration';\nimport { ErrorMessage, LoadingEllipses } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nexport default function FileInfoPanel({ config, }) {\n    const [error, setError] = useState();\n    const [info, setInfo] = useState();\n    const session = getSession(config);\n    const { rpcManager } = session;\n    useEffect(() => {\n        ;\n        (async () => {\n            try {\n                const adapterConfig = readConfObject(config, 'adapter');\n                const result = await rpcManager.call(config.trackId, 'CoreGetInfo', {\n                    adapterConfig,\n                });\n                setInfo(result);\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, [config, rpcManager]);\n    const details = typeof info === 'string'\n        ? {\n            header: `<pre>${info\n                .replaceAll('<', '&lt;')\n                .replaceAll('>', '&gt;')}</pre>`,\n        }\n        : info || {};\n    return (_jsx(BaseCard, { title: \"File info\", children: error ? (_jsx(ErrorMessage, { error: error })) : info === undefined ? (_jsx(LoadingEllipses, { message: \"Loading file data\" })) : (_jsx(Attributes, { attributes: details })) }));\n}\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport { readConfObject } from '@jbrowse/core/configuration';\nimport { Dialog, ErrorMessage, LoadingEllipses } from '@jbrowse/core/ui';\nimport { getSession } from '@jbrowse/core/util';\nimport { getConfAssemblyNames } from '@jbrowse/core/util/tracks';\nimport { Button, DialogContent } from '@mui/material';\nimport copy from 'copy-to-clipboard';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nconst MAX_REF_NAMES = 10000;\nconst useStyles = makeStyles()(theme => ({\n    container: {\n        minWidth: 800,\n    },\n    refNames: {\n        maxHeight: 300,\n        overflow: 'auto',\n        flexGrow: 1,\n        background: theme.palette.background.default,\n    },\n}));\nconst RefNameInfoDialog = observer(function ({ config, onClose, }) {\n    const { classes } = useStyles();\n    const [error, setError] = useState();\n    const [refNames, setRefNames] = useState();\n    const [copied, setCopied] = useState(false);\n    const { rpcManager } = getSession(config);\n    useEffect(() => {\n        ;\n        (async () => {\n            try {\n                const map = await Promise.all([...new Set(getConfAssemblyNames(config))].map(async (assemblyName) => {\n                    const adapterConfig = readConfObject(config, 'adapter');\n                    return [\n                        assemblyName,\n                        (await rpcManager.call(config.trackId, 'CoreGetRefNames', {\n                            adapterConfig,\n                            regions: [\n                                {\n                                    assemblyName,\n                                },\n                            ],\n                        })),\n                    ];\n                }));\n                setRefNames(Object.fromEntries(map));\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n    }, [config, rpcManager]);\n    const names = refNames ? Object.entries(refNames) : [];\n    const result = names\n        .flatMap(([assemblyName, refNames]) => {\n        return [\n            `--- ${assemblyName} ---`,\n            ...refNames.slice(0, MAX_REF_NAMES),\n            refNames.length > MAX_REF_NAMES\n                ? `\\nToo many refNames to show in browser for ${assemblyName}, use \"Copy ref names\" button to copy to clipboard`\n                : '',\n        ];\n    })\n        .filter(f => !!f)\n        .join('\\n');\n    return (_jsx(Dialog, { open: true, title: \"Reference sequence names used in track\", onClose: onClose, maxWidth: \"xl\", children: _jsx(DialogContent, { className: classes.container, children: error ? (_jsx(ErrorMessage, { error: error })) : refNames === undefined ? (_jsx(LoadingEllipses, { message: \"Loading refNames\" })) : (_jsxs(_Fragment, { children: [_jsx(Button, { variant: \"contained\", onClick: () => {\n                            copy(names\n                                .flatMap(([assemblyName, refNames]) => [\n                                `--- ${assemblyName} ---`,\n                                ...refNames,\n                            ])\n                                .filter(f => !!f)\n                                .join('\\n'));\n                            setCopied(true);\n                            setTimeout(() => {\n                                setCopied(false);\n                            }, 1000);\n                        }, children: copied ? 'Copied to clipboard!' : 'Copy ref names' }), _jsx(\"pre\", { className: classes.refNames, children: result })] })) }) }));\n});\nexport default RefNameInfoDialog;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Attributes from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/Attributes';\nimport BaseCard from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail/BaseCard';\nimport { getConf, readConfObject } from '@jbrowse/core/configuration';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { Button } from '@mui/material';\nimport copy from 'copy-to-clipboard';\nimport { observer } from 'mobx-react';\nimport { makeStyles } from 'tss-react/mui';\nimport FileInfoPanel from './FileInfoPanel';\nimport RefNameInfoDialog from './RefNameInfoDialog';\nconst useStyles = makeStyles()({\n    content: {\n        minWidth: 800,\n    },\n    button: {\n        float: 'right',\n    },\n});\nfunction removeAttr(obj, attr) {\n    for (const prop in obj) {\n        if (prop === attr) {\n            delete obj[prop];\n        }\n        else if (typeof obj[prop] === 'object') {\n            removeAttr(obj[prop], attr);\n        }\n    }\n    return obj;\n}\nconst AboutDialogContents = observer(function ({ config, }) {\n    const [copied, setCopied] = useState(false);\n    const conf = readConfObject(config);\n    const session = getSession(config);\n    const { classes } = useStyles();\n    const [showRefNames, setShowRefNames] = useState(false);\n    const hideUris = getConf(session, ['formatAbout', 'hideUris']) ||\n        readConfObject(config, ['formatAbout', 'hideUris']);\n    const { pluginManager } = getEnv(session);\n    const confPostExt = pluginManager.evaluateExtensionPoint('Core-customizeAbout', {\n        config: {\n            ...conf,\n            ...getConf(session, ['formatAbout', 'config'], { config: conf }),\n            ...readConfObject(config, ['formatAbout', 'config'], { config: conf }),\n        },\n    }, { session, config });\n    const ExtraPanel = pluginManager.evaluateExtensionPoint('Core-extraAboutPanel', null, { session, config });\n    return (_jsxs(\"div\", { className: classes.content, children: [_jsxs(BaseCard, { title: \"Configuration\", children: [!hideUris ? (_jsxs(\"span\", { className: classes.button, children: [_jsx(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                                    setShowRefNames(true);\n                                }, children: \"Show ref names\" }), _jsx(Button, { variant: \"contained\", onClick: () => {\n                                    const snap = removeAttr(structuredClone(conf), 'baseUri');\n                                    copy(JSON.stringify(snap, null, 2));\n                                    setCopied(true);\n                                    setTimeout(() => {\n                                        setCopied(false);\n                                    }, 1000);\n                                }, children: copied ? 'Copied to clipboard!' : 'Copy config' })] })) : null, _jsx(Attributes, { attributes: confPostExt.config, omit: ['displays', 'baseUri', 'refNames', 'formatAbout', 'metadata'], hideUris: hideUris })] }), confPostExt.config.metadata ? (_jsx(BaseCard, { title: \"Metadata\", children: _jsx(Attributes, { attributes: confPostExt.config.metadata, omit: ['displays', 'baseUri', 'refNames', 'formatAbout'], hideUris: hideUris }) })) : null, ExtraPanel ? (_jsx(BaseCard, { title: ExtraPanel.name, children: _jsx(ExtraPanel.Component, { config: config }) })) : null, _jsx(FileInfoPanel, { config: config }), showRefNames ? (_jsx(RefNameInfoDialog, { config: config, onClose: () => {\n                    setShowRefNames(false);\n                } })) : null] }));\n});\nexport default AboutDialogContents;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport Dialog from '@jbrowse/core/ui/Dialog';\nimport { getEnv, getSession } from '@jbrowse/core/util';\nimport { getTrackName } from '@jbrowse/core/util/tracks';\nimport AboutContents from './AboutDialogContents';\nexport function AboutDialog({ config, handleClose, }) {\n    const session = getSession(config);\n    const trackName = getTrackName(config, session);\n    const { pluginManager } = getEnv(session);\n    const AboutComponent = pluginManager.evaluateExtensionPoint('Core-replaceAbout', AboutContents, { session, config });\n    return (_jsx(Dialog, { open: true, onClose: handleClose, title: trackName, maxWidth: \"xl\", children: _jsx(AboutComponent, { config: config }) }));\n}\n","export { AboutDialog as default } from '@jbrowse/product-core';\n"],"names":[],"sourceRoot":"","ignoreList":[0,1,2,3,4]}