"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4469],{4469:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var o=t(95155),i=t(12115),s=t(54262),a=t(88611),l=t(73518),c=t(79643),r=t(74905),d=t(29793),u=t(78443),p=t(67072),h=t(97771),m=t(47204),g=t(11453);let f=(0,p.observer)(function({connectionType:e,model:n,session:t}){let s=e.configEditorComponent||g.S;return(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(m.LoadingEllipses,{}),children:(0,o.jsx)(s,{model:{target:n},session:t})})}),x=(0,t(22471).A)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var C=t(19293),j=t(47821),v=t(80583);let b=(0,p.observer)(function({connectionTypeChoices:e,connectionType:n,setConnectionType:t}){let s=e[0];return(0,i.useEffect)(()=>{n||t(s)},[n,s,t]),(0,o.jsx)("form",{autoComplete:"off",children:n?(0,o.jsx)(C.A,{value:n.name,label:"connectionType",helperText:n.description?(0,o.jsxs)(o.Fragment,{children:[n.description,n.url?(0,o.jsx)(j.A,{href:n.url,rel:"noopener noreferrer",target:"_blank",children:(0,o.jsx)(x,{})}):null]}):null,select:!0,fullWidth:!0,onChange:n=>{t(e.find(e=>e.name===n.target.value))},variant:"outlined",children:e.map(e=>(0,o.jsx)(v.A,{value:e.name,children:e.displayName||e.name},e.name))}):null})}),k=(0,h.makeStyles)()(e=>({root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}})),N=["Select a Connection Type","Configure Connection"],S=(0,p.observer)(function({model:e}){let[n,t]=(0,i.useState)(),[p,h]=(0,i.useState)(),[m,g]=(0,i.useState)(0),{classes:x}=k(),C=(0,s.getSession)(e),{pluginManager:j}=(0,s.getEnv)(C),v=(0,i.useMemo)(()=>null==n?void 0:n.configSchema.create({connectionId:p},(0,s.getEnv)(e)),[p,n,e]);return(0,o.jsx)("div",{className:x.root,children:(0,o.jsx)(l.A,{className:x.stepper,activeStep:m,orientation:"vertical",children:N.map(i=>(0,o.jsxs)(c.A,{children:[(0,o.jsx)(r.A,{children:i}),(0,o.jsxs)(d.A,{children:[0===m?(0,o.jsx)(b,{connectionTypeChoices:j.getConnectionElements(),connectionType:n,setConnectionType:e=>{t(e),e&&h(`${e.name}-${Date.now()}`)}}):n&&v?(0,o.jsx)(f,{connectionType:n,model:v,session:C}):null,(0,o.jsxs)("div",{className:x.actionsContainer,children:[(0,o.jsx)(u.A,{disabled:0===m,onClick:()=>{g(m-1)},className:x.button,children:"Back"}),(0,o.jsx)(u.A,{disabled:!(0===m&&n||1===m&&v),variant:"contained",color:"primary",onClick:()=>{if(m===N.length-1){if(v&&(0,a.M)(C)){let e=C.addConnectionConf(v);C.makeConnection(e)}else C.notify("No config model to add");(0,s.isSessionModelWithWidgets)(C)&&C.hideWidget(e)}else g(m+1)},className:x.button,"data-testid":"addConnectionNext",children:m===N.length-1?"Connect":"Next"})]})]})]},i))})})})}}]);
//# sourceMappingURL=4469.a9beee5d9d2a82fa.js.map