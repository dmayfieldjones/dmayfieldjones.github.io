"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4809],{34809:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(12115),l=n(47204),r=n(54262),c=n(77311),i=n(9561),s=n(19293),o=n(55089),u=n(80583),m=n(79201),E=n(17386),f=n(93929),g=n(78443);function h(){return a.createElement("div",null,a.createElement(c.A,{size:20,style:{marginRight:20}}),a.createElement(i.A,{display:"inline"},"Creating SVG"))}function d({children:e,...t}){return a.createElement("div",null,a.createElement(s.A,{...t},e))}function v(e,t){return(0,r.useLocalStorage)(`svg-${e}`,t)}function p({model:e,handleClose:t}){let n=(0,r.getSession)(e),c="undefined"!=typeof OffscreenCanvas,[s,p]=(0,a.useState)(c),[y,b]=(0,a.useState)(!1),[A,C]=(0,a.useState)(),[k,S]=v("file","jbrowse.svg"),[w,z]=v("theme",n.themeName||"default");return a.createElement(l.Dialog,{open:!0,onClose:t,title:"Export SVG"},a.createElement(o.A,null,A?a.createElement(l.ErrorMessage,{error:A}):y?a.createElement(h,null):null,a.createElement(d,{helperText:"filename",value:k,onChange:e=>{S(e.target.value)}}),n.allThemes?a.createElement(d,{select:!0,label:"Theme",value:w,onChange:e=>{z(e.target.value)}},Object.entries(n.allThemes()).map(([e,t])=>a.createElement(u.A,{key:e,value:e},t.name||"(Unknown name)"))):null,c?a.createElement(m.A,{control:a.createElement(E.A,{checked:s,onChange:()=>{p(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):a.createElement(i.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),a.createElement(f.A,null,a.createElement(g.A,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel"),a.createElement(g.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{b(!0),C(void 0);try{await e.exportSvg({rasterizeLayers:s,filename:k,themeName:w}),t()}catch(e){console.error(e),C(e)}finally{b(!1)}}},"Submit")))}}}]);
//# sourceMappingURL=4809.87d7ccefd5798920.js.map