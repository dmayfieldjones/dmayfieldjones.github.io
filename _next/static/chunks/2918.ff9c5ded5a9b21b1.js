"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2918],{62918:(e,n,s)=>{s.r(n),s.d(n,{default:()=>p});var r=s(95155),a=s(12115),t=s(94029),l=s(15715),i=s(62516),o=s(9670),c=s(95946),u=s(64150),h=s(2360),d=s(54102),x=s(59886),j=s(96358),f=s(66292);function g(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(i.A,{size:20,style:{marginRight:20}}),(0,r.jsx)(o.A,{display:"inline",children:"Creating SVG"})]})}function m({children:e,...n}){return(0,r.jsx)("div",{children:(0,r.jsx)(c.A,{...n,children:e})})}function v(e,n){return(0,l.useLocalStorage)(`svg-${e}`,n)}function p({model:e,handleClose:n}){let s=(0,l.getSession)(e),i="undefined"!=typeof OffscreenCanvas,[c,p]=(0,a.useState)(i),[y,b]=(0,a.useState)(!1),[A,C]=(0,a.useState)(),[S,k]=v("file","jbrowse.svg"),[w,z]=v("theme",s.themeName||"default");return(0,r.jsxs)(t.Dialog,{open:!0,onClose:n,title:"Export SVG",children:[(0,r.jsxs)(u.A,{children:[A?(0,r.jsx)(t.ErrorMessage,{error:A}):y?(0,r.jsx)(g,{}):null,(0,r.jsx)(m,{helperText:"filename",value:S,onChange:e=>{k(e.target.value)}}),s.allThemes?(0,r.jsx)(m,{select:!0,label:"Theme",value:w,onChange:e=>{z(e.target.value)},children:Object.entries(s.allThemes()).map(([e,n])=>(0,r.jsx)(h.A,{value:e,children:n.name||"(Unknown name)"},e))}):null,i?(0,r.jsx)(d.A,{control:(0,r.jsx)(x.A,{checked:c,onChange:()=>{p(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,r.jsx)(o.A,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,r.jsxs)(j.A,{children:[(0,r.jsx)(f.A,{variant:"contained",color:"secondary",onClick:()=>{n()},children:"Cancel"}),(0,r.jsx)(f.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{b(!0),C(void 0);try{await e.exportSvg({rasterizeLayers:c,filename:S,themeName:w}),n()}catch(e){console.error(e),C(e)}finally{b(!1)}},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=2918.ff9c5ded5a9b21b1.js.map