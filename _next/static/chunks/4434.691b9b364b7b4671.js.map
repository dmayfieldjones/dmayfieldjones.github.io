{"version":3,"file":"static/chunks/4434.691b9b364b7b4671.js","mappings":"gJAMO,wBAEP,MADiB,uBAAiB,IAClC,2BACA,WACA,sBACA,sCACA,aACA,aACA,yBACA,MACA,OAIA,OAFA,aACA,WACgB,SAAI,UAAY,oDAAwE,CACxG,CACA,CAEA,SADA,OAA0B,6CAAoB,CAC9C,aACA,WACA,MAxBA,YACA,+BACA,kBAAuB,WAAqB,GAsB5C,MACA,MAAgB,UAAK,CAAC,UAAS,EAAI,UAAW,SAAI,SAAW,SAAU,SAAI,aAAe,cAAsB,SAAI,SAAW,yBAA0C,EAAG,EAAG,EAAG,SAAI,MAAQ,yBAA2B,4BAAgC,kBAAoB,EAAO,GAAI,GAAI,CAC5R,CACA","sources":["webpack://_N_E/./node_modules/@jbrowse/plugin-alignments/esm/shared/renderSvgUtil.js"],"sourcesContent":["import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { getContainingView } from '@jbrowse/core/util';\nfunction getId(id) {\n    const isJest = typeof jest === 'undefined';\n    return `arc-clip-${isJest ? id : 'jest'}`;\n}\nexport async function renderSvg(self, opts, cb) {\n    const view = getContainingView(self);\n    const width = view.dynamicBlocks.totalWidthPx;\n    const height = self.height;\n    if (opts.rasterizeLayers) {\n        const canvas = document.createElement('canvas');\n        canvas.width = width * 2;\n        canvas.height = height * 2;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            return;\n        }\n        ctx.scale(2, 2);\n        cb(self, ctx, width, height);\n        return (_jsx(\"image\", { width: width, height: height, xlinkHref: canvas.toDataURL('image/png') }));\n    }\n    else {\n        const C2S = await import('canvas2svg');\n        const ctx = new C2S.default(width, height);\n        cb(self, ctx, width, height);\n        const clipid = getId(self.id);\n        return (_jsxs(_Fragment, { children: [_jsx(\"defs\", { children: _jsx(\"clipPath\", { id: clipid, children: _jsx(\"rect\", { x: 0, y: 0, width: width, height: height }) }) }), _jsx(\"g\", { dangerouslySetInnerHTML: { __html: ctx.getSvg().innerHTML }, clipPath: `url(#${clipid})` })] }));\n    }\n}\n"],"names":[],"sourceRoot":"","ignoreList":[0]}