"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{90551:(e,o,l)=>{l.d(o,{drawDensity:()=>f});var t=l(53394),r=l(54262),a=l(23836);function f(e,o){let{features:l,regions:f,bpPerPx:c,scaleOpts:n,height:i,config:s}=o,u=f[0],C=(0,t.readConfObject)(s,"bicolorPivot"),b=(0,t.readConfObject)(s,"bicolorPivotValue"),d=(0,t.readConfObject)(s,"negColor"),p=(0,t.readConfObject)(s,"posColor"),g=(0,t.readConfObject)(s,"color"),h=(0,t.readConfObject)(s,"clipColor"),v="none"!==C&&"log"!==n.scaleType,j=(0,a.getScale)({...n,pivotValue:v?b:void 0,range:v?[d,"white",p]:["white",p]}),O=(0,a.getScale)({...n,range:[0,i]}),N="#f0f"===g?(e,o)=>j(o):(e,o)=>(0,t.readConfObject)(s,"color",{feature:e,score:o}),S=O.domain(),w=S[0],y=S[1],_=Number.NEGATIVE_INFINITY,k=!1,x=[];for(let o of l.values()){let[l,t]=(0,r.featureSpanPx)(o,u,c);Math.floor(l)!==Math.floor(_)&&(x.push(o),_=l);let a=o.get("score");k=k||a>y||a<w;let f=t-l+.3;e.fillStyle=N(o,a),e.fillRect(l,0,f,i)}if(e.save(),k)for(let o of(e.fillStyle=h,l.values())){let[l,t]=(0,r.featureSpanPx)(o,u,c),f=t-l+.3,i=o.get("score");i>y?(0,a.fillRectCtx)(l,0,f,2,e):i<w&&"log"!==n.scaleType&&(0,a.fillRectCtx)(l,0,f,2,e)}return e.restore(),{reducedFeatures:x}}}}]);
//# sourceMappingURL=551.ab35d18f14bd2509.js.map