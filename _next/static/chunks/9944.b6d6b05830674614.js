"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76,9944],{50076:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l,makeFeatures:()=>f});var a=s(88753),r=s(29269),u=s(31232),n=s(91603);function f(e){let t=new Map;for(let s of e){let e=new n.default(s),a=e.get("refName"),r=t.get(a);r||(r=[],t.set(a,r)),r.push(e)}for(let e of t.values())e.sort((e,t)=>e.get("start")-t.get("start"));return t}class l extends r.BaseFeatureDataAdapter{constructor(e,t,s){super(e,t,s);let r=(0,a.readConfObject)(e,"features");this.features=f(r)}async getRefNames(){return[...this.features.keys()]}async getRefNameAliases(){return[...this.features.values()].map(e=>({refName:e[0].get("refName"),aliases:e[0].get("aliases")}))}getFeatures(e){let{refName:t,start:s,end:a}=e;return(0,u.ObservableCreate)(async e=>{for(let r of this.features.get(t)||[])r.get("end")>s&&r.get("start")<a&&e.next(r);e.complete()})}freeResources(){}}},69944:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(31232),r=s(91603),u=s(41431),n=s(96885),f=s(50076);class l extends f.default{getFeatures(e){return(0,a.ObservableCreate)(async t=>{let s=(await (0,u._)(super.getFeatures(e).pipe((0,n.$)())))[0];t.next(new r.default({...s.toJSON(),uniqueId:`${s.id()}:${e.start}-${e.end}`,end:e.end,start:e.start,seq:s.get("seq").slice(Math.max(e.start-s.get("start"),0),Math.max(e.end-s.get("start"),0))})),t.complete()})}async getRegions(){let e=[];for(let[t,s]of this.features){let a;for(let r of s)a&&a.end>=r.get("start")&&a.start<=r.get("end")?a.end=r.get("end"):(a&&e.push(a),a={refName:t,start:r.get("start"),end:r.get("end")});a&&e.push(a)}return e}freeResources(){}}}}]);
//# sourceMappingURL=9944.b6d6b05830674614.js.map