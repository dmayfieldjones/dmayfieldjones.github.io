"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1948],{43909:(e,t,n)=>{n.d(t,{A:()=>v});var i=n(95155),l=n(12115),o=n(88753),r=n(15715),s=n(19468),a=n(86168);function d(e,t){var n,i,l,o;let r;let s=t?(0,a.h)(t):void 0,d=e.get("start"),u=e.get("end"),c=e.get("strand"),f=e.get("mate"),v=e.get("refName"),g=0,m=0,h=0,x=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),s=null!==(i=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==i?i:u;r=null!==(o=null===(l=null==t?void 0:t.CHR2)||void 0===l?void 0:l[0])&&void 0!==o?o:v,g=s,m=s-1,u=d+1}else if(null==s?void 0:s.MatePosition){let e=s.MatePosition.split(":");x="left"===s.MateDirection?1:-1,h="left"===s.Join?-1:1,g=+e[1],m=+e[1]-1,r=e[0]}return{k1:{refName:v,start:d,end:u,strand:c,mateDirection:x},k2:null!=f?f:{refName:r||"unknown",end:g,start:m,mateDirection:h}}}let u=(0,l.lazy)(()=>n.e(5620).then(n.bind(n,65620))),c=(0,s.observer)(function({model:e,feature:t,alt:n,assembly:s,view:a}){var c,f;let[v,g]=(0,l.useState)(!1),{height:m}=e,{k1:h,k2:x}=d(t,n),k=(0,l.useRef)(null),N=(0,o.getConf)(e,"color",{feature:t,alt:n}),p=s.getCanonicalRefName(h.refName)||h.refName,b=s.getCanonicalRefName(x.refName)||x.refName,j=h.start,P=x.start,C=null===(c=a.bpToPx({refName:p,coord:j}))||void 0===c?void 0:c.offsetPx,M=null===(f=a.bpToPx({refName:b,coord:P}))||void 0===f?void 0:f.offsetPx;if(void 0!==C&&void 0!==M){let o=Math.abs((M-C)/2),s=Math.min(m,o),c=C-a.offsetPx,f=M-a.offsetPx,p=v?"black":N;return o>1?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:`M ${c} 0 C ${c} ${s}, ${f} ${s}, ${f} 0`,ref:k,...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{g(!1)},onMouseOver:()=>{g(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),h.mateDirection?(0,i.jsx)("line",{...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{g(!1)},onMouseOver:()=>{g(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*h.mateDirection,y1:1.5,y2:1.5}):null,x.mateDirection?(0,i.jsx)("line",{...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{g(!1)},onMouseOver:()=>{g(!0)},onClick:()=>{e.selectFeature(t)},x1:f,x2:f+20*x.mateDirection,y1:1.5,y2:1.5}):null,v?(0,i.jsx)(l.Suspense,{fallback:null,children:(0,i.jsx)(u,{contents:function(e,t){var n;let{k1:i,k2:l}=d(e,t);return[e.get("name"),e.get("id"),(0,r.assembleLocString)(i),(0,r.assembleLocString)(l),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter(e=>!!e).join("<br/>")}(t,n)})}):null]}):null}return null}),f=(0,s.observer)(function({model:e,exportSVG:t,children:n}){let{height:l}=e,o=Math.round((0,r.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:(0,i.jsx)("svg",{width:o,height:l,children:n})}),v=(0,s.observer)(function({model:e,exportSVG:t}){let n=(0,r.getContainingView)(e),l=(0,r.getSession)(e),{assemblyManager:o}=l,{features:s}=e,a=o.get(n.assemblyNames[0]);return a?(0,i.jsx)(f,{model:e,exportSVG:t,children:null==s?void 0:s.map(t=>{var o;let r=t.get("ALT");return null!==(o=null==r?void 0:r.map(o=>(0,i.jsx)(c,{session:l,feature:t,alt:o,view:n,model:e,assembly:a},`${t.id()}-${o}`)))&&void 0!==o?o:(0,i.jsx)(c,{session:l,feature:t,view:n,model:e,assembly:a},t.id())})}):null})},61948:(e,t,n)=>{n.d(t,{renderArcSvg:()=>r});var i=n(95155),l=n(15715),o=n(43909);async function r(e,t){await (0,l.when)(()=>!e.loading);let n=(0,l.getContainingView)(e).dynamicBlocks.totalWidthPx,r=e.height,s=`arc-${e.id}`;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:s,children:(0,i.jsx)("rect",{x:0,y:0,width:n,height:r})})}),(0,i.jsx)("g",{clipPath:`url(#${s})`,children:(0,i.jsx)(o.A,{model:e,exportSVG:!0})})]})}}}]);
//# sourceMappingURL=1948.4b40cb4ec097f0b8.js.map