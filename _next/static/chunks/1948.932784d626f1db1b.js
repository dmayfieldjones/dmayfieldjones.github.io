"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1948],{43909:(e,t,n)=>{n.d(t,{A:()=>g});var l=n(95155),i=n(12115),o=n(88753),r=n(15715),s=n(19468),a=n(33989);function u(e,t){var n,l,i,o;let r,s=t?(0,a.h)(t):void 0,u=e.get("start"),d=e.get("end"),c=e.get("strand"),f=e.get("mate"),g=e.get("refName"),m=0,h=0,v=0,x=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),s=null!=(l=null==(n=null==t?void 0:t.END)?void 0:n[0])?l:d;r=null!=(o=null==(i=null==t?void 0:t.CHR2)?void 0:i[0])?o:g,m=s,h=s-1,d=u+1}else if(null==s?void 0:s.MatePosition){let e=s.MatePosition.split(":");x="left"===s.MateDirection?1:-1,v="left"===s.Join?-1:1,m=+e[1],h=e[1]-1,r=e[0]}return{k1:{refName:g,start:u,end:d,strand:c,mateDirection:x},k2:null!=f?f:{refName:r||"unknown",end:m,start:h,mateDirection:v}}}let d=(0,i.lazy)(()=>n.e(5620).then(n.bind(n,65620))),c=(0,s.observer)(function({model:e,feature:t,alt:n,assembly:s,view:a}){var c,f;let[g,m]=(0,i.useState)(!1),{height:h}=e,{k1:v,k2:x}=u(t,n),k=(0,i.useRef)(null),N=(0,o.getConf)(e,"color",{feature:t,alt:n}),p=s.getCanonicalRefName(v.refName)||v.refName,b=s.getCanonicalRefName(x.refName)||x.refName,j=v.start,P=x.start,C=null==(c=a.bpToPx({refName:p,coord:j}))?void 0:c.offsetPx,M=null==(f=a.bpToPx({refName:b,coord:P}))?void 0:f.offsetPx;if(void 0!==C&&void 0!==M){let o=Math.abs((M-C)/2),s=Math.min(h,o),c=C-a.offsetPx,f=M-a.offsetPx,p=g?"black":N;return o>1?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:`M ${c} 0 C ${c} ${s}, ${f} ${s}, ${f} 0`,ref:k,...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),v.mateDirection?(0,l.jsx)("line",{...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*v.mateDirection,y1:1.5,y2:1.5}):null,x.mateDirection?(0,l.jsx)("line",{...(0,r.getStrokeProps)(p),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},x1:f,x2:f+20*x.mateDirection,y1:1.5,y2:1.5}):null,g?(0,l.jsx)(i.Suspense,{fallback:null,children:(0,l.jsx)(d,{contents:function(e,t){var n;let{k1:l,k2:i}=u(e,t);return[e.get("name"),e.get("id"),(0,r.assembleLocString)(l),(0,r.assembleLocString)(i),null==(n=e.get("INFO"))?void 0:n.SVTYPE,t].filter(e=>!!e).join("<br/>")}(t,n)})}):null]}):null}return null}),f=(0,s.observer)(function({model:e,exportSVG:t,children:n}){let{height:i}=e,o=Math.round((0,r.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:(0,l.jsx)("svg",{width:o,height:i,children:n})}),g=(0,s.observer)(function({model:e,exportSVG:t}){let n=(0,r.getContainingView)(e),i=(0,r.getSession)(e),{assemblyManager:o}=i,{features:s}=e,a=o.get(n.assemblyNames[0]);return a?(0,l.jsx)(f,{model:e,exportSVG:t,children:null==s?void 0:s.map(t=>{var o;let r=t.get("ALT");return null!=(o=null==r?void 0:r.map(o=>(0,l.jsx)(c,{session:i,feature:t,alt:o,view:n,model:e,assembly:a},`${t.id()}-${o}`)))?o:(0,l.jsx)(c,{session:i,feature:t,view:n,model:e,assembly:a},t.id())})}):null})},61948:(e,t,n)=>{n.d(t,{renderArcSvg:()=>r});var l=n(95155),i=n(15715),o=n(43909);async function r(e,t){await (0,i.when)(()=>!e.loading);let n=(0,i.getContainingView)(e).dynamicBlocks.totalWidthPx,r=e.height,s=`arc-${e.id}`;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:s,children:(0,l.jsx)("rect",{x:0,y:0,width:n,height:r})})}),(0,l.jsx)("g",{clipPath:`url(#${s})`,children:(0,l.jsx)(o.A,{model:e,exportSVG:!0})})]})}}}]);
//# sourceMappingURL=1948.932784d626f1db1b.js.map