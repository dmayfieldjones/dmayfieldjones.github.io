"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4848],{34848:(e,l,t)=>{t.r(l),t.d(l,{default:()=>v});var n=t(95155),i=t(12115),o=t(42086),s=t.n(o),r=t(15715),a=t(64150),c=t(66292),d=t(96358),h=t(74100),u=t(94029),m=t(94288),g=t.n(m),x=t(35710),f=t(30467),j=t(63625),p=t(55604),C=t(24716),b=t(90787);let w=(0,h.makeStyles)()({cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),k=function({rows:e,onChange:l,showTips:t}){let{classes:o}=w(),[s,a]=(0,i.useState)(null),[d,h]=(0,i.useState)([]),{name:k,color:S,baseUri:v,...A}=e[0],[M,y]=(0,i.useState)("blue"),[N,T]=(0,i.useState)({idx:0,field:null});return(0,n.jsxs)("div",{children:[(0,n.jsx)(c.A,{disabled:!d.length,onClick:e=>{a(e.currentTarget)},children:"Change color of selected items"}),(0,n.jsxs)(c.A,{onClick:()=>{l((0,b.BO)([...e],d))},disabled:!d.length,children:[(0,n.jsx)(f.A,{}),t?"Move selected items up":null]}),(0,n.jsxs)(c.A,{onClick:()=>{l((0,b.oJ)([...e],d))},disabled:!d.length,children:[(0,n.jsx)(x.A,{}),t?"Move selected items down":null]}),(0,n.jsxs)(c.A,{onClick:()=>{l((0,b.BO)([...e],d,e.length))},disabled:!d.length,children:[(0,n.jsx)(p.A,{}),t?"Move selected items to top":null]}),(0,n.jsxs)(c.A,{onClick:()=>{l((0,b.oJ)([...e],d,e.length))},disabled:!d.length,children:[(0,n.jsx)(j.A,{}),t?"Move selected items to bottom":null]}),(0,n.jsx)(m.ColorPopover,{anchorEl:s,color:M,onChange:t=>{for(let l of(y(t),d)){let n=e.find(e=>e.name===l);n&&(n.color=t)}l([...e])},onClose:()=>{a(null)}}),(0,n.jsx)("div",{style:{height:400,width:"100%"},children:(0,n.jsx)(C.z,{getRowId:e=>e.name,checkboxSelection:!0,disableRowSelectionOnClick:!0,onRowSelectionModelChange:e=>{h(e)},rows:e,rowHeight:25,columnHeaderHeight:33,columns:[{field:"color",headerName:"Color",renderCell:({value:t,id:i})=>(0,n.jsx)(g(),{color:t||"blue",onChange:t=>{let n=e.find(e=>e.name===i);n&&(n.color=t),l([...e])}})},{field:"name",headerName:"Name",width:(0,r.measureGridWidth)(e.map(e=>e.name))},...Object.keys(A).map(l=>({field:l,renderCell:({value:e})=>(0,n.jsx)("div",{className:o.cell,children:(0,n.jsx)(u.SanitizedHTML,{html:(0,r.getStr)(e)})}),width:(0,r.measureGridWidth)(e.map(e=>`${e[l]}`))}))],sortModel:[],onSortModelChange:t=>{let n=t[0],i=(N.idx+1)%2,o=n.field||N.field;T({idx:i,field:o}),l(o?[...e].sort((e,l)=>{let t=(0,r.getStr)(e[o]),n=(0,r.getStr)(l[o]);return 1===i?t.localeCompare(n):n.localeCompare(t)}):e)}})})]})},S=(0,h.makeStyles)()({content:{minWidth:800},float:{float:"right"}});function v({model:e,handleClose:l}){let{classes:t}=S(),{sources:o}=e,[h,u]=(0,i.useState)(structuredClone(o||[])),[m,g]=(0,r.useLocalStorage)("multiwiggle-showTips",!1);return(0,n.jsxs)(s(),{open:!0,onClose:l,maxWidth:"xl",title:"Multi-wiggle color/arrangement editor",children:[(0,n.jsxs)(a.A,{className:t.content,children:[(0,n.jsx)(c.A,{variant:"contained",className:t.float,onClick:()=>{g(!m)},children:m?"Hide tips":"Show tips"}),(0,n.jsx)("br",{}),m?(0,n.jsxs)(n.Fragment,{children:["Helpful tips",(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"You can select rows in the table with the checkboxes"}),(0,n.jsx)("li",{children:"Multi-select is enabled with shift-click and control-click"}),(0,n.jsx)("li",{children:'The "Move selected items up/down" can re-arrange subtracks'}),(0,n.jsx)("li",{children:"Sorting the data grid itself can also re-arrange subtracks"}),(0,n.jsx)("li",{children:"Changes are applied when you hit Submit"}),(0,n.jsx)("li",{children:"You can click and drag the dialog box to move it on the screen"}),(0,n.jsx)("li",{children:"Columns in the table can be hidden using a vertical '...' menu on the right side of each column"})]})]}):null,(0,n.jsx)(k,{rows:h,onChange:u,showTips:m})]}),(0,n.jsxs)(d.A,{children:[(0,n.jsx)(c.A,{variant:"contained",type:"submit",color:"inherit",onClick:()=>{e.clearLayout(),u(e.sources||[])},children:"Clear custom settings"}),(0,n.jsx)(c.A,{variant:"contained",color:"secondary",onClick:()=>{l(),u([...e.sources||[]])},children:"Cancel"}),(0,n.jsx)(c.A,{variant:"contained",color:"primary",type:"submit",onClick:()=>{e.setLayout(h),l()},children:"Submit"})]})]})}},90787:(e,l,t)=>{t.d(l,{A3:()=>r,BO:()=>o,oJ:()=>s});var n=t(88753),i=t(15715);function o(e,l,t=1){let n=l.map(l=>e.findIndex(e=>e.name===l)).sort((e,l)=>e-l),i=0;for(let l of n){let n=Math.max(i,l-t);n>=i&&e.splice(n,0,e.splice(l,1)[0]),i+=1}return e}function s(e,l,t=1){let n=l.map(l=>e.findIndex(e=>e.name===l)).sort((e,l)=>l-e),i=e.length-1;for(let l of n){let n=Math.min(i,l+t);n<=i&&e.splice(n,0,e.splice(l,1)[0]),i-=1}return e}function r(e){let{prefersOffset:l}=e,{trackLabels:t}=(0,i.getContainingView)(e),o=(0,i.getContainingTrack)(e),s=(0,n.getConf)(o,"name");return"overlapping"!==t||l?10:(0,i.measureText)(s,12.8)+100}}}]);
//# sourceMappingURL=4848.55a0824777851f7d.js.map