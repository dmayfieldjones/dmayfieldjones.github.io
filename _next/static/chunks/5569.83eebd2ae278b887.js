"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5569],{75728:(e,t,n)=>{n.d(t,{A:()=>m});var l=n(12115),o=n(53394),r=n(54262),i=n(67072),a=n(31448);function s(e,t){var n,l,o,r;let i;let s=t?(0,a.h)(t):void 0,u=e.get("start"),c=e.get("end"),d=e.get("strand"),m=e.get("mate"),f=e.get("refName"),v=0,g=0,h=0,k=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),a=null!==(l=null===(n=null==t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==l?l:c;i=null!==(r=null===(o=null==t?void 0:t.CHR2)||void 0===o?void 0:o[0])&&void 0!==r?r:f,v=a,g=a-1,c=u+1}else if(null==s?void 0:s.MatePosition){let e=s.MatePosition.split(":");k="left"===s.MateDirection?1:-1,h="left"===s.Join?-1:1,v=+e[1],g=+e[1]-1,i=e[0]}return{k1:{refName:f,start:u,end:c,strand:d,mateDirection:k},k2:null!=m?m:{refName:i||"unknown",end:v,start:g,mateDirection:h}}}let u=(0,l.lazy)(()=>n.e(6141).then(n.bind(n,86141))),c=(0,i.observer)(function({model:e,feature:t,alt:n,assembly:i,view:a}){var c,d;let[m,f]=(0,l.useState)(!1),{height:v}=e,{k1:g,k2:h}=s(t,n),k=(0,l.useRef)(null),E=(0,o.getConf)(e,"color",{feature:t,alt:n}),N=i.getCanonicalRefName(g.refName)||g.refName,p=i.getCanonicalRefName(h.refName)||h.refName,P=g.start,b=h.start,x=null===(c=a.bpToPx({refName:N,coord:P}))||void 0===c?void 0:c.offsetPx,y=null===(d=a.bpToPx({refName:p,coord:b}))||void 0===d?void 0:d.offsetPx;if(void 0!==x&&void 0!==y){let o=Math.abs((y-x)/2),i=Math.min(v,o),c=x-a.offsetPx,d=y-a.offsetPx,N=m?"black":E;return o>1?l.createElement(l.Fragment,null,l.createElement("path",{d:`M ${c} 0 C ${c} ${i}, ${d} ${i}, ${d} 0`,ref:k,...(0,r.getStrokeProps)(N),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),g.mateDirection?l.createElement("line",{...(0,r.getStrokeProps)(N),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*g.mateDirection,y1:1.5,y2:1.5}):null,h.mateDirection?l.createElement("line",{...(0,r.getStrokeProps)(N),strokeWidth:3,onMouseOut:()=>{f(!1)},onMouseOver:()=>{f(!0)},onClick:()=>{e.selectFeature(t)},x1:d,x2:d+20*h.mateDirection,y1:1.5,y2:1.5}):null,m?l.createElement(l.Suspense,{fallback:null},l.createElement(u,{contents:function(e,t){var n;let{k1:l,k2:o}=s(e,t);return[e.get("name"),e.get("id"),(0,r.assembleLocString)(l),(0,r.assembleLocString)(o),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter(e=>!!e).join(" - ")}(t,n)})):null):null}return null}),d=(0,i.observer)(function({model:e,exportSVG:t,children:n}){let{height:o}=e,i=Math.round((0,r.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:l.createElement("svg",{width:i,height:o},n)}),m=(0,i.observer)(function({model:e,exportSVG:t}){let n=(0,r.getContainingView)(e),o=(0,r.getSession)(e),{assemblyManager:i}=o,{features:a}=e,s=i.get(n.assemblyNames[0]);return s?l.createElement(d,{model:e,exportSVG:t},null==a?void 0:a.map(t=>{var r;let i=t.get("ALT");return null!==(r=null==i?void 0:i.map(r=>l.createElement(c,{key:`${t.id()}-${r}`,session:o,feature:t,alt:r,view:n,model:e,assembly:s})))&&void 0!==r?r:l.createElement(c,{key:t.id(),session:o,feature:t,view:n,model:e,assembly:s})})):null})},35569:(e,t,n)=>{n.d(t,{renderArcSvg:()=>i});var l=n(12115),o=n(54262),r=n(75728);async function i(e,t){await (0,o.when)(()=>!e.loading);let n=(0,o.getContainingView)(e).dynamicBlocks.totalWidthPx,i=e.height,a=`arc-${e.id}`;return l.createElement(l.Fragment,null,l.createElement("defs",null,l.createElement("clipPath",{id:a},l.createElement("rect",{x:0,y:0,width:n,height:i}))),l.createElement("g",{clipPath:`url(#${a})`},l.createElement(r.A,{model:e,exportSVG:!0})))}}}]);
//# sourceMappingURL=5569.83eebd2ae278b887.js.map