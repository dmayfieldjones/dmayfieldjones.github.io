"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5267],{5267:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var n=t(95155),s=t(12115),i=t(94029),o=t(19468),l=t(95946),r=t(2360),d=t(40001),c=t(64150),m=t(96358),x=t(66292);let h=(0,o.observer)(function({adapterSelection:e,setAdapterSelection:a,adapterTypes:t}){return(0,n.jsx)(l.A,{value:e,variant:"outlined",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>{a(e.target.value)},children:t.map(e=>(0,n.jsx)(r.A,{value:e,children:e},e))})}),j=(0,o.observer)(function({fastaLocation:e,setFastaLocation:a}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{severity:"warning",style:{margin:30},children:"Note: use only relatively small files for this type, it is loaded into memory"}),(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{a(e)}})})]})}),u=(0,o.observer)(function({fastaLocation:e,faiLocation:a,setFaiLocation:t,setFastaLocation:s}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{s(e)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"faiLocation",location:a,setLocation:e=>{t(e)}})})]})}),p=(0,o.observer)(function({fastaLocation:e,faiLocation:a,gziLocation:t,setFaiLocation:s,setGziLocation:o,setFastaLocation:l}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"fastaLocation",location:e,setLocation:e=>{l(e)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"faiLocation",location:a,setLocation:e=>{s(e)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"gziLocation",location:t,setLocation:e=>{o(e)}})})]})}),A=(0,o.observer)(function({twoBitLocation:e,chromSizesLocation:a,setTwoBitLocation:t,setChromSizesLocation:s}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"twoBitLocation",location:e,setLocation:e=>{t(e)}})}),(0,n.jsx)("div",{children:(0,n.jsx)(i.FileSelector,{inline:!0,name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:a,setLocation:e=>{s(e)}})})]})}),y={uri:""},v=["IndexedFastaAdapter","BgzipFastaAdapter","UnindexedFastaAdapter","TwoBitAdapter"],b=(0,o.observer)(function({session:e,onClose:a}){let[t,i]=(0,s.useState)(""),[o,r]=(0,s.useState)(""),[d,b]=(0,s.useState)(v[0]),[f,g]=(0,s.useState)(y),[F,L]=(0,s.useState)(y),[S,C]=(0,s.useState)(y),[w,k]=(0,s.useState)(y),[z,T]=(0,s.useState)(y);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.A,{children:[(0,n.jsx)(l.A,{id:"assembly-name",label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:t,onChange:e=>{i(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-name"}}}),(0,n.jsx)(l.A,{id:"assembly-name",label:"Assembly display name",helperText:'(optional) A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:o,onChange:e=>{r(e.target.value)},slotProps:{htmlInput:{"data-testid":"assembly-display-name"}}}),(0,n.jsx)(h,{adapterSelection:d,adapterTypes:v,setAdapterSelection:b}),"IndexedFastaAdapter"===d?(0,n.jsx)(u,{fastaLocation:f,faiLocation:F,setFaiLocation:L,setFastaLocation:g}):"UnindexedFastaAdapter"===d?(0,n.jsx)(j,{fastaLocation:f,setFastaLocation:g}):"TwoBitAdapter"===d?(0,n.jsx)(A,{twoBitLocation:w,chromSizesLocation:z,setTwoBitLocation:k,setChromSizesLocation:T}):(0,n.jsx)(p,{fastaLocation:f,gziLocation:S,faiLocation:F,setFaiLocation:L,setGziLocation:C,setFastaLocation:g})]}),(0,n.jsxs)(m.A,{children:[(0,n.jsx)(x.A,{variant:"contained",color:"primary",onClick:()=>{""===t?e.notify("Can't create an assembly without a name"):(a(),e.addAssembly({name:t,displayName:o,sequence:{type:"ReferenceSequenceTrack",trackId:`${t}-${performance.now()}`,adapter:"IndexedFastaAdapter"===d?{type:"IndexedFastaAdapter",fastaLocation:f,faiLocation:F}:"BgzipFastaAdapter"===d?{type:"BgzipFastaAdapter",fastaLocation:f,faiLocation:F,gziLocation:S}:"UnindexedFastaAdapter"===d?{type:"UnindexedFastaAdapter",fastaLocation:f}:{type:"TwoBitAdapter",twoBitLocation:w,chromSizesLocation:z}}}),e.notify(`Added "${t}"`,"success"))},children:"Submit"}),(0,n.jsx)(x.A,{variant:"contained",color:"secondary",onClick:()=>{a()},children:"Cancel"})]})]})});var f=t(54517);let g=(0,t(74100).makeStyles)()({container:{overflow:"auto",maxHeight:600}}),F=(0,o.observer)(function({assembly:e,onClose:a}){let{classes:t}=g();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{children:(0,n.jsx)("div",{className:t.container,children:e?(0,n.jsx)(f.S,{model:{target:e}}):(0,n.jsx)("div",{children:"No assembly"})})}),(0,n.jsx)(m.A,{children:(0,n.jsx)(x.A,{variant:"contained",onClick:()=>{a()},children:"Back"})})]})});var L=t(88753),S=t(15843);let C=(0,t(76856).A)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var w=t(71023),k=t(53494),z=t(42872);let T=(0,o.observer)(function({onEditAssembly:e,onAddAssembly:a,onClose:t,session:s}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,n.jsx)(z.z,{rowHeight:25,columnHeaderHeight:35,hideFooter:s.assemblies.length<25,rows:s.assemblies.map(e=>({id:(0,L.readConfObject)(e,"name"),name:(0,L.readConfObject)(e,"name"),displayName:(0,L.readConfObject)(e,"displayName"),aliases:(0,L.readConfObject)(e,"aliases"),assembly:e})),columns:[{field:"name"},{field:"displayName"},{field:"aliases"},{field:"actions",renderCell:({row:a})=>{let{assembly:t,name:i}=a,o=!!s.sessionAssemblies.includes(t)||s.adminMode;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.A,{disabled:!o,onClick:()=>{e(t)},children:(0,n.jsx)(C,{})}),(0,n.jsx)(k.A,{"data-testid":`${i}-delete`,disabled:!o,onClick:()=>{o&&(s.removeAssembly?s.removeAssembly(i):s.notify("Unable to find removeAssembly function"))},children:(0,n.jsx)(w.A,{})})]})}}]})})}),(0,n.jsxs)(m.A,{children:[(0,n.jsx)(x.A,{color:"secondary",variant:"contained",onClick:()=>{t()},children:"Close"}),(0,n.jsx)(x.A,{variant:"contained",startIcon:(0,n.jsx)(S.A,{}),onClick:()=>{a()},children:"Add new assembly"})]})]})}),B=(0,o.observer)(function({session:e,onClose:a}){let[t,o]=(0,s.useState)(!1),[l,r]=(0,s.useState)();return(0,n.jsx)(i.Dialog,{open:!0,title:"Assembly manager",onClose:()=>{a()},children:l?(0,n.jsx)(F,{assembly:l,onClose:()=>{r(void 0)}}):t?(0,n.jsx)(b,{session:e,onClose:()=>{o(!1)}}):(0,n.jsx)(T,{session:e,onClose:()=>{a()},onAddAssembly:()=>{o(!0)},onEditAssembly:e=>{r(e)}})})})},71023:(e,a,t)=>{t.d(a,{A:()=>i});var n=t(76856),s=t(95155);let i=(0,n.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=5267.4615a496acd2e5f0.js.map