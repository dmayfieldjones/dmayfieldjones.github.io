"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2012],{2012:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(12115),n=a(47204),r=a(54262),c=a(77311),o=a(9561),i=a(19293),s=a(55089),u=a(80583),m=a(79201),E=a(17386),f=a(93929),v=a(78443);function g(){return l.createElement("div",null,l.createElement(c.A,{size:20,style:{marginRight:20}}),l.createElement(o.A,{display:"inline"},"Creating SVG"))}function h(e,t){return(0,r.useLocalStorage)(`svg-${e}`,t)}function d({children:e,...t}){return l.createElement("div",null,l.createElement(i.A,{...t},e))}function y({model:e,handleClose:t}){let a=(0,r.getSession)(e),c="undefined"!=typeof OffscreenCanvas,[i,y]=(0,l.useState)(c),[b,p]=(0,l.useState)(!1),[A,k]=(0,l.useState)(),[C,S]=h("file","jbrowse.svg"),[w,N]=h("tracklabels","offset"),[T,z]=h("theme",a.themeName||"default");return l.createElement(n.Dialog,{open:!0,onClose:t,title:"Export SVG"},l.createElement(s.A,null,A?l.createElement(n.ErrorMessage,{error:A}):b?l.createElement(g,null):null,l.createElement(d,{helperText:"filename",value:C,onChange:e=>{S(e.target.value)}}),l.createElement(d,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:w,onChange:e=>{N(e.target.value)}},l.createElement(u.A,{value:"offset"},"Offset"),l.createElement(u.A,{value:"overlay"},"Overlay"),l.createElement(u.A,{value:"left"},"Left"),l.createElement(u.A,{value:"none"},"None")),a.allThemes?l.createElement(d,{select:!0,label:"Theme",variant:"outlined",value:T,onChange:e=>{z(e.target.value)}},Object.entries(a.allThemes()).map(([e,t])=>l.createElement(u.A,{key:e,value:e},t.name||"(Unknown name)"))):null,c?l.createElement(m.A,{control:l.createElement(E.A,{checked:i,onChange:()=>{y(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):l.createElement(o.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),l.createElement(f.A,null,l.createElement(v.A,{variant:"contained",color:"secondary",onClick:()=>{t()}},"Cancel"),l.createElement(v.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{p(!0),k(void 0);try{await e.exportSvg({rasterizeLayers:i,filename:C,trackLabels:w,themeName:T}),t()}catch(e){console.error(e),k(e)}finally{p(!1)}}},"Submit")))}}}]);
//# sourceMappingURL=2012.be5f6f5d3fe8e459.js.map