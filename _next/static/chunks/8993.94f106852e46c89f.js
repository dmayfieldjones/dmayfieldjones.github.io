"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8993],{38993:(e,s,n)=>{n.r(s),n.d(s,{default:()=>j});var t=n(95155),r=n(12115),l=n(47204),a=n(54262),i=n(6327),o=n(9552),c=n(43655),d=n(70625),u=n(77311),m=n(78443),g=n(67072),h=n(97771),v=n(24097),p=n(1884);let b=(0,g.observer)(function({model:e,selectedAsm:s,value:n,setValue:r,setOption:l}){let{assemblyManager:i,textSearchManager:o}=(0,a.getSession)(e),{rankSearchResults:c}=e,d=e.searchScope(s),u=i.get(s);return(0,t.jsx)(v.A,{fetchResults:e=>(0,p.Jf)({queryString:e,assembly:u,textSearchManager:o,rankSearchResults:c,searchScope:d}),model:e,assemblyName:s,value:n,minWidth:270,onChange:e=>{r(e)},onSelect:e=>{l(e)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})});var x=n(23740);let f=(0,h.makeStyles)()(e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}})),j=(0,g.observer)(function({model:e}){var s;let{classes:n}=f(),g=(0,a.getSession)(e),{assemblyNames:h,assemblyManager:v}=g,{error:p}=e,[j,y]=(0,r.useState)(h[0]),[A,S]=(0,r.useState)(),N=v.get(j),C=h.length?null==N?void 0:N.error:"No configured assemblies",k=C||p,[w,E]=(0,r.useState)(""),_=null==N?void 0:N.regions,F=!!_,R=_&&(null===(s=_[0])||void 0===s?void 0:s.refName)||"";return(0,r.useEffect)(()=>{E(R)},[R,j]),(0,t.jsxs)("div",{className:n.container,children:[k?(0,t.jsx)(l.ErrorMessage,{error:k}):null,(0,t.jsx)(o.A,{className:n.importFormContainer,children:(0,t.jsx)("form",{onSubmit:async s=>{var n;if(s.preventDefault(),e.setError(void 0),w)try{(null==A?void 0:A.getDisplayString())===w&&A.hasLocation()?await (0,x.Kd)({option:A,model:e,assemblyName:j}):(null===(n=null==A?void 0:A.results)||void 0===n?void 0:n.length)?e.setSearchResults(A.results,A.getLabel(),j):N&&await (0,x.cm)({input:w,assembly:N,model:e})}catch(e){console.error(e),g.notify(`${e}`,"warning")}},children:(0,t.jsxs)(c.A,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,t.jsx)(d.A,{children:(0,t.jsx)(l.AssemblySelector,{onChange:e=>{y(e)},localStorageKey:"lgv",session:g,selected:j})}),j?C?(0,t.jsx)(i.A,{style:{color:"red"}}):F?(0,t.jsx)(d.A,{children:(0,t.jsx)(b,{value:w,setValue:E,selectedAsm:j,setOption:S,model:e})}):(0,t.jsx)(u.A,{size:20,disableShrink:!0}):null,(0,t.jsx)(d.A,{children:(0,t.jsx)(m.A,{type:"submit",disabled:!w,className:n.button,variant:"contained",color:"primary",children:"Open"})}),(0,t.jsx)(d.A,{children:(0,t.jsx)(m.A,{disabled:!w,className:n.button,onClick:()=>{e.setError(void 0),e.showAllRegionsInAssembly(j)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})})})]})})}}]);
//# sourceMappingURL=8993.94f106852e46c89f.js.map