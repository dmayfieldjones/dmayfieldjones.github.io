"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2485],{92485:(e,n,l)=>{l.r(n),l.d(n,{default:()=>y});var a=l(95155),s=l(12115),r=l(94029),t=l(15715),i=l(62516),o=l(9670),c=l(95946),u=l(64150),h=l(2360),d=l(54102),f=l(59886),v=l(96358),x=l(66292);function j(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(i.A,{size:20,style:{marginRight:20}}),(0,a.jsx)(o.A,{display:"inline",children:"Creating SVG"})]})}function g(e,n){return(0,t.useLocalStorage)(`svg-${e}`,n)}function m({children:e,...n}){return(0,a.jsx)("div",{children:(0,a.jsx)(c.A,{...n,children:e})})}function y({model:e,handleClose:n}){let l=(0,t.getSession)(e),i="undefined"!=typeof OffscreenCanvas,[c,y]=(0,s.useState)(i),[b,p]=(0,s.useState)(!1),[A,C]=(0,s.useState)(),[k,S]=g("file","jbrowse.svg"),[w,N]=g("tracklabels","offset"),[T,z]=g("theme",l.themeName||"default");return(0,a.jsxs)(r.Dialog,{open:!0,onClose:n,title:"Export SVG",children:[(0,a.jsxs)(u.A,{children:[A?(0,a.jsx)(r.ErrorMessage,{error:A}):b?(0,a.jsx)(j,{}):null,(0,a.jsx)(m,{helperText:"filename",value:k,onChange:e=>{S(e.target.value)}}),(0,a.jsxs)(m,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:w,onChange:e=>{N(e.target.value)},children:[(0,a.jsx)(h.A,{value:"offset",children:"Offset"}),(0,a.jsx)(h.A,{value:"overlay",children:"Overlay"}),(0,a.jsx)(h.A,{value:"left",children:"Left"}),(0,a.jsx)(h.A,{value:"none",children:"None"})]}),l.allThemes?(0,a.jsx)(m,{select:!0,label:"Theme",variant:"outlined",value:T,onChange:e=>{z(e.target.value)},children:Object.entries(l.allThemes()).map(([e,n])=>(0,a.jsx)(h.A,{value:e,children:n.name||"(Unknown name)"},e))}):null,i?(0,a.jsx)(d.A,{control:(0,a.jsx)(f.A,{checked:c,onChange:()=>{y(e=>!e)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):(0,a.jsx)(o.A,{children:"Note: rasterizing layers not yet supported in this browser, so SVG size may be large"})]}),(0,a.jsxs)(v.A,{children:[(0,a.jsx)(x.A,{variant:"contained",color:"secondary",onClick:()=>{n()},children:"Cancel"}),(0,a.jsx)(x.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{p(!0),C(void 0);try{await e.exportSvg({rasterizeLayers:c,filename:k,trackLabels:w,themeName:T}),n()}catch(e){console.error(e),C(e)}finally{p(!1)}},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=2485.672297de6a3272ea.js.map