"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8638],{8638:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var l=t(95155),r=t(12115),n=t(47204),i=t(19293),s=t(55089),d=t(9561),o=t(28254),c=t(20109),p=t(93929),u=t(78443),h=t(67072);let g=(0,t(97771).makeStyles)()(e=>({paper:{padding:e.spacing(2),margin:e.spacing(2)},field:{margin:e.spacing(2)}})),m=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function v(e){let{flag:a=0,setFlag:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{type:"number",value:a,onChange:e=>{t(+e.target.value)}}),m.map((e,r)=>{let n=a&1<<r,i=`${e}_${n}`;return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"checkbox",checked:!!n,onChange:e=>{e.target.checked?t(a|1<<r):t(a&~(1<<r))}}),(0,l.jsx)("label",{htmlFor:i,children:e})]},i)})]})}let x=(0,h.observer)(function(e){var a,t;let{model:h,handleClose:m}=e,{classes:x}=g(),{filterBy:f}=h,[j,A]=(0,r.useState)(f.flagInclude),[y,b]=(0,r.useState)(f.flagExclude),[k,C]=(0,r.useState)((null===(a=f.tagFilter)||void 0===a?void 0:a.tag)||""),[F,N]=(0,r.useState)((null===(t=f.tagFilter)||void 0===t?void 0:t.value)||""),[S,E]=(0,r.useState)(f.readName||""),R=/^[A-Za-z][A-Za-z0-9]$/.exec(k),_="https://broadinstitute.github.io/picard/explain-flags.html";return(0,l.jsx)(n.Dialog,{open:!0,onClose:m,title:"Filter options",children:(0,l.jsxs)(s.A,{children:[(0,l.jsxs)(d.A,{children:["Set filter bitmask options. Refer to ",(0,l.jsx)(o.A,{href:_,children:_})," ","for details"]}),(0,l.jsx)(c.A,{className:x.paper,variant:"outlined",children:(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(d.A,{children:"Read must have ALL these flags"}),(0,l.jsx)(v,{flag:j,setFlag:A})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.A,{children:"Read must have NONE of these flags"}),(0,l.jsx)(v,{flag:y,setFlag:b})]})]})}),(0,l.jsxs)(c.A,{className:x.paper,variant:"outlined",children:[(0,l.jsx)(d.A,{children:"Filter by tag name and value. Use * in the value field to get all reads containing any value for that tag. Example: filter tag name SA with value * to get all split/supplementary reads. Other examples include HP for haplotype, or RG for read group"}),(0,l.jsx)(i.A,{className:x.field,value:k,onChange:e=>{C(e.target.value)},placeholder:"Enter tag name",error:2===k.length&&!R,helperText:2!==k.length||R?"":"Not a valid tag",slotProps:{htmlInput:{maxLength:2}}}),(0,l.jsx)(i.A,{className:x.field,value:F,onChange:e=>{N(e.target.value)},placeholder:"Enter tag value"})]}),(0,l.jsxs)(c.A,{className:x.paper,variant:"outlined",children:[(0,l.jsx)(d.A,{children:"Filter by read name"}),(0,l.jsx)(i.A,{className:x.field,value:S,onChange:e=>{E(e.target.value)},placeholder:"Enter read name"})]}),(0,l.jsxs)(p.A,{children:[(0,l.jsx)(u.A,{variant:"contained",color:"primary",autoFocus:!0,type:"submit",onClick:()=>{h.setFilterBy({flagInclude:j,flagExclude:y,readName:S,tagFilter:""!==k?{tag:k,value:F}:void 0}),m()},children:"Submit"}),(0,l.jsx)(u.A,{variant:"contained",color:"secondary",onClick:()=>{m()},children:"Cancel"})]})]})})})}}]);
//# sourceMappingURL=8638.0584e01ca844e587.js.map