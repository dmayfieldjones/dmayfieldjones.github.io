"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4263],{43909:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(95155),l=n(12115),o=n(88753),s=n(15715),i=n(19468),a=n(33989);function d(e,t){var n,r,l,o;let s,i=t?(0,a.h)(t):void 0,d=e.get("start"),u=e.get("end"),c=e.get("strand"),g=e.get("mate"),f=e.get("refName"),m=0,h=0,x=0,v=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some(e=>null==t?void 0:t.startsWith(e))){let t=e.get("INFO"),i=null!=(r=null==(n=null==t?void 0:t.END)?void 0:n[0])?r:u;s=null!=(o=null==(l=null==t?void 0:t.CHR2)?void 0:l[0])?o:f,m=i,h=i-1,u=d+1}else if(null==i?void 0:i.MatePosition){let e=i.MatePosition.split(":");v="left"===i.MateDirection?1:-1,x="left"===i.Join?-1:1,m=+e[1],h=e[1]-1,s=e[0]}return{k1:{refName:f,start:d,end:u,strand:c,mateDirection:v},k2:null!=g?g:{refName:s||"unknown",end:m,start:h,mateDirection:x}}}let u=(0,l.lazy)(()=>n.e(5620).then(n.bind(n,65620))),c=(0,i.observer)(function({model:e,feature:t,alt:n,assembly:i,view:a}){var c,g;let[f,m]=(0,l.useState)(!1),{height:h}=e,{k1:x,k2:v}=d(t,n),p=(0,l.useRef)(null),b=(0,o.getConf)(e,"color",{feature:t,alt:n}),k=i.getCanonicalRefName(x.refName)||x.refName,j=i.getCanonicalRefName(v.refName)||v.refName,N=x.start,C=v.start,M=null==(c=a.bpToPx({refName:k,coord:N}))?void 0:c.offsetPx,A=null==(g=a.bpToPx({refName:j,coord:C}))?void 0:g.offsetPx;if(void 0!==M&&void 0!==A){let o=Math.abs((A-M)/2),i=Math.min(h,o),c=M-a.offsetPx,g=A-a.offsetPx,k=f?"black":b;return o>1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:`M ${c} 0 C ${c} ${i}, ${g} ${i}, ${g} 0`,ref:p,...(0,s.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},fill:"none",pointerEvents:"stroke"}),x.mateDirection?(0,r.jsx)("line",{...(0,s.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},x1:c,x2:c+20*x.mateDirection,y1:1.5,y2:1.5}):null,v.mateDirection?(0,r.jsx)("line",{...(0,s.getStrokeProps)(k),strokeWidth:3,onMouseOut:()=>{m(!1)},onMouseOver:()=>{m(!0)},onClick:()=>{e.selectFeature(t)},x1:g,x2:g+20*v.mateDirection,y1:1.5,y2:1.5}):null,f?(0,r.jsx)(l.Suspense,{fallback:null,children:(0,r.jsx)(u,{contents:function(e,t){var n;let{k1:r,k2:l}=d(e,t);return[e.get("name"),e.get("id"),(0,s.assembleLocString)(r),(0,s.assembleLocString)(l),null==(n=e.get("INFO"))?void 0:n.SVTYPE,t].filter(e=>!!e).join("<br/>")}(t,n)})}):null]}):null}return null}),g=(0,i.observer)(function({model:e,exportSVG:t,children:n}){let{height:l}=e,o=Math.round((0,s.getContainingView)(e).dynamicBlocks.totalWidthPx);return t?n:(0,r.jsx)("svg",{width:o,height:l,children:n})}),f=(0,i.observer)(function({model:e,exportSVG:t}){let n=(0,s.getContainingView)(e),l=(0,s.getSession)(e),{assemblyManager:o}=l,{features:i}=e,a=o.get(n.assemblyNames[0]);return a?(0,r.jsx)(g,{model:e,exportSVG:t,children:null==i?void 0:i.map(t=>{var o;let s=t.get("ALT");return null!=(o=null==s?void 0:s.map(o=>(0,r.jsx)(c,{session:l,feature:t,alt:o,view:n,model:e,assembly:a},`${t.id()}-${o}`)))?o:(0,r.jsx)(c,{session:l,feature:t,view:n,model:e,assembly:a},t.id())})}):null})},44263:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(95155),l=n(19468),o=n(43909),s=n(12115),i=n(94029),a=n(15715),d=n(83452),u=n(65667),c=n(72886),g=n(78822),f=n(53494),m=n(74100);let h=(0,s.lazy)(()=>Promise.resolve().then(n.t.bind(n,54019,23))),x=(0,m.makeStyles)()(e=>({loading:{backgroundColor:e.palette.background.default,backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 5px, ${e.palette.action.disabledBackground} 5px, ${e.palette.action.disabledBackground} 10px)`,position:"absolute",bottom:0,height:50,width:300,right:0,pointerEvents:"none",textAlign:"center"}})),v=(0,l.observer)(function({model:e,children:t}){let{error:n,regionTooLarge:l}=e;return n?(0,r.jsx)(d.LW,{message:`${n}`,severity:"error",action:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{title:"Reload",children:(0,r.jsx)(f.A,{"data-testid":"reload_button",onClick:()=>{e.reload()},children:(0,r.jsx)(u.A,{})})}),(0,r.jsx)(g.A,{title:"Show stack trace",children:(0,r.jsx)(f.A,{onClick:()=>{(0,a.getSession)(e).queueDialog(t=>[h,{onClose:t,error:e.error}])},children:(0,r.jsx)(c.A,{})})})]})}):l?e.regionCannotBeRendered():(0,r.jsx)(p,{model:e,children:t})}),p=(0,l.observer)(function({model:e,children:t}){let{loading:n}=e;return(0,r.jsxs)("div",{children:[t,n?(0,r.jsx)(b,{model:e}):null]})}),b=(0,l.observer)(function({model:e}){let{classes:t}=x(),{message:n}=e;return(0,r.jsx)("div",{className:t.loading,children:(0,r.jsx)(i.LoadingEllipses,{message:n})})}),k=(0,l.observer)(function({model:e,exportSVG:t}){return(0,r.jsx)(v,{model:e,children:(0,r.jsx)(o.A,{model:e,exportSVG:t})})})},65667:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(76856),l=n(95155);let o=(0,r.A)((0,l.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},72886:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(76856),l=n(95155);let o=(0,r.A)((0,l.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report")}}]);
//# sourceMappingURL=4263.ff24390806b05434.js.map